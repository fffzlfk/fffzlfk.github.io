<!doctype html><html lang=en dir=auto>
<head>
<meta name=generator content="Hugo 0.92.2"><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>fffzlfk's Blog</title>
<meta name=keywords content="Blog,Portfolio,PaperMod">
<meta name=description content="Thinking will not overcome fear but action will.">
<meta name=author content="fffzlfk">
<link rel=canonical href=https://fffzlfk.github.io/>
<meta name=google-site-verification content="XYZabc">
<meta name=yandex-verification content="XYZabc">
<meta name=msvalidate.01 content="XYZabc">
<link crossorigin=anonymous href=/assets/css/stylesheet.min.1e44d58192cbf6d7a4eb649bc43dbc3d4cc432677e5d8adc69b08c34cbe461ac.css integrity="sha256-HkTVgZLL9tek62SbxD28PUzEMmd+XYrcabCMNMvkYaw=" rel="preload stylesheet" as=style>
<link rel=icon href=https://fffzlfk.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=16x16 href=https://fffzlfk.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=32x32 href=https://fffzlfk.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=apple-touch-icon href=https://fffzlfk.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=mask-icon href=https://fffzlfk.github.io/%3Clink%20/%20abs%20url%3E>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<link rel=alternate type=application/rss+xml href=https://fffzlfk.github.io/index.xml>
<link rel=alternate type=application/json href=https://fffzlfk.github.io/index.json>
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script>
<script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']]},svg:{fontCache:'global'}}</script>
<script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YMYDYG1JEZ"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-YMYDYG1JEZ')</script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-123-45','auto'),ga('send','pageview'))</script><meta property="og:title" content="fffzlfk's Blog">
<meta property="og:description" content="Thinking will not overcome fear but action will.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://fffzlfk.github.io/"><meta property="og:site_name" content="fffzlfk's Blog">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="fffzlfk's Blog">
<meta name=twitter:description content="Thinking will not overcome fear but action will.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"fffzlfk's Blog","url":"https://fffzlfk.github.io","description":"Thinking will not overcome fear but action will.","thumbnailUrl":"https://fffzlfk.github.io/%3Clink%20/%20abs%20url%3E","sameAs":["https://github.com/fffzlfk"]}</script>
</head>
<body class=list id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://fffzlfk.github.io accesskey=h title="Home (Alt + H)">Home</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://fffzlfk.github.io/archives title=Archive>
<span>Archive</span>
</a>
</li>
<li>
<a href=https://fffzlfk.github.io/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
<li>
<a href=https://fffzlfk.github.io/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class="first-entry home-info">
<header class=entry-header>
<h1>Hi there ğŸ‘‹</h1>
</header>
<section class=entry-content>
<p>Welcome to fffzlfk&rsquo;s blog</p>
</section>
<footer class=entry-footer>
<div class=social-icons>
<a href=https://github.com/fffzlfk target=_blank rel="noopener noreferrer me" title=Github><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a>
</div>
</footer>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>C++ å®Œç¾è½¬å‘
</h2>
</header>
<section class=entry-content>
<p>ä¸ºä»€ä¹ˆè¦æœ‰å®Œç¾è½¬å‘ ä¸‹é¢æ˜¯ä¸€ä¸ªç±»å·¥å‚å‡½æ•°ï¼š
1 2 3 4 template &lt;typename T, typename Arg> std::shared_ptr&lt;T> factory(Arg arg) { return std::shared_ptr&lt;T>( new T(arg)); } å‚æ•°å¯¹è±¡argåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­æ˜¯ä¼ å€¼æ–¹å¼ä¼ é€’ï¼Œè¿™å¸¦æ¥äº†ç”Ÿæˆé¢å¤–ä¸´æ—¶å¯¹è±¡1çš„ä»£ä»·ï¼Œæ‰€ä»¥æˆ‘ä»¬æ”¹æˆå¼•ç”¨ä¼ é€’ï¼š
1 2 3 4 template &lt;typename T, typename Arg> std::shared_ptr&lt;T> factory(Arg &arg) { return std::shared_ptr&lt;T>( new T(arg)); } ä½†è¿™ç§å®ç°çš„é—®é¢˜æ˜¯ä¸èƒ½ç»‘å®šå³å€¼å®å‚ã€‚å¦‚factory&lt;X>(42)å°†ç¼–è¯‘æŠ¥é”™ï¼Œè¿›ä¸€æ­¥çš„ï¼Œæˆ‘ä»¬æŒ‰å¸¸é‡å¼•ç”¨æ¥ä¼ é€’ï¼š
1 2 3 4 template &lt;typename T, typename Arg> std::shared_ptr&lt;T> factory(const Arg &arg) { return std::shared_ptr&lt;T>( new T(arg)); } è¿™ç§å®ç°çš„é—®é¢˜æ˜¯ä¸èƒ½æ”¯æŒç§»åŠ¨è¯­ä¹‰ï¼Œå½¢å‚ä½¿ç”¨å³å€¼å¼•ç”¨å¯ä»¥è§£å†³å®Œç¾è½¬å‘é—®é¢˜ã€‚
å¼•ç”¨æŠ˜å  åœ¨C++11ä¹‹å‰ï¼Œæˆ‘ä»¬ä¸èƒ½å¯¹ä¸€ä¸ªå¼•ç”¨ç±»å‹ç»§ç»­å¼•ç”¨ï¼Œä½†C++ç”±äºå³å€¼å¼•ç”¨çš„å‡ºç°è€Œæ”¾å®½2äº†è¿™ä¸€åšæ³•ï¼Œä»è€Œäº§ç”Ÿäº†å¼•ç”¨æŠ˜å è§„åˆ™ï¼Œå…è®¸æˆ‘ä»¬å¯¹å¼•ç”¨è¿›è¡Œå¼•ç”¨ï¼Œæ—¢èƒ½å·¦å¼•ç”¨ï¼Œåˆèƒ½å³å¼•ç”¨ã€‚ä½†æ˜¯å´éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š...</p>
</section>
<footer class=entry-footer><span title="2022-02-05 14:10:47 +0800 +0800">February 5, 2022</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;fffzlfk</footer>
<a class=entry-link aria-label="post link to C++ å®Œç¾è½¬å‘" href=https://fffzlfk.github.io/posts/c++_%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Cuda ç¼–ç¨‹æ¨¡å‹
</h2>
</header>
<section class=entry-content>
<p>Kernels CUDA C++å¯¹C++è¿›è¡Œäº†æ‰©å±•ï¼Œå…è®¸ç¨‹åºå‘˜å®šä¹‰C++å‡½æ•°ï¼Œç§°ä¸ºå†…æ ¸ï¼Œå½“è¢«è°ƒç”¨æ—¶ï¼Œç”± $N$ ä¸ªä¸åŒçš„CUDAçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œ $N$ æ¬¡ï¼Œè€Œä¸æ˜¯åƒæ™®é€šC++å‡½æ•°é‚£æ ·åªæ‰§è¡Œä¸€æ¬¡ã€‚
kernelæ˜¯ä½¿ç”¨__global__å£°æ˜å®šä¹‰çš„ï¼Œå¯¹äºç‰¹å®šçš„å†…æ ¸è°ƒç”¨ï¼Œæ‰§è¡Œè¯¥å†…æ ¸çš„CUDAçº¿ç¨‹æ•°é‡æ˜¯ä½¿ç”¨&lt;&lt;&lt;...>>>æ‰§è¡Œé…ç½®è¯­æ³•æŒ‡å®šçš„ï¼ˆC++è¯­è¨€æ‰©å±•ï¼‰ã€‚æ¯ä¸ªæ‰§è¡Œå†…æ ¸çš„çº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„çº¿ç¨‹IDï¼Œå¯ä»¥åœ¨å†…æ ¸å†…é€šè¿‡å†…ç½®å˜é‡è®¿é—®ã€‚
ä½œä¸ºè¯´æ˜ï¼Œä¸‹é¢çš„ç¤ºä¾‹ä»£ç ï¼Œä½¿ç”¨å†…ç½®å˜é‡threadIdxï¼Œå°†ä¸¤ä¸ªå¤§å°ä¸º $N$ çš„å‘é‡ $A$ å’Œ $B$ ç›¸åŠ ï¼Œå¹¶å°†ç»“æœå­˜å…¥å‘é‡ $C$ ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 // Kernel definition __global__ void VecAdd(float* A, float* B, float* C) { int i = threadIdx.x; C[i] = A[i] + B[i]; } int main() { ... // Kernel invocation with N threads VecAdd&lt;&lt;&lt;1, N>>>(A, B, C); ... } åœ¨è¿™é‡Œï¼Œæ‰§è¡ŒVecAdd()çš„ $N$ ä¸ªçº¿ç¨‹ä¸­çš„æ¯ä¸€ä¸ªéƒ½æ‰§è¡Œäº†ä¸€æ¬¡åŠ æ³•ã€‚...</p>
</section>
<footer class=entry-footer><span title="2022-01-19 12:55:19 +0800 +0800">January 19, 2022</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;fffzlfk</footer>
<a class=entry-link aria-label="post link to Cuda ç¼–ç¨‹æ¨¡å‹" href=https://fffzlfk.github.io/posts/cuda_%E7%BC%96%E7%A8%8B%E6%A8%A1%E5%9E%8B/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Cuda ç¡¬ä»¶å®ç°
</h2>
</header>
<section class=entry-content>
<p>ä¸€ç»„å¸¦æœ‰ on-chip å…±äº«å†…å­˜çš„ SIMD å¤šå¤„ç†å™¨ è®¾å¤‡å¯ä»¥è¢«çœ‹ä½œä¸€ç»„å¤šå¤„ç†å™¨ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚æ¯ä¸ªå¤šå¤„ç†å™¨ä½¿ç”¨å•æŒ‡ä»¤å¤šæ•°æ®(SIMD)æ¶æ„ï¼šåœ¨ä»»ä½•ç»™å®šçš„æ—¶é’Ÿå‘¨æœŸå†…ï¼Œå¤šå¤„ç†å™¨çš„æ¯ä¸ªå¤„ç†å™¨æ‰§è¡ŒåŒä¸€æŒ‡ä»¤ï¼Œä½†æ“ä½œä¸åŒçš„æ•°æ®ã€‚
æ¯ä¸ªå¤šå¤„ç†å™¨ä½¿ç”¨å››ä¸ªä»¥ä¸‹ç±»å‹çš„on-chipå†…å­˜ï¼š
æ¯ä¸ªå¤„ç†å™¨ä¸€ç»„ $32$ ä½å¯„å­˜å™¨ å¹¶è¡Œæ•°æ®ç¼“å­˜æˆ–å…±äº«å†…å­˜ï¼Œè¢«æ‰€æœ‰å¤„ç†å™¨å…±äº«å®ç°å†…å­˜ç©ºé—´å…±äº« é€šè¿‡è®¾å¤‡å†…å­˜çš„ä¸€ä¸ªåªè¯»åŒºåŸŸï¼Œä¸€ä¸ªåªè¯»å¸¸é‡ç¼“å­˜å™¨è¢«æ‰€æœ‰å¤„ç†å™¨å…±äº« é€šè¿‡è®¾å¤‡å†…å­˜çš„ä¸€ä¸ªåªè¯»åŒºåŸŸï¼Œä¸€ä¸ªåªè¯»çº¹ç†ç¼“å­˜å™¨è¢«æ‰€æœ‰å¤„ç†å™¨å…±äº« æœ¬åœ°å’Œå…¨å±€å†…å­˜ç©ºé—´ä½œä¸ºè®¾å¤‡å†…å­˜çš„è¯»å†™åŒºåŸŸï¼Œè€Œä¸è¢«ç¼“å†²ã€‚ æ¯ä¸ªå¤šå¤„ç†å™¨é€šè¿‡çº¹ç†å•å…ƒè®¿é—®çº¹ç†ç¼“å†²å™¨ï¼Œå®ƒæ‰§è¡Œå„ç§å„æ ·çš„å¯»å€æ¨¡å¼å’Œæ•°æ®è¿‡æ»¤ã€‚
æ‰§è¡Œæ¨¡å¼ ä¸€ä¸ªçº¿ç¨‹å—ç½‘æ ¼æ˜¯é€šè¿‡å¤šå¤„ç†å™¨è§„åˆ’æ‰§è¡Œçš„ã€‚æ¯ä¸ªå¤šå¤„ç†å™¨ä¸€ä¸ªæ¥ä¸€ä¸ªçš„å¤„ç†å—æ‰¹å¤„ç†ã€‚ä¸€ä¸ªå—åªè¢«ä¸€ä¸ªå¤šå¤„ç†å™¨å¤„ç†ï¼Œå› æ­¤å¯ä»¥å¯¹é©»ç•™åœ¨on-chipå…±äº«å†…å­˜çš„å…±äº«å†…å­˜ç©ºé—´å½¢æˆéå¸¸å¿«é€Ÿçš„è®¿é—®ã€‚
ä¸€ä¸ªæ‰¹å¤„ç†ä¸­æ¯ä¸ªå¤šå¤„ç†å™¨å¯ä»¥å¤„ç†å¤šå°‘ä¸ªå—ï¼Œå–å†³äºæ¯ä¸ªçº¿ç¨‹ä¸­åˆ†é…äº†å¤šå°‘ä¸ªå¯„å­˜å™¨å’Œå·²çŸ¥å†…æ ¸ä¸­æ¯ä¸ªæ—¶é’Ÿéœ€è¦å¤šå°‘çš„å…±äº«å†…å­˜ï¼Œå› ä¸ºå¤šå¤„ç†å™¨çš„å¯„å­˜å™¨å’Œå†…å­˜åœ¨æ‰€æœ‰çš„çº¿ç¨‹ä¸­æ˜¯åˆ†å¼€çš„ã€‚å¦‚æœåœ¨è‡³å°‘ä¸€ä¸ªå—ä¸­ï¼Œæ¯ä¸ªå¤šå¤„ç†å™¨æ²¡æœ‰è¶³å¤Ÿé«˜çš„å¯„å­˜å™¨æˆ–å…±äº«å†…å­˜ç”¨ï¼Œé‚£ä¹ˆå†…æ ¸å°†æ— æ³•å¯åŠ¨ã€‚
çº¿ç¨‹å—åœ¨ä¸€ä¸ªæ‰¹å¤„ç†ä¸­è¢«ä¸€ä¸ªå¤šå¤„ç†å™¨æ‰§è¡Œï¼Œè¢«ç§°ä¸ºactiveï¼Œæ¯ä¸ªactiveå—è¢«åˆ’åˆ†æˆSIMDçº¿ç¨‹ç»„ï¼Œè¢«ç§°ä¸ºwarpsï¼›æ¯ä¸€æ¡è¿™æ ·çš„warpåŒ…å«æ•°é‡ç›¸åŒçš„çº¿ç¨‹ï¼Œå«åšwarpå¤§å°ï¼Œå¹¶ä¸”åœ¨SIMDçš„æ–¹å¼ä¸‹é€šè¿‡å¤šå¤„ç†å™¨æ‰§è¡Œï¼Œæ‰§è¡Œè°ƒåº¦ç¨‹åºå‘¨æœŸæ€§åœ°ä»ä¸€æ¡warpåˆ‡æ¢åˆ°å¦ä¸€æ¡warpï¼Œä»¥è¾¾åˆ°å¤šå¤„ç†å™¨è®¡ç®—èµ„æºä½¿ç”¨çš„æœ€å¤§åŒ–ã€‚
å—è¢«åˆ’åˆ†æˆwarpçš„æ–¹å¼æ€»æ˜¯ç›¸åŒçš„ï¼›æ¯æ¡warpåŒ…å«è¿ç»­çš„çº¿ç¨‹ï¼Œçº¿ç¨‹ç´¢å¼•ä»ç¬¬ä¸€ä¸ªwarpåŒ…å«ç€çš„çº¿ç¨‹ 0 å¼€å§‹é€’å¢ã€‚
ä¸€ä¸ªå¤šå¤„ç†å™¨å¯ä»¥å¹¶å‘åœ°å¤„ç†å‡ ä¸ªå—ï¼Œé€šè¿‡åˆ’åˆ†åœ¨å®ƒä»¬ä¹‹ä¸­çš„å¯„å­˜å™¨å’Œå…±äº«å†…å­˜ã€‚æ›´å‡†ç¡®åœ°è¯´ï¼Œæ¯æ¡çº¿ç¨‹å¯ä½¿ç”¨çš„å¯„å­˜å™¨æ•°é‡ï¼Œç­‰äºæ¯ä¸ªå¤šå¤„ç†å™¨å¯„å­˜å™¨æ€»æ•°é™¤ä»¥å¹¶å‘çš„çº¿ç¨‹æ•°é‡ï¼Œå¹¶å‘çº¿ç¨‹çš„æ•°é‡ç­‰äºå¹¶å‘å—çš„æ•°é‡ä¹˜ä»¥æ¯å—çº¿ç¨‹çš„æ•°é‡ã€‚
åœ¨ä¸€ä¸ªçº¿ç¨‹å—ç½‘æ ¼å†…çš„å—æ¬¡åºæ˜¯æœªå®šä¹‰çš„ï¼Œå¹¶ä¸”åœ¨å—ä¹‹é—´ä¸å­˜åœ¨åŒæ­¥æœºåˆ¶ï¼Œå› æ­¤æ¥è‡ªåŒä¸€ä¸ªç½‘æ ¼çš„ä¸¤ä¸ªä¸åŒå—çš„çº¿ç¨‹ä¸èƒ½é€šè¿‡å…¨å±€å†…å­˜å½¼æ­¤å®‰å…¨åœ°é€šè®¯ã€‚
è®¡ç®—å…¼å®¹æ€§ è®¾å¤‡çš„å…¼å®¹æ€§ç”±ä¸¤ä¸ªå‚æ•°å®šä¹‰ï¼Œä¸»è¦ç‰ˆæœ¬å·å’Œæ¬¡è¦ç‰ˆæœ¬å·ã€‚è®¾å¤‡æ‹¥æœ‰çš„ä¸»è¦ç‰ˆæœ¬å·ä»£è¡¨ç›¸åŒçš„æ ¸å¿ƒæ¶æ„ã€‚
æ¬¡è¦ç‰ˆæœ¬å·ä»£è¡¨ä¸€äº›æ”¹è¿›çš„æ ¸å¿ƒæ¶æ„ã€‚æ¯”å¦‚æ–°çš„ç‰¹æ€§ã€‚
å¤šè®¾å¤‡ ä¸ºä¸€ä¸ªåº”ç”¨ç¨‹åºä½¿ç”¨å¤šGPUä½œä¸ºCUDAè®¾å¤‡ï¼Œå¿…é¡»ä¿è¯è¿™äº›CPUæ˜¯ä¸€æ ·çš„ç±»å‹ã€‚å¦‚æœç³»ç»Ÿå·¥ä½œåœ¨SLI æ¨¡å¼ä¸‹ï¼Œé‚£ä¹ˆåªæœ‰ä¸€ä¸ªGPUå¯ä»¥ä½œä¸ºCUDAè®¾å¤‡ï¼Œç”±äºæ‰€æœ‰çš„GPUåœ¨é©±åŠ¨å †æ ˆä¸­è¢«åº•å±‚çš„èåˆäº†ã€‚SLI æ¨¡å¼éœ€è¦åœ¨æ§åˆ¶é¢æ¿ä¸­å…³é—­,è¿™æ ·æ‰èƒ½ä½¿å¤šä¸ªGPUä½œä¸ºCUDAè®¾å¤‡</p>
</section>
<footer class=entry-footer><span title="2022-01-18 15:31:10 +0800 +0800">January 18, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;fffzlfk</footer>
<a class=entry-link aria-label="post link to Cuda ç¡¬ä»¶å®ç°" href=https://fffzlfk.github.io/posts/cuda_%E7%A1%AC%E4%BB%B6%E5%AE%9E%E7%8E%B0/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>OpenCV Canny Detector
</h2>
</header>
<section class=entry-content>
<p>ç†è®º Cannyè¾¹ç¼˜æ£€æµ‹æ˜¯ç”±John F. Cannyåœ¨1986å¹´å¼€å‘çš„ã€‚è®¸å¤šäººä¹Ÿå°†å…¶ç§°ä¸ºæœ€ä½³æ£€æµ‹å™¨ï¼ŒCannyç®—æ³•æ—¨åœ¨æ»¡è¶³ä¸‰ä¸ªä¸»è¦æ ‡å‡†ã€‚
å¥½çš„æ£€æµ‹ï¼šç®—æ³•èƒ½å¤Ÿå°½å¯èƒ½å¤šåœ°æ ‡è¯†å‡ºå›¾åƒä¸­çš„å®é™…è¾¹ç¼˜ã€‚ å¥½çš„å®šä½ï¼šæ ‡è¯†å‡ºçš„è¾¹ç¼˜è¦ä¸å®é™…å›¾åƒä¸­çš„å®é™…è¾¹ç¼˜å°½å¯èƒ½æ¥è¿‘ã€‚ æœ€å°å“åº”ï¼šå›¾åƒä¸­çš„è¾¹ç¼˜åªèƒ½æ ‡è¯†ä¸€æ¬¡ï¼Œå¹¶ä¸”å¯èƒ½å­˜åœ¨çš„å›¾åƒé›œè¨Šä¸åº”æ ‡è¯†ä¸ºè¾¹ç¼˜ã€‚ æ­¥éª¤ é™å™ªï¼šä½¿ç”¨é«˜æ–¯æ»¤æ³¢æ¥è¾¾åˆ°ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå¤§å°ä¸º $5$ çš„é«˜æ–¯æ ¸çš„ä¾‹å­ï¼š $$ K = \frac{1}{159}\begin{bmatrix} 2 & 4 & 5 & 4 & 2\ 4 & 9 & 12 & 9 & 4\ 5 & 12 & 15 & 12 & 5\ 4 & 9 & 12 & 9 & 4\ 2 & 4 & 5 & 4 & 2 \end{bmatrix} $$
æ‰¾åˆ°å›¾åƒçš„äº®åº¦æ¢¯åº¦ï¼šä¸ºæ­¤ï¼Œæˆ‘ä»¬éµå¾ªä¸€ä¸ªç±»ä¼¼äºSobelçš„ç¨‹åºï¼š
åº”ç”¨ä¸€å¯¹å·ç§¯masksï¼ˆåœ¨ $x$ å’Œ $y$ æ–¹å‘ä¸Šï¼‰ï¼š $$ G_x = \begin{bmatrix} -1 & 0 & +1\ -2 & 0 & +2\ -1 & 0 & +1 \end{bmatrix}, G_y=\begin{bmatrix} -1 & -2 & -1\ 0 & 0 & 0\ +1 & +2 & +1 \end{bmatrix} $$ å¯»æ‰¾æ¢¯åº¦å¼ºåº¦å’Œæ–¹å‘ï¼š $$ G=\sqrt{G_x^2+G_y^2}\ \theta = \arctan(\frac{G_y}{G_x}) $$ æ–¹å‘è¢«å››èˆäº”å…¥ä¸ºå››ä¸ªå¯èƒ½çš„è§’åº¦ä¹‹ä¸€ï¼ˆå³ $0\degree$ ã€ $45\degree$ ã€ $90\degree$ æˆ– $135\degree$ ï¼‰ã€‚ è¿‡æ»¤éæœ€å¤§å€¼ï¼šåœ¨é«˜æ–¯æ»¤æ³¢è¿‡ç¨‹ä¸­ï¼Œè¾¹ç¼˜æœ‰å¯èƒ½è¢«æ”¾å¤§äº†ã€‚è¿™ä¸ªæ­¥éª¤ä½¿ç”¨ä¸€ä¸ªè§„åˆ™æ¥è¿‡æ»¤ä¸æ˜¯è¾¹ç¼˜çš„ç‚¹ï¼Œä½¿è¾¹ç¼˜çš„å®½åº¦å°½å¯èƒ½ä¸º1ä¸ªåƒç´ ç‚¹ï¼šå¦‚æœä¸€ä¸ªåƒç´ ç‚¹å±äºè¾¹ç¼˜ï¼Œé‚£ä¹ˆè¿™ä¸ªåƒç´ ç‚¹åœ¨æ¢¯åº¦æ–¹å‘ä¸Šçš„æ¢¯åº¦å€¼æ˜¯æœ€å¤§çš„ã€‚å¦åˆ™ä¸æ˜¯è¾¹ç¼˜ï¼Œå°†ç°åº¦å€¼è®¾ä¸º $0$ ã€‚ $$ M_T(m, n) = \begin{cases} M(m, n)& \text{if } M(m, n) \lt T\ 0 & \text{otherwise} \end{cases} $$...</p>
</section>
<footer class=entry-footer><span title="2022-01-17 11:35:18 +0800 +0800">January 17, 2022</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;fffzlfk</footer>
<a class=entry-link aria-label="post link to OpenCV Canny Detector" href=https://fffzlfk.github.io/posts/opencv_canny_detector/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>OpenCV Laplace Operator
</h2>
</header>
<section class=entry-content>
<p>ç†è®º åœ¨ä¹‹å‰çš„æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨Sobelç®—å­ã€‚å®ƒæ˜¯åŸºäºè¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå³åœ¨è¾¹ç¼˜åŒºåŸŸï¼Œåƒç´ å¼ºåº¦æ˜¾ç¤ºäº†ä¸€ä¸ª â€œè·³è·ƒ"æˆ–å¼ºåº¦çš„é«˜å˜åŒ–ã€‚å¾—åˆ°å¼ºåº¦çš„ä¸€é˜¶å¯¼æ•°ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°è¾¹ç¼˜çš„ç‰¹å¾æ˜¯ä¸€ä¸ªæœ€å¤§å€¼ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š é‚£ä¹ˆï¼Œå¦‚æœæˆ‘ä»¬å–äºŒé˜¶å¯¼æ•°ä¼šæ€æ ·ï¼Ÿ ä½ å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œè¾¹ç¼˜äºŒé˜¶å¯¼æ•°æ˜¯é›¶! å› æ­¤ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªæ ‡å‡†æ¥å°è¯•æ£€æµ‹å›¾åƒçš„è¾¹ç¼˜ã€‚ç„¶è€Œï¼Œè¯·æ³¨æ„ï¼Œé›¶å€¼ä¸ä»…ä¼šå‡ºç°åœ¨è¾¹ç¼˜ï¼ˆå®ƒä»¬å®é™…ä¸Šå¯ä»¥å‡ºç°åœ¨å…¶ä»–æ— æ„ä¹‰çš„ä½ç½®ï¼‰ï¼›è¿™å¯ä»¥é€šè¿‡åœ¨éœ€è¦æ—¶ä½¿ç”¨è¿‡æ»¤æ¥è§£å†³ã€‚
æ‹‰æ™®æ‹‰æ–¯ç®—å­ ä»ä¸Šé¢çš„è§£é‡Šä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ¨æ–­å‡ºï¼ŒäºŒé˜¶å¯¼æ•°å¯ä»¥ç”¨æ¥æ£€æµ‹è¾¹ç¼˜ã€‚ç”±äºå›¾åƒæ˜¯äºŒç»´çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸¤ä¸ªç»´åº¦ä¸Šå–å¯¼æ•°ã€‚è¿™é‡Œï¼Œæ‹‰æ™®æ‹‰æ–¯ç®—å­å°±æ´¾ä¸Šç”¨åœºäº†ã€‚ æ‹‰æ™®æ‹‰æ–¯ç®—å­çš„å®šä¹‰æ˜¯ï¼š $$ Laplace(f) = \frac{\partial^2f}{\partial x^2}+\frac{\partial^2f}{\partial y^2} $$ æ‹‰æ™®æ‹‰æ–¯ç®—å­åœ¨OpenCVä¸­æ˜¯ç”±å‡½æ•°Laplacian()å®ç°çš„ã€‚äº‹å®ä¸Šï¼Œç”±äºæ‹‰æ™®æ‹‰æ–¯ç®—å­ä½¿ç”¨å›¾åƒçš„æ¢¯åº¦ï¼Œå®ƒåœ¨å†…éƒ¨è°ƒç”¨ç´¢è´å°”ç®—å­æ¥è¿›è¡Œè®¡ç®—çš„ã€‚ Code ä»£ç é“¾æ¥
Explanation å˜é‡å£°æ˜ 1 2 3 4 5 6 7 // Declare the variables we are going to use Mat src, src_gray, dst; int kernel_size = 3; int scale = 1; int delta = 0; int ddepth = CV_16S; const char* window_name = "Laplace Demo"; åŠ è½½å›¾åƒ 1 2 3 4 5 6 7 8 const char* imageName = argc >=2 ?...</p>
</section>
<footer class=entry-footer><span title="2022-01-17 08:22:11 +0800 +0800">January 17, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;fffzlfk</footer>
<a class=entry-link aria-label="post link to OpenCV Laplace Operator" href=https://fffzlfk.github.io/posts/opencv_laplace_operator/></a>
</article>
<footer class=page-footer>
<nav class=pagination>
<a class=next href=https://fffzlfk.github.io/page/2/>Next Page Â»</a>
</nav>
</footer>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=https://fffzlfk.github.io>fffzlfk's Blog</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>