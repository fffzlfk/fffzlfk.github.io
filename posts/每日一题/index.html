<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>每日一题 | fffzlfk's Blog</title><meta name=keywords content="C++,Golang"><meta name=description content="Algorithms Problems"><meta name=author content="fffzlfk"><link rel=canonical href=https://fffzlfk.github.io/posts/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/><link crossorigin=anonymous href=/assets/css/stylesheet.3b1cc03af9890a9e14762cb10779f50b165a8e12a4ff763213eef0019f3771fb.css integrity="sha256-OxzAOvmJCp4UdiyxB3n1CxZajhKk/3YyE+7wAZ83cfs=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.ab916b8151320cc693135f5df9fe4b75e6e4754d8f0dff5782df332cacd1ba8e.js integrity="sha256-q5FrgVEyDMaTE19d+f5LdebkdU2PDf9Xgt8zLKzRuo4=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://fffzlfk.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://fffzlfk.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://fffzlfk.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://fffzlfk.github.io/apple_touch_icon.png><link rel=mask-icon href=https://fffzlfk.github.io/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css integrity=sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js integrity=sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><meta property="og:title" content="每日一题"><meta property="og:description" content="Algorithms Problems"><meta property="og:type" content="article"><meta property="og:url" content="https://fffzlfk.github.io/posts/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-01-10T00:00:00+00:00"><meta property="article:modified_time" content="2021-01-10T00:00:00+00:00"><meta property="og:site_name" content="fffzlfk's Blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="每日一题"><meta name=twitter:description content="Algorithms Problems"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://fffzlfk.github.io/posts/"},{"@type":"ListItem","position":3,"name":"每日一题","item":"https://fffzlfk.github.io/posts/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"每日一题","name":"每日一题","description":"Algorithms Problems","keywords":["C++","Golang"],"articleBody":"Week 1 货仓选址 题目链接\n思路 绝对值不等式：$|a_1 - x| + |a_2 - x| + |a_3 - x| + … + |a_n - x| \\ge |a_n-a_1| + |a_{n-1}-a_{2}|+… $ 结论：当n为奇数，x应在中位数；当n为偶数时，x应在中间两个数之间。\n代码 #include #include using namespace std; const int N = 100005; int a[N]; int n; int main() { cin \u003e\u003e n; for (int i = 0; i \u003c n; i++) cin \u003e\u003e a[i]; sort(a, a + n); int ans = 0; for (int i = 0; i \u003c n; i++) ans += abs(a[i]-a[n/2]); cout \u003c\u003c ans; return 0; } 数字三角形-DP 题目链接\n思路 从下到上，$ f[i][j] = max(f[i+1][j]+w[i][j], f[i+1][j+1]+w[i][j]) $\n代码 #include #include using namespace std; const int N = 505; int f[N][N], w[N][N]; int n; int main() { cin \u003e\u003e n; for (int i = 1; i \u003c= n; i++) for (int j = 1; j \u003c= i; j++) cin \u003e\u003e w[i][j]; for (int i = 1; i \u003c= n; i++) f[n][i] = w[n][i]; for (int i = n-1; i \u003e= 1; i--) for (int j = 1; j \u003c= i; j++) f[i][j] = max(f[i+1][j]+w[i][j], f[i+1][j+1]+w[i][j]); cout \u003c\u003c f[1][1]; return 0; } 简化(等价变换)版代码 #include #include using namespace std; const int N = 505; int f[N][N]; int n; int main() { cin \u003e\u003e n; for (int i = 1; i \u003c= n; i++) for (int j = 1; j \u003c= i; j++) cin \u003e\u003e f[i][j]; for (int i = n-1; i \u003e= 1; i--) for (int j = 1; j \u003c= i; j++) f[i][j] += max(f[i+1][j], f[i+1][j+1]); cout \u003c\u003c f[1][1]; return 0; } Week 2 蛇形矩阵 题目链接\n代码 #include using namespace std; const int N = 105; int n, m; const int dx[]{-1, 0, 1, 0}, dy[]{0, 1, 0, -1}; int q[N][N]; int main() { cin \u003e\u003e n \u003e\u003e m; int x = 0, y = 0, d = 1; for (int i = 1; i \u003c= n * m; i++) { q[x][y] = i; int a = x + dx[d], b = y + dy[d]; if (a \u003c 0 || a \u003e= n || b \u003c 0 || b \u003e= m || q[a][b]) { d = (d + 1) % 4; a = x + dx[d], b = y + dy[d]; } x = a, y = b; } for (int i = 0; i \u003c n; i++) { for (int j = 0; j \u003c m; j++) cout \u003c\u003c q[i][j] \u003c\u003c ' '; cout \u003c\u003c endl; } return 0; } 红与黑-Flood Fill算法 题目链接\n思路 Flood-Fill\nBFS（最短距离） while 队列为空\r{\r取出队头t\r枚举t的4个邻格\rif 格子是陆地并且未开发\r标记为已被开发\r插入队列\r} DFS（更方便） dfs(x, y)\r{\r将(x, y)标记为已开发\r枚举(x, y)的四个邻格\rif 格子是陆地并且未开发\rdfs该格子\r} 代码 BFS #include #include #include #define x first #define y second using namespace std; typedef pair\u003cint, int\u003e PII; const int N = 25; int n, m; char g[N][N]; int bfs(int sx, int sy) { queue\u003cPII\u003e Q; Q.push({sx, sy}); g[sx][sy] = '#'; int res = 0; const int dx[]{-1, 0, 1, 0}, dy[]{0, 1, 0, -1}; while (!Q.empty()) { auto t = Q.front(); Q.pop(); res++; for (int i = 0; i \u003c 4; i++) { int nx = t.x + dx[i], ny = t.y + dy[i]; if (nx \u003c 0 || nx \u003e= n || ny \u003c 0 || ny \u003e= m || g[nx][ny] != '.') continue; g[nx][ny] = '#'; Q.emplace(nx, ny); } } return res; } int main() { while (cin \u003e\u003e m \u003e\u003e n , n || m) { for (int i = 0; i \u003c n; i++) cin \u003e\u003e g[i]; int x, y; for (int i = 0; i \u003c n; i++) for (int j = 0; j \u003c m; j++) if (g[i][j] == '@') { x = i; y = j; } cout \u003c\u003c bfs(x, y) \u003c\u003c endl; }\treturn 0; } DFS #include #include using namespace std; const int N = 25; char g[N][N]; int n, m; const int dx[]{-1, 0, 1, 0}, dy[]{0, 1, 0, -1}; int dfs(int x, int y) { g[x][y] = '#'; int res = 1; for (int i = 0; i \u003c 4; i++) { int nx = x + dx[i], ny = y + dy[i]; if (nx \u003c 0 || nx \u003e= n || ny \u003c 0 || ny \u003e= m || g[nx][ny] != '.') continue; res += dfs(nx, ny); } return res; } int main() { while (cin \u003e\u003e m \u003e\u003e n, n || m) { int x, y; for (int i = 0; i \u003c n; i++) { cin \u003e\u003e g[i]; for (int j = 0; j \u003c m; j++) if (g[i][j] == '@') { x = i; y = j; } } cout \u003c\u003c dfs(x, y) \u003c\u003c endl; } return 0; } 回文平方 题目链接\n代码 #include #include using namespace std; char get(int n) { return n \u003c= 9 ? '0' + n : 'A' - 10 + n; } string base(int n, int b) { string s = \"\"; while (n) { s += get(n % b); n /= b; } reverse(s.begin(), s.end()); return s; } bool check(const string \u0026s) { for (int i = 0, j = s.length() - 1; i \u003c s.length(); i++, j--) if (s[i] != s[j]) return false; return true; } int main() { int b; cin \u003e\u003e b; for (int i = 1; i \u003c= 300; i++) { auto t = base(i * i, b); if (check(t)) { cout \u003c\u003c base(i, b) \u003c\u003c \" \" \u003c\u003c t \u003c\u003c endl; } } return 0; } 剪绳子-浮点数二分 题目链接\n思路 二分 最优化-\u003e判定问题\n情况1：可以[mid, r] 情况2：不可以[l, mid) 保留k位小数：r-l \u003c 1e-4\n代码 #include using namespace std; const int N = 100005; int n, m; int w[N]; bool check(double mid) { int cnt = 0; for (int i = 0; i \u003c n; i++) cnt += w[i] / mid; return cnt \u003e= m; } int main() { cin \u003e\u003e n \u003e\u003e m; for (int i = 0; i \u003c n; i++) cin \u003e\u003e w[i]; double l = 0.0, r = 1e9; for (int i = 0; i \u003c 100; i++) { // while (r-l \u003e 1e-4) double mid = (l + r) / 2; if (check(mid)) l = mid; else r = mid; } printf(\"%.2f\\n\", l); return 0; } 扩展题 题目链接\n#include using namespace std; double n; bool check(double mid) { return mid*mid*mid \u003c n; } int main() { cin \u003e\u003e n; double l = -22.0, r = 22.0; while (r - l \u003e 1e-8) { double mid = (l+r) / 2; if (check(mid)) l = mid; else r = mid; } printf(\"%.6f\\n\", l); return 0; } 分巧克力-整数二分 题目链接\n思路 $ \\sum_{i=0}^{n-1} \\lfloor \\frac {h_i} {mid} \\rfloor \\times \\lfloor \\frac{w_i}{mid} \\rfloor\\ge k $\n成立：$[mid, r], l = mid$ 不成立：$[l, mid-1], r = mid-1 $ 代码 #include using namespace std; using ll = long long; const int N = 1e5+5; int h[N], w[N]; int n, k; bool check(int mid) { ll s = 0; for (int i = 0; i \u003c n; i++) { s += 1LL * (h[i]/mid) * (w[i]/mid); if (s \u003e= k) return true; } return false; } int main() { cin \u003e\u003e n \u003e\u003e k; for (int i = 0; i \u003c n; i++) cin \u003e\u003e h[i] \u003e\u003e w[i]; int l = 0, r = 1e5; while (l \u003c r) { int mid = l + r + 1 \u003e\u003e 1; if (check(mid)) l = mid; else r = mid-1; } cout \u003c\u003c l \u003c\u003c endl; return 0; } 二分模板 int bsearch_1(int l, int r) { while (l \u003c r) { int mid = l + r \u003e\u003e 1; if (check(mid)) r = mid; else l = mid+1; } return l } int bsearch_2(int l, int r) { while (l \u003c r) { int mid = l + r + 1 \u003e\u003e 1; if (check(mid)) l = mid; else r = mid-1; } } 扩展题 数的范围\n题目链接\n#include #include using namespace std; int n, q; int a[100010]; int main() { cin \u003e\u003e n \u003e\u003e q; for (int i = 0; i \u003c n; i++) cin \u003e\u003e a[i]; int k; while (q--) { cin \u003e\u003e k; int l = lower_bound(a, a+n, k)-a; int r = upper_bound(a, a+n, k)-a; printf(\"%d \", a[l]==k? l : -1); printf(\"%d\\n\", a[r-1]==k? r-1 : -1); } return 0; } 旋转数组的最小数字-不具有单调性，但具有二段性\n题目链接\nclass Solution { public: int findMin(vector\u003cint\u003e\u0026 nums) { if (nums.empty()) return -1; int n = nums.size(); while (n \u003e 1 \u0026\u0026 nums[0] == nums[n-1]) n--; if (nums[0] \u003c= nums[n-1]) return nums[0]; int l = 0, r = n-1; while (l \u003c r) { int mid = l + r \u003e\u003e 1; if (nums[0] \u003e nums[mid]) r = mid; else l = mid+1; } return nums[r]; } }; 校门外的树-区间合并 题目链接\n思路 先求出所有移动树木的操作的区间的并集，那么马路上剩余部分即为最终剩下树木的部分。\n区间合并算法\n将所有区间按左端点从小到大排序 从左到右遍历每个区间[L, R] $ l_i \\le R $， $R = max(R, r_i) $ $ l_i \u003e R$, 则将[L, R] 存下来，L, R\u003c- $ l_i, r_i $ 代码 #include #include using namespace std; #define x first #define y second const int N = 105; pair\u003cint, int\u003e seg[N]; int l, m; int main() { cin \u003e\u003e l \u003e\u003e m; for (int i = 0; i \u003c m; i++) cin \u003e\u003e seg[i].x \u003e\u003e seg[i].y; sort(seg, seg+m); int res = l + 1; int L = seg[0].x, R = seg[0].y; for (int i = 1; i \u003c m; i++) if (seg[i].x \u003c= R) R = max(R, seg[i].y); else { res -= R - L + 1; L = seg[i].x; R = seg[i].y; } res -= R - L + 1; cout \u003c\u003c res \u003c\u003c endl; return 0; } 扩展题-挤牛奶 题目链接\n#include #include using namespace std; #define x first #define y second const int N = 5005; pair\u003cint, int\u003e seg[N]; int n; int main() { cin \u003e\u003e n; for (int i = 0; i \u003c n; i++) cin \u003e\u003e seg[i].x \u003e\u003e seg[i].y; sort(seg, seg+n); int L = seg[0].x, R = seg[0].y; int a = 0, b = 0; for (int i = 1; i \u003c n; i++) if (seg[i].x \u003c= R) R = max(R, seg[i].y); else { b = max(b, seg[i].x-R); a = max(a, R-L); L = seg[i].x; R = seg[i].y; } a = max(a, R-L); cout \u003c\u003c a \u003c\u003c \" \" \u003c\u003c b \u003c\u003c endl; return 0; } 奖学金 题目链接\n代码 #include #include #include using namespace std; int cnt = 0; struct node { int id; int grades[3]; int get_sum() const { int s = 0; for (int i = 0; i \u003c 3; i++) s += grades[i]; return s; } friend istream\u0026 operator\u003e\u003e(istream\u0026 in, node \u0026a) { a.id = ++cnt; for (int i = 0; i \u003c 3; i++) in \u003e\u003e a.grades[i]; return in; } friend bool operator\u003c(const node \u0026a, const node \u0026b) { int sa = a.get_sum(), sb = b.get_sum(); if (sa != sb) return sa \u003c sb; else if (a.grades[0] != b.grades[0]) return a.grades[0] \u003c b.grades[0]; else return a.id \u003e b.id; } }; int n; priority_queue\u003cnode\u003e Q; int main() { cin \u003e\u003e n; node tmp; for (int i = 0; i \u003c n; i++) { cin \u003e\u003e tmp; Q.push(tmp); } for (int i = 0; i \u003c 5; i++) { auto t = Q.top(); Q.pop(); cout \u003c\u003c t.id \u003c\u003c \" \" \u003c\u003c t.get_sum() \u003c\u003c endl; } return 0; } Week 3 翻硬币-递推 题目链接\n思路 枚举递推：每一个操作是唯一确定的\n代码 #include #include using namespace std; string a, b; void turn(int i) { a[i] == '*' ? a[i] = 'o' : a[i] = '*'; } int main() { cin \u003e\u003e a \u003e\u003e b; int res = 0; for (int i = 0; i \u003c a.length()-1; i++) if (a[i] != b[i]) { turn(i); turn(i+1); ++res; } cout \u003c\u003c res \u003c\u003c endl; return 0; } 扩展题-费解的开关 思路 枚举第一行的点击方法，共32种，完成第一行的点击后，固定第一行， 从第一行开始递推，若达到第n行不全为0，说明这种点击方式不合法。 在所有合法的点击方式中取点击次数最少的就是答案。 对第一行的32次枚举涵盖了该问题的整个状态空间，因此该做法是正确的 时间复杂度：32*20*5*500 = 一百六十万 对第一行操作有32种可能 * 对前四行有20种操作可能 * 每一次操作都要改变5个灯的状态 * 最多读入的时候可能有500次light矩阵 最关键的两个性质 每一个位置最多只会被点击一次 如果固定了第一行，那么满足题意的点击方案最多只有一种 代码 #include #include #include #include using namespace std; char s[5][5]; void turn(int i, int j) { const int dx[]{0, -1, 0, 1, 0}, dy[]{0, 0, 1, 0, -1}; for (int k = 0; k \u003c 5; k++) { int nx = i + dx[k], ny = j + dy[k]; if (nx \u003c 0 || nx \u003e= 5 || ny \u003c 0 || ny \u003e= 5) continue; s[nx][ny] ^= 1; } } int work() { int res = INT_MAX; for (int k = 0; k \u003c 1 \u003c\u003c 5; k++) { char back[5][5]; memcpy(back, s, sizeof s); int cnt = 0; for (int j = 0; j \u003c 5; j++) { if ((k \u003e\u003e j) \u0026 1) { turn(0, j); ++cnt; } } for (int i = 0; i \u003c 4; i++) for (int j = 0; j \u003c 5; j++) if (s[i][j] == '0') { turn(i+1, j); ++cnt; } bool ok = true; for (int j = 0; j \u003c 5; j++) if (s[4][j] == '0') ok = false; if (ok) res = min(res, cnt); memcpy(s, back, sizeof back); } return res \u003c= 6 ? res : -1; } int main() { int n; cin \u003e\u003e n; while (n--) { for (int i = 0; i \u003c 5; i++) cin \u003e\u003e s[i]; cout \u003c\u003c work() \u003c\u003c endl; } return 0; } 找硬币 题目链接\n哈希表做法$O(n)$ 思路 对于当前的元素t，查看之前集合中是否存在m-t，若存在则更新答案，否则添加到集合中。\n代码 #include #include #include #include using namespace std; int n, m; unordered_set\u003cint\u003e S; int main() { cin \u003e\u003e n \u003e\u003e m; int v1 = INT_MAX, v2; int a, b; while (n--) { cin \u003e\u003e a; b = m - a; if (S.count(b)) { if (a \u003e b) swap(a, b); if (v1 \u003e a) { v1 = a; v2 = b; } } else S.insert(a); } printf(v1 == INT_MAX ? \"No Solution\" : \"%d %d\\n\", v1, v2); return 0; } 双指针做法$O(nlogn)$ 思路 Note\n双指针算法：如果i++和j--单调性相反就能用双指针做法。\n$a[i]+a[j] \\le m \\ and \\ j 最大$\n代码 #include #include using namespace std; int n, m; const int N = 1e5+5; int a[N]; int main() { cin \u003e\u003e n \u003e\u003e m; for (int i = 0; i \u003c n; i++) cin \u003e\u003e a[i]; sort(a, a+n); for (int i = 0, j = n-1; i \u003c n; i++) { while (i \u003c j \u0026\u0026 a[i] + a[j] \u003e m) j--; if (i \u003c j \u0026\u0026 a[i]+a[j] == m) { cout \u003c\u003c a[i] \u003c\u003c \" \" \u003c\u003c a[j] \u003c\u003c endl; return 0; } } cout \u003c\u003c \"No Solution\"; return 0; } 十三号星期五 题目链接\n思路 枚举每个月第一天距离1900-1-1过了多少天days 星期：$(days+12)\\ mod \\ 7 $ 代码 #include using namespace std; const int month[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31}; int n; int weekdays[7]; int main() { cin \u003e\u003e n; int days = 0; for (int year = 1900; year \u003c 1900+n; year++) { for (int i = 1; i \u003c= 12; i++) { weekdays[(days + 12) % 7]++; days += month[i]; if (i == 2 \u0026\u0026 (year % 4 == 0 \u0026\u0026 year % 100 != 0 || year % 400 == 0)) days++; } } for (int i = 5, j = 0; j \u003c 7; i = (i+1) % 7, j++) cout \u003c\u003c weekdays[i] \u003c\u003c \" \"; return 0; } 平方矩阵 II 题目链接\n代码 #include #include using namespace std; int n; int main() { while (cin \u003e\u003e n, n) { for (int i = 1; i \u003c= n; i++) { for (int j = 1; j \u003c= n; j++) cout \u003c\u003c abs(j-i) + 1 \u003c\u003c ' '; cout \u003c\u003c '\\n'; } cout \u003c\u003c endl; } return 0; } Longest-increasing-subsequence 题目链接\n思路 dp[i]: 长度为i的LIS的最后一个元素的最小值 eg:[0,3,1,6,2,2,7] for each x: 0, dp = [0] 3, dp = [0, 3] 1, dp = [0, 1] 6, dp = [0, 1, 6] 2, dp = [0, 1, 2] 2, dp = [0, 1, 2] 7, dp = [0, 1, 2, 7] ans = len(dp) 代码 class Solution: def lengthOfLIS(self, nums: List[int]) -\u003e int: dp = [] for x in nums: i = bisect_left(dp, x) if i == len(dp): dp.append(x) else: dp[i] = x return len(dp) 棋盘挑战-八皇后问题 题目链接\n思路 如何判断某些位置能不能填：对角线用截距编号 dg: y=x+b, b = y-x+n udg: y=-x+b, b = y+x 代码 #include #include using namespace std; const int N = 15; int path[N], col[N], dg[2*N], udg[2*N]; int n, ans; void dfs(int x) { if (x \u003e n) { ans++; if (ans \u003c= 3) { for (int i = 1; i \u003c= n; i++) cout \u003c\u003c path[i] \u003c\u003c ' '; cout \u003c\u003c '\\n'; } } for (int y = 1; y \u003c= n; y++) { if (!col[y] \u0026\u0026 !dg[y-x+n] \u0026\u0026 !udg[y+x]) { path[x] = y; col[y] = dg[y-x+n] = udg[y+x] = true; dfs(x+1); col[y] = dg[y-x+n] = udg[y+x] = false; // path[x] = 0; } } } int main() { cin \u003e\u003e n; dfs(1); cout \u003c\u003c ans; return 0; } 扩展题-解数独 题目链接\nclass Solution { public: vector\u003cpair\u003cint, int\u003e\u003e P; bool check(const vector\u003cvector\u003cchar\u003e\u003e\u0026 board, int r, int c, char n) { for (int i = 0; i \u003c 9; i++) if (board[r][i] == n || board[i][c] == n) return false; r = r / 3 * 3; c = c / 3 * 3; for (int i = r; i \u003c r + 3; i++) for (int j = c; j \u003c c + 3; j++) if (board[i][j] == n) return false; return true; } bool dfs(vector\u003cvector\u003cchar\u003e\u003e\u0026 board, int idx) { if (idx == (int)P.size()) return true; int r = P[idx].first, c = P[idx].second; for (int i = 1; i \u003c= 9; i++) if (check(board, r, c, i+'0')) { board[r][c] = i+'0'; if (dfs(board, idx+1)) return true; board[r][c] = '.'; } return false; } void solveSudoku(vector\u003cvector\u003cchar\u003e\u003e\u0026 board) { for (int i = 0; i \u003c 9; i++) for (int j = 0; j \u003c 9; j++) if (board[i][j] == '.') P.emplace_back(i, j); dfs(board, 0); } }; 货币系统-完全背包 题目链接\n思路 代码 #include using namespace std; using ll = long long; const int N = 30, M = 10005; ll f[N][M]; int n, m; int w[N]; int main() { cin \u003e\u003e n \u003e\u003e m; for (int i = 1; i \u003c= n; i++) cin \u003e\u003e w[i]; f[0][0] = 1; for (int i = 1; i \u003c= n; i++) for (int j = 0; j \u003c= m; j++) for (int k = 0; k * w[i] \u003c= j; k++) f[i][j] += f[i-1][j-k*w[i]]; cout \u003c\u003c f[n][m] \u003c\u003c endl; return 0; } 时间优化 $ f[i][j] = f[i-1][j]+f[i-1][j-w[i]]+f[i-1][j-2w[i]]+…+f[i-1][j-kw[i]] $ $ f[i][j-v] = f[i-1][j-w[i]]+f[i-1][j-2w[i]]+…+f[i-1][j-kw[i]] $ 由1-2得：$ f[i][j] = f[i-1][j]+f[i][j-v] $ #include using namespace std; using ll = long long; const int N = 30, M = 10005; ll f[N][M]; int n, m; int main() { cin \u003e\u003e n \u003e\u003e m; f[0][0] = 1; for (int i = 1; i \u003c= n; i++) { int v; cin \u003e\u003e v; for (int j = 0; j \u003c= m; j++) { f[i][j] = f[i-1][j]; if (j \u003e= v) f[i][j] += f[i][j-v]; } } cout \u003c\u003c f[n][m] \u003c\u003c endl; return 0; } 空间优化 #include using namespace std; using ll = long long; const int N = 30, M = 10005; ll f[M]; int n, m; int main() { cin \u003e\u003e n \u003e\u003e m; f[0] = 1; for (int i = 1; i \u003c= n; i++) { int v; cin \u003e\u003e v; for (int j = v; j \u003c= m; j++) { f[j] += f[j-v]; // f[i][j] = f[i-1][j] + f[i][j-v] } } cout \u003c\u003c f[m] \u003c\u003c endl; return 0; } 阶乘 题目链接\n思路 $ n! = 2^{\\alpha}*5^{\\beta}*x $ $ ans = \\frac{n!}{10^k}\\ mod\\ 10=$ 我们进行观察，因为0只可能由2的倍数和5的倍数相乘得到，所以在进行乘法的过程中，我们将2和5的倍数给清理掉，这样就保证了不会出现0，然后我们控制其范围，每次相乘取其个位，因为个位肯定是非零元素，十位以后的数字完全没有必要保留下来，最后，我们将多处理的2或者5重新乘回去再取余即可\n代码 #include using namespace std; int main() { int n; cin \u003e\u003e n; int d2 = 0, d5 = 0; int ans = 1; for (int i = 2; i \u003c= n; i++) { int x = i; while (x % 2 == 0) x /= 2, d2++; while (x % 5 == 0) x /= 5, d5++; ans = ans * x % 10; } for (int i = 0; i \u003c d2-d5; i++) ans = ans * 2 % 10; cout \u003c\u003c ans; return 0; } Week 4 滑雪场设计-枚举 思路 最优解中，所有的高度都在$[0, 100]$之间 只需枚举所有可能的区间 代码 #include #include using namespace std; const int N = 1005; int a[N]; int main() { int n; cin \u003e\u003e n; for (int i = 0; i \u003c n; i++) cin \u003e\u003e a[i]; int ans = INT_MAX; for (int l = 0; l \u003c= 100-17; l++) { int r = l+17, cost = 0; for (int i = 0; i \u003c n; i++) if (a[i] \u003c l) cost += (l-a[i])*(l-a[i]); else if (a[i] \u003e r) cost += (a[i]-r)*(a[i]-r); ans = min(ans, cost); } cout \u003c\u003c ans; return 0; } 整数集合划分-贪心 题目链接\n代码 #include #include using namespace std; int a[100005], res; int main() { #ifndef ONLINE_JUDGE freopen(\"input.txt\", \"r\", stdin); freopen(\"output.txt\", \"w\", stdout); #endif int n; cin \u003e\u003e n; for (int i = 0; i \u003c n; i++) { cin \u003e\u003e a[i]; } sort(a, a + n); for (int i = 0; i \u003c n; i++) { if (i \u003e= n \u003e\u003e 1) res += a[i]; else res -= a[i]; } cout \u003c\u003c n % 2 \u003c\u003c ' ' \u003c\u003c res; return 0; } 扩展题-双向搜索 题目链接\n思路\n先搜索前N/2个物品可以凑出来的所有重量，存到数组中去 对所有重量排序，判重 在搜索后一半物品可以凑出来的所有重量y，在前一半物品搜索出来的重量二分出一个y，使得x+y\u003c=w, x+y最大 优化\n从大到小枚举所有重量，使得搜索到的和更快达到目标 均衡两次搜索时间 #include #include using namespace std; using ll = long long; const int N = 46; int n, w, g[N], k, cnt, wgt[1 \u003c\u003c (23 + 2)]; void dfs_1(int x, int s) { if (x == k) { wgt[cnt++] = s; return; } if (s * 1ll + g[x] \u003c= w) dfs_1(x + 1, s + g[x]); dfs_1(x + 1, s); } int ans; void dfs_2(int x, int s) { if (x == n) { int l = 0, r = cnt - 1; while (l \u003c r) { int mid = l + r + 1 \u003e\u003e 1; if (s * 1ll + wgt[mid] \u003c= w) l = mid; else r = mid - 1; } if (s * 1ll + wgt[l] \u003c= w) ans = max(ans, s + wgt[l]); return; } if (s * 1ll + g[x] \u003c= w) dfs_2(x + 1, s + g[x]); dfs_2(x + 1, s); } int main() { #ifndef ONLINE_JUDGE freopen(\"input.txt\", \"r\", stdin); freopen(\"output.txt\", \"w\", stdout); #endif scanf(\"%d%d\", \u0026w, \u0026n); for (int i = 0; i \u003c n; i++) scanf(\"%d\", \u0026g[i]); sort(g, g + n, greater\u003cint\u003e()); k = n / 2 + 2; dfs_1(0, 0); sort(wgt, wgt + cnt); cnt = unique(wgt, wgt + cnt) - wgt; dfs_2(k, 0); cout \u003c\u003c ans; return 0; } 合唱队形-LIS 题目链接\n思路 f[i]: 从前往后，以a[i]结尾的最长上升子序列的长度 g[i]: 从后往前，以a[i]结尾的最长上升子序列的长度 $ ans = n - max(f[i]+g[i]) + 1$ 代码 $ n^2 $\n#include #include using namespace std; const int N = 105; int n, a[N]; int f[N], g[N]; int main() { cin \u003e\u003e n; for (int i = 1; i \u003c= n; i++) cin \u003e\u003e a[i]; for (int i = 1; i \u003c= n; i++) { f[i] = 1; for (int j = 1; j \u003c i; j++) if (a[i] \u003e a[j]) f[i] = max(f[i], f[j]+1); } for (int i = n; i \u003e= 1; i--) { g[i] = 1; for (int j = n; j \u003e i; j--) if (a[i] \u003e a[j]) g[i] = max(g[i], g[j]+1); } int ans = 0; for (int k = 1; k \u003c= n; k++) ans = max(ans, f[k] + g[k]); cout \u003c\u003c n - ans + 1; return 0; $ nlogn $\n#include #include using namespace std; const int N = 105; int f[N], g[N], a[N], n; int len1[N], len2[N]; int main() { cin \u003e\u003e n; for (int i = 0; i \u003c n; i++) cin \u003e\u003e a[i]; int cnt = 0; for (int i = 0; i \u003c n; i++) { auto it = lower_bound(f, f+cnt, a[i])-f; if (it == cnt) f[cnt++] = a[i]; else f[it] = a[i]; len1[i] = cnt; } cnt = 0; for (int i = n-1; i \u003e= 0; i--) { auto it = lower_bound(g, g+cnt, a[i])-g; if (it == cnt) g[cnt++] = a[i]; else g[it] = a[i]; len2[i] = cnt; } int ans = 0; for (int i = 0; i \u003c n; i++) ans = max(ans, len1[i]+len2[i]); cout \u003c\u003c n - ans + 1; return 0; } 火星人-排列 思路 实现next_permutation()\n代码 #include #include using namespace std; const int N = 10005; int n, m, a[N]; int main() { cin \u003e\u003e n \u003e\u003e m; for (int i = 0; i \u003c n; i++) cin \u003e\u003e a[i]; while (m--) { int k = n-1; while (a[k-1] \u003e a[k]) k--; k--; int t = k; while (t \u003c n-1 \u0026\u0026 a[t+1] \u003e a[k]) t++; swap(a[t], a[k]); reverse(a+k+1, a+n); } for (int i = 0; i \u003c n; i++) cout \u003c\u003c a[i] \u003c\u003c ' '; return 0; } 星空之夜-Flood-fill 思路 判断形状是否相似 哈希：两两之间的距离之和 代码 #include #include #include #include using namespace std; using P = pair\u003cint, int\u003e; #define x first #define y second const int N = 105; P c[N*N]; int cnt; char g[N][N]; int n, m; inline double get_dist(P a, P b) { return sqrt((a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y)); } double get_hash() { double s = 0; for (int i = 0; i \u003c cnt; i++) for (int j = i+1; j \u003c cnt; j++) s += get_dist(c[i], c[j]); return s; } char get_id(double d) { static double hash[30]; static int idx = 0; for (int i = 0; i \u003c idx; i++) { if (fabs(hash[i] - d) \u003c 1e-8) return 'a' + i; } hash[idx++] = d; return 'a' + idx - 1; } void dfs(int i, int j) { g[i][j] = '0'; c[cnt++] = {i, j}; for (int x = i-1; x \u003c= i+1; x++) for (int y = j-1; y \u003c= j+1; y++) { if (x \u003c 0 || x \u003e= n || y \u003c 0 || y \u003e= m || g[x][y] == '0') continue; dfs(x, y); } } int main() { cin \u003e\u003e m \u003e\u003e n; for (int i = 0; i \u003c n; i++) cin \u003e\u003e g[i]; for (int i = 0; i \u003c n; i++) for (int j = 0; j \u003c m; j++) { if (g[i][j] == '1') { cnt = 0; dfs(i, j); auto d = get_hash(); auto id = get_id(d); for (int k = 0; k \u003c cnt; k++) g[c[k].x][c[k].y] = id; } } for (int i = 0; i \u003c n; i++) cout \u003c\u003c g[i] \u003c\u003c endl; return 0; } 摘花生-DP 题目链接\n思路 状态表示 集合：定义f[i][j]为从(1, 1)到达(i, j)的所有方案 属性：最大值 状态转移 (i, j)从(i-1, j)即上方过来 (i, j)从(i, j-1)即左方过来 空间压缩 f[i][j]只需要用到这一层和上一层的f元素，所以可以压缩成滚动数组。在此之上，还可以直接压缩成一维数组。 代码 #include #include #include using namespace std; const int N = 105; int f[N]; int n, m, t; int main() { int T; cin \u003e\u003e T; while (T--) { cin \u003e\u003e n \u003e\u003e m; for (int i = 1; i \u003c= n; i++) for (int j = 1; j \u003c= m; j++) { cin \u003e\u003e t; f[j] = max(f[j], f[j-1]) + t; } cout \u003c\u003c f[m] \u003c\u003c endl; memset(f, 0, sizeof f); } } 最大的和-最大子矩形 题目链接\n思路 前缀和数组A[i][j]表示 $ \\sum_{i=1}^{n}{a[i][j]} $ 枚举矩形上下边界 求最大连续子序列和 代码 package main import ( \"fmt\" ) var M [201][201]int var n int func main() { fmt.Scanf(\"%d\", \u0026n) for i := 1; i \u003c= n; i++ { for j := 1; j \u003c= n; j++ { fmt.Scanf(\"%d\", \u0026M[i][j]) M[i][j] += M[i-1][j] } } ans := int(-1e9) for i := 1; i \u003c= n; i++ { for j := i; j \u003c= n; j++ { s := 0 for k := 1; k \u003c= n; k++ { s = max(0, s) + M[j][k] - M[i-1][k] ans = max(ans, s) } } } fmt.Println(ans) } func max(a, b int) int { if a \u003e b { return a } return b } 最大的和-线性DP 题目链接\n代码 #include #include #include using namespace std; const int N = 50005; int n, a[N], f[N], g[N]; // f[i]: 1~i最大连续子段和，g[i]:n~i最大连续子段和 int main() { int T; scanf(\"%d\", \u0026T); while (T--) { scanf(\"%d\", \u0026n); fill(f, f+n+2, INT_MIN); fill(g, g+n+2, INT_MIN); for (int i = 1; i \u003c= n; i++) scanf(\"%d\", \u0026a[i]); int s = 0; for (int i = 1; i \u003c= n; i++) { s = max(s, 0) + a[i]; f[i] = max(f[i-1], s); } s = 0; for (int i = n; i \u003e= 1; i--) { s = max(s, 0) + a[i]; g[i] = max(g[i+1], s); } int ans = INT_MIN; for (int i = 1; i \u003c n; i++) ans = max(ans, f[i] + g[i+1]); cout \u003c\u003c ans \u003c\u003c endl; } return 0; } 最大异或对-trie 题目链接\n代码 #include #include using namespace std; const int N = 1e5+5, M = 3e6+5; int a[N], son[M][2], idx, n; void insert(int x) { int p = 0; for (int i = 30; ~i; i--) { int t = x \u003e\u003e i \u0026 1; if (!son[p][t]) son[p][t] = ++idx; p = son[p][t]; } } int query(int x) { int p = 0, res = 0; for (int i = 30; ~i; i--) { int t = x \u003e\u003e i \u0026 1; if (son[p][!t]) { res += 1 \u003c\u003c i; p = son[p][!t]; } else { p = son[p][t]; } } return res; } int main() { cin \u003e\u003e n; int ans = 0; for (int i = 0; i \u003c n; i++) { cin \u003e\u003e a[i]; insert(a[i]); ans = max(ans, query(a[i])); } cout \u003c\u003c ans; return 0; } 牛亦或-trie+前缀和 题目链接\n代码 #include #include using namespace std; const int N = 1e5+5, M = 2e6+5; int son[M][2], a[N], id[M], idx, n; void insert(int x, int k) { int p = 0; for (int i = 20; ~i; i--) { int t = x \u003e\u003e i \u0026 1; if (!son[p][t]) son[p][t] = ++idx; p = son[p][t]; } id[p] = k; } int query(int x) { int p = 0; for (int i = 20; ~i; i--) { int t = x \u003e\u003e i \u0026 1; if (son[p][!t]) { p = son[p][!t]; } else { p = son[p][t]; } } return id[p]; } int main() { cin \u003e\u003e n; for (int i = 1; i \u003c= n; i++) { cin \u003e\u003e a[i]; a[i] ^= a[i-1]; } insert(0, 0); int ans = -1, l, r; for (int i = 1; i \u003c= n; i++) { int k = query(a[i]); int s = a[i] ^ a[k]; if (s \u003e ans) { ans = s; l = k + 1, r = i; } insert(a[i], i); } cout \u003c\u003c ans \u003c\u003c \" \" \u003c\u003c l \u003c\u003c ' ' \u003c\u003c r \u003c\u003c endl; return 0; } Week 5 开心的金明-01背包 题目链接\n代码 #include #include using namespace std; int f[30005]; int n, m; int main() { cin \u003e\u003e n \u003e\u003e m; int v, w; for (int i = 0; i \u003c m; i++) { cin \u003e\u003e v \u003e\u003e w; for (int j = n; j \u003e= v; j--) f[j] = max(f[j], f[j-v]+w*v); } cout \u003c\u003c f[n] \u003c\u003c endl; return 0; } K倍区间-前缀和 题目链接\n思路 求区间和，可以通过前缀和来求出。sum[r]−sum[l−1]就是区间[l,r]的和。如果区间[l,r]的和是k的倍数则有(sum[r]−sum[l−1])，即sum[r]。因此，我们可以得到一个结论，对前缀和取模之后，两个相等的前缀和就能组成一个k倍区间。\n有了这个结论之后，我们就可以使用两层for循环来计数k倍区间的个数，但是由于数据比较大，我们不能这样做。那么我们能不能在计算前缀和的过程中同时来统计k倍区间的个数呢？当然可以。我们可以用一个数组cnt，规定cnt[i]表示当前位置之前，前缀和取模后等于i的个数，以后每出现一次前缀和（取模后）和它相等，那么k倍区间就加上cnt[sum[i]]，然后cnt[sum[i]]++。这样似乎不容易理解，我们用样例举个例子。\n对于数列 1 2 3 4 5，k = 2\n对前1个数的和模k后为1，在此之前有0个前缀和取模后为1，总个数+0\n对前2个数的和模k后为1，在此之前有1个前缀和取模后为1，总个数+1\n对前3个数的和模k后为0，在此之前有0个前缀和取模后为0, 总个数+0\n对前4个数的和模k后为0，在此之前有1个前缀和取模后为0，总个数+1\n对前5个数的和模k后为1，在此之前有2个前缀和取模后为1，总个数+2\n但是我们还忽略了一点，就是我们这样做我们少计算了区间·[0,i]构成的k倍区间，其个数为cnt[0]。\n代码 #include #include using namespace std; const int N = 1e5+5; int a[N], n, k, cnt[N]; int main() { cin \u003e\u003e n \u003e\u003e k; long ans = 0; for (int i = 1; i \u003c= n; i++) { cin \u003e\u003e a[i]; a[i] = (a[i] + a[i-1]) % k; ans += cnt[a[i]]; cnt[a[i]]++; } cout \u003c\u003c ans + cnt[0]; return 0; } 数独检查-模拟 题目链接\n代码 #include #include #include using namespace std; const int N = 7; int n, m; int g[N*N][N*N]; bool st[N*N]; bool check_row() { for (int i = 0; i \u003c m; i++) { memset(st, false, sizeof st); for (int j = 0; j \u003c m; j++) { int t = g[i][j]; if (t \u003c 1 || t \u003e m) return false; if (st[t]) return false; st[t] = true; } } return true; } bool check_col() { for (int i = 0; i \u003c m; i++) { memset(st, false, sizeof st); for (int j = 0; j \u003c m; j++) { int t = g[j][i]; if (t \u003c 1 || t \u003e m) return false; if (st[t]) return false; st[t] = true; } } return true; } bool check_cell() { for (int i = 0; i \u003c m; i += n) for (int j = 0; j \u003c m; j += n) { memset(st, false, sizeof st); for (int dx = 0; dx \u003c n; dx++) for (int dy = 0; dy \u003c n; dy++) { int t = g[i+dx][j+dy]; if (t \u003c 1 || t \u003e m) return false; if (st[t]) return false; st[t] = true; } } return true; } int main() { int T; cin \u003e\u003e T; for (int t = 1; t \u003c= T; t++) { cin \u003e\u003e n; m = n * n; for (int i = 0; i \u003c m; i++) for (int j = 0; j \u003c m; j++) cin \u003e\u003e g[i][j]; printf(check_row() \u0026\u0026 check_col() \u0026\u0026 check_cell() ? \"Case #%d: Yes\\n\" : \"Case #%d: No\\n\", t); } return 0; } 最长公共子序列-LCS 题目链接\n思路 代码 #include #include using namespace std; const int N = 1005; int n, m, f[N][N]; char a[N], b[N]; int main() { cin \u003e\u003e n \u003e\u003e m \u003e\u003e a + 1 \u003e\u003e b + 1; for (int i = 1; i \u003c= n; i++) for (int j = 1; j \u003c= m; j++) if (a[i] == b[j]) f[i][j] = f[i-1][j-1] + 1; else f[i][j] = max(f[i-1][j], f[i][j-1]); cout \u003c\u003c f[n][m]; return 0; } 数独简单版-数独 #include #include using namespace std; char g[10][10]; bool row[10][10], col[10][10], cell[3][3][10]; bool dfs(int x, int y) { if (y == 9) { x++, y = 0; } if (x == 9) { for (int i = 0; i \u003c 9; i++) cout \u003c\u003c g[i] \u003c\u003c endl; return true; } if (g[x][y] != '.') return dfs(x, y+1); for (int i = 1; i \u003c= 9; i++) { if (!row[x][i] \u0026\u0026 !col[y][i] \u0026\u0026 !cell[x/3][y/3][i]) { g[x][y] = i + '0'; row[x][i] = col[y][i] = cell[x/3][y/3][i] = true; if (dfs(x, y+1)) return true; row[x][i] = col[y][i] = cell[x/3][y/3][i] = false; g[x][y] = '.'; } } return false; } int main() { for (int i = 0; i \u003c 9; i++) { cin \u003e\u003e g[i]; for (int j = 0; j \u003c 9; j++) if (g[i][j] != '.') { int t = g[i][j] - '0'; row[i][t] = col[j][t] = cell[i/3][j/3][t] = true; } } dfs(0, 0); } 献给阿尔吉侬的花束-BFS 题目链接\n代码 #include #include #include #include using namespace std; const int N = 205; const int dx[]{-1, 0, 1, 0}, dy[]{0, 1, 0, -1}; char g[N][N]; int dist[N][N]; int r, c; bool bfs(int x, int y) { memset(dist, 0, sizeof dist); queue\u003cpair\u003cint, int\u003e\u003e Q; Q.push({x, y}); while (!Q.empty()) { auto [tx, ty] = Q.front(); Q.pop(); if (g[tx][ty] == 'E') { cout \u003c\u003c dist[tx][ty] \u003c\u003c endl; return true; } for (int i = 0; i \u003c 4; i++) { int nx = tx + dx[i], ny = ty + dy[i]; if (nx \u003c 0 || nx \u003e= r || ny \u003c 0 || ny \u003e= c || g[nx][ny] == '#') continue; Q.push({nx, ny}); if (g[nx][ny] != 'E') g[nx][ny] = '#'; dist[nx][ny] = dist[tx][ty] + 1; } } cout \u003c\u003c \"oop!\" \u003c\u003c endl; return false; } int main() { int T; cin \u003e\u003e T; while (T--) { cin \u003e\u003e r \u003e\u003e c; for (int i = 0; i \u003c r; i++) cin \u003e\u003e g[i]; bool is_break = false; for (int i = 0; i \u003c r; i++) { for (int j = 0; j \u003c c; j++) if (g[i][j] == 'S') { bfs(i, j); is_break = true; break; } if (is_break) break; } } return 0; } a^b-位运算 题目链接\n代码 #include #include using namespace std; using ll = long long; int main() { ll a, b, p; cin \u003e\u003e a \u003e\u003e b \u003e\u003e p; ll res = 1; while (b) { if (b \u0026 1) res = res * a % p; a = a * a % p; b \u003e\u003e= 1; } cout \u003c\u003c res % p \u003c\u003c endl; return 0; } 耍杂技的牛-贪心 题目链接\n代码 #include #include #include using namespace std; const int N = 50005; int n; pair\u003cint, int\u003e a[N]; int main() { cin \u003e\u003e n; int w, s; for (int i = 0; i \u003c n; i++) { cin \u003e\u003e w \u003e\u003e s; a[i] = {w+s, w}; } sort(a, a+n); int ans = INT_MIN, sum_w = 0; for (int i = 0; i \u003c n; i++) { w = a[i].second, s = a[i].first - w; ans = max(ans, sum_w - s); sum_w += w; } cout \u003c\u003c ans; return 0; } 数列-二进制 题目链接\n思路 使用n的二进制表示\n代码 #include #include using namespace std; int pow(int a, int b) { int res = 1; while (b) { if (b \u0026 1) res *= a; a *= a; b \u003e\u003e= 1; } return res; } int main() { int k, n; cin \u003e\u003e k \u003e\u003e n; int ans = 0; for (int i = 0; i \u003c 10; i++) { if (n \u003e\u003e i \u0026 1) ans += pow(k, i); } cout \u003c\u003c ans \u003c\u003c endl; return 0; } 借教室-二分\u0026差分 题目链接\n代码 #include #include using namespace std; using ll = long long; const int N = 1e6 + 5; int r[N], d[N], s[N], t[N]; int n, m; ll b[N]; bool check(int mid) { for (int i = 1; i \u003c= n; i++) b[i] = r[i] - r[i-1]; for (int i = 1; i \u003c= mid; i++) { b[s[i]] -= d[i]; b[t[i]+1] += d[i]; } for (int i = 1; i \u003c= n; i++) { b[i] += b[i-1]; if (b[i] \u003c 0) return false; } return true; } int main() { cin \u003e\u003e n \u003e\u003e m; for (int i = 1; i \u003c= n; i++) cin \u003e\u003e r[i]; for (int i = 1; i \u003c= m; i++) cin \u003e\u003e d[i] \u003e\u003e s[i] \u003e\u003e t[i]; int l = 0, r = m; while (l \u003c r) { int mid = l + r + 1 \u003e\u003e 1; if (check(mid)) l = mid; else r = mid - 1; } if (l == m) puts(\"0\"); else printf(\"-1\\n%d\", l + 1); return 0; } 关押罪犯-二分\u0026染色法判断二分图 题目链接\n思路 二分答案，判断能否以当前答案大的点构成二分图 使用染色判断能否构成二分图 代码 #include #include #include using namespace std; const int N = 20005, M = 200005; int n, m; int h[N], ne[M], e[M], w[M], idx; int color[N]; void add(int a, int b, int c) { e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx++; } bool dfs(int u, int c, int mid) { color[u] = c; for (int i = h[u]; ~i; i = ne[i]) { if (w[i] \u003c= mid) continue; int v = e[i]; if (color[v]) { if (color[v] == c) return false; } else if (!dfs(v, 3-c, mid)) return false; } return true; } bool check(int mid) { memset(color, 0, sizeof color); for (int i = 1; i \u003c= n; i++) if (!color[i]) if (!dfs(i, 1, mid)) return false; return true; } int main() { scanf(\"%d%d\", \u0026n, \u0026m); int a, b, c; memset(h, -1, sizeof h); while (m--) { scanf(\"%d%d%d\", \u0026a, \u0026b, \u0026c); add(a, b, c); add(b, a, c); } int l = 0, r = 1e9; while (l \u003c r) { int mid = l + r \u003e\u003e 1; if (check(mid)) r = mid; else l = mid + 1; } printf(\"%d\", l); return 0; } Week 6 乌龟棋-线性DP 题目链接\n思路 状态表示：f[b1,b2,b3,b4] 表示所有第 i 种卡片使用了 bi 张的走法的最大分值。\n状态计算：将 f[b1,b2,b3,b4] 表示的所有走法按最后一步选择哪张卡片分成四类：第 i 类为最后一步选择第 i 种卡片。比如 i=2，则这一类的最大分值是 f[b1,b2−1,b3,b4]+score[b1+2b2+3b3+4b4]。\n代码 #include #include using namespace std; const int N = 45; int f[N][N][N][N], b[4], w[355]; int n, m; int main() { cin \u003e\u003e n\u003e\u003e m; for (int i = 0; i \u003c n; i++) cin \u003e\u003e w[i]; while (m--) { int t; cin \u003e\u003e t; b[t-1]++; } for (int A = 0; A \u003c= b[0]; A++) for (int B = 0; B \u003c= b[1]; B++) for (int C = 0; C \u003c= b[2]; C++) for (int D = 0; D \u003c= b[3]; D++) { int score = w[A * 1 + B * 2 + C * 3 + D * 4]; int \u0026v = f[A][B][C][D]; v = score; if (A) v = max(v, f[A-1][B][C][D] + score); if (B) v = max(v, f[A][B-1][C][D] + score); if (C) v = max(v, f[A][B][C-1][D] + score); if (D) v = max(v, f[A][B][C][D-1] + score); } cout \u003c\u003c f[b[0]][b[1]][b[2]][b[3]]; return 0; } 比例简化-枚举 题目链接\n代码 #include #include using namespace std; int gcd(int a, int b) { return b ? gcd(b, a % b) : a; } int main() { int A, B, L; cin \u003e\u003e A \u003e\u003e B \u003e\u003e L; int a, b; double t = A * 1.0 / B; double delta = 1e9; for (int i = 1; i \u003c= L; i++) { for (int j = 1; j \u003c= L; j++) { if (gcd(i, j) == 1) { double x = i * 1.0 / j; if (x \u003e= t \u0026\u0026 x - t \u003c delta) { delta = x - t; a = i, b = j; } } } } cout \u003c\u003c a \u003c\u003c \" \" \u003c\u003c b; return 0; } 计算系数 题目链接\n思路 二项式定理：$ ans = C_k^n x^n y^m $ Pascal公式：$ C_n^k = C_{n-1}^{k} + C_{n-1}^{k-1} $ 代码 #include #include using namespace std; const int mod = 10007; const int N = 1005; int C[N][N]; int pow(int a, int b) { int res = 1; a %= mod; while (b) { if (b \u0026 1) res = res * a % mod; a = a * a % mod; b \u003e\u003e= 1; } return res % mod; } int main() { int a, b, k, n, m; cin \u003e\u003e a \u003e\u003e b \u003e\u003e k \u003e\u003e n \u003e\u003e m; for (int i = 0; i \u003c= k; i++) for (int j = 0; j \u003c= i; j++) { if (!j) C[i][j] = 1; else C[i][j] = (C[i-1][j] + C[i-1][j-1]) % mod; } cout \u003c\u003c C[k][n] * pow(a, n) % mod * pow(b, m) % mod; return 0; } 合并果子 代码 #include #include using namespace std; int n; priority_queue\u003cint, vector\u003cint\u003e, greater\u003cint\u003e\u003e Q; int main() { cin \u003e\u003e n; int x; while (n--) { cin \u003e\u003e x; Q.push(move(x)); } int ans = 0; while (Q.size() \u003e 1) { auto a = Q.top(); Q.pop(); auto b = Q.top(); Q.pop(); Q.push(a + b); ans += a + b; } cout \u003c\u003c ans; return 0; } 积木大赛-贪心\u0026差分 题目链接\n思路 从后往前操作，如果当前的 bi\u003e0，则将其减1，并将其后的某个负数加1。\n代码 #include #include using namespace std; const int N = 100005; int n, h[N]; int main() { cin \u003e\u003e n; for (int i = 1; i \u003c= n; i++) cin \u003e\u003e h[i]; int res = 0; for (int i = n; i \u003e= 1; i--) res += max(0, h[i]-h[i-1]); cout \u003c\u003c res \u003c\u003c endl; return 0; } LeetCode-1755 最接近目标值的子序列和 题目链接\n思路 generate sums for all subset: DP $ sum_i = sum_{i-1} \\cup (sum_{i-1}+ nums[i]) $ 将sum of subset分成两部分，遍历前一部分二分后一部分，并且排序 去重优化 代码 参考链接\nclass Solution { public: int minAbsDifference(vector\u003cint\u003e\u0026 nums, int goal) { const int n = nums.size(); int ans = abs(goal); vector\u003cint\u003e t1{0}, t2{0}; t1.reserve(1 \u003c\u003c (n / 2 + 1)), t2.reserve(1 \u003c\u003c (n / 2 + 1)); for (int i = 0; i \u003c n / 2; i++) for (int j = t1.size() - 1; j \u003e= 0; j--) t1.push_back(nums[i] + t1[j]); for (int i = n / 2; i \u003c n; i++) for (int j = t2.size() - 1; j \u003e= 0; j--) t2.push_back(nums[i] + t2[j]); auto it = unique(begin(t1), end(t1)); t1.resize(distance(begin(t1), it)); sort(begin(t1), end(t1), greater\u003cint\u003e()); it = unique(begin(t2), end(t2)); t2.resize(distance(begin(t2), it)); sort(begin(t2), end(t2)); for (const auto \u0026e : t1) { auto it = lower_bound(begin(t2), end(t2), goal - e); if (it != t2.end()) ans = min(ans, abs(goal - e - *it)); if (it != t2.begin()) ans = min(ans, abs(goal - e - *(--it))); } return ans; } }; Week 7 机器人跳跃问题-二分 思路 注意mid大于等于1e5时，一定可以完成游戏\n代码 #include #include using namespace std; const int N = 1e5 + 5; int h[N], n; bool check(long mid) { for (int i = 1; i \u003c= n; i++) { mid += mid - h[i]; if (mid \u003e 1e5) return true; if (mid \u003c 0) return false; } return true; } int main() { cin \u003e\u003e n; for (int i = 1; i \u003c= n; i++) cin \u003e\u003e h[i]; int l = 0, r = 1e5; while (l \u003c r) { const int mid = l + r \u003e\u003e 1; if (check(mid)) r = mid; else l = mid + 1; } cout \u003c\u003c l; return 0; } Z字形扫描 题目链接\n思路 下标之和为偶数，从下到上遍历 下标之和为奇数，从上到下遍历 代码 #include using namespace std; const int N = 505; int g[N][N], n; int main() { cin \u003e\u003e n; for (int i = 1; i \u003c= n; i++) for (int j = 1; j \u003c= n; j++) scanf(\"%d\", \u0026g[i][j]); for (int i = 2; i \u003c= 2 * n; i ++) { if (i % 2 == 0) { for (int j = i; j \u003e= 1; j--) { if (j \u003e= 1 \u0026\u0026 j \u003c= n \u0026\u0026 i - j \u003e= 1 \u0026\u0026 i - j \u003c= n) printf(\"%d \", g[j][i-j]); } } else { for (int j = 1; j \u003c= n; j++) { if (j \u003e= 1 \u0026\u0026 j \u003c= n \u0026\u0026 i - j \u003e= 1 \u0026\u0026 i - j \u003c= n) printf(\"%d \", g[j][i-j]); } } } return 0; } 动态求连续区间和-线段树 题目链接\n线段树-代码 #include #include using namespace std; const int N = 1e5 + 5; struct node { int l, r, sum; } tree[N \u003c\u003c 2]; int n, m, a[N]; void build(int u, int l, int r) { if (l == r) tree[u] = {l, r, a[l]}; else { const int mid = l + r \u003e\u003e 1; build(u\u003c\u003c1, l, mid), build(u\u003c\u003c1|1, mid+1, r); tree[u] = {l, r, tree[u\u003c\u003c1].sum + tree[u\u003c\u003c1|1].sum}; } } void update(int u, int i, int v) { if (tree[u].l == i \u0026\u0026 tree[u].r == i) tree[u].sum += v; else { const int mid = tree[u].l + tree[u].r \u003e\u003e 1; if (i \u003c= mid) update(u\u003c\u003c1, i, v); else update(u\u003c\u003c1|1, i, v); tree[u].sum = tree[u\u003c\u003c1].sum + tree[u\u003c\u003c1|1].sum; } } int query(int u, int l, int r) { if (tree[u].l == l \u0026\u0026 tree[u].r == r) return tree[u].sum; const int mid = tree[u].l + tree[u].r \u003e\u003e 1; if (r \u003c= mid) return query(u\u003c\u003c1, l, r); else if (l \u003e mid) return query(u\u003c\u003c1|1, l, r); else return query(u\u003c\u003c1, l, mid) + query(u\u003c\u003c1|1, mid+1, r); } int main() { scanf(\"%d%d\", \u0026n, \u0026m); for (int i = 1; i \u003c= n; i++) scanf(\"%d\", \u0026a[i]); build(1, 1, n); int k, a, b; while (m--) { scanf(\"%d%d%d\", \u0026k, \u0026a, \u0026b); if(!k) printf(\"%d\\n\", query(1, a, b)); else update(1, a, b); } return 0; } 树状数组-代码 #include #include using namespace std; const int N = 1e5 + 5; int C[N], n, m; void add(int x, int k) { for (int i = x; i \u003c= n; i += i \u0026 -i) C[i] += k; } int get_sum(int x) { int s = 0; for (int i = x; i \u003e= 1; i -= i \u0026 -i) s += C[i]; return s; } int main() { scanf(\"%d%d\", \u0026n, \u0026m); int t; for (int i = 1; i \u003c= n; i++) { scanf(\"%d\", \u0026t); add(i, t); } int k, a, b; while (m--) { scanf(\"%d%d%d\", \u0026k, \u0026a, \u0026b); if (!k) printf(\"%d\\n\", get_sum(b) - get_sum(a-1)); else add(a, b); } return 0; } 奇怪的数-组合计数 题目链接\n思路 划分为两类 0、1：$k$位, $ 2 \\le k \\le n - 2 $ 2、3：$n-k$位 放0、1：第一位不能放, 剩下$n-1$位可以放$k$个0、1-\u003e $ C_{n-1}^{k} $ 0的个数：$1 \\le cnt_0 \\le k-1$, 共$k-1$种可能，2的个数：$1 \\le cnt_2 \\le n-k-1$，共$n-k-1$种可能 $ ans = \\sum_{k=2}^{n-2}{C_{n-1}^{k}(k-1)(n-k-1)} $ 代码 #include using namespace std; const int N = 1005; int n, C[N][N]; const int mod = 1e9 + 7; int main() { cin \u003e\u003e n; for (int i = 0; i \u003c= n; i++) for (int j = 0; j \u003c= i; j++) if (!j) C[i][j] = 1; else C[i][j] = (C[i-1][j] + C[i-1][j-1]) % mod; int ans = 0; for (int k = 2; k \u003c= n - 2; k++) { ans = (ans + C[n-1][k] * 1ll * (k - 1) % mod * (n - k - 1)) % mod; } cout \u003c\u003c ans; return 0; } 最优配餐-多源BFS 题目链接\n思路 将起点都入队列进行BFS\n代码 #include #include #include #include using namespace std; const int N = 1005; int n, m, k, d, dist[N][N], w[N][N]; queue\u003cpair\u003cint, int\u003e\u003e Q; void bfs() { const int dx[]{-1, 0, 1, 0}, dy[]{0, 1, 0, -1}; while (!Q.empty()) { auto [x, y] = Q.front(); Q.pop(); for (int i = 0; i \u003c 4; i++) { int nx = x + dx[i], ny = y + dy[i]; if (nx \u003c= 0 || nx \u003e n || ny \u003c= 0 || ny \u003e n || dist[nx][ny] != -1) continue; dist[nx][ny] = dist[x][y] + 1; Q.push({nx, ny}); } } } int main() { scanf(\"%d%d%d%d\", \u0026n, \u0026m, \u0026k, \u0026d); memset(dist, -1, sizeof dist); int x, y; while (m--) { scanf(\"%d%d\", \u0026x, \u0026y); Q.push({x, y}); dist[x][y] = 0; } int c; for (int i = 0; i \u003c k; i++) { scanf(\"%d%d%d\", \u0026x, \u0026y, \u0026c); w[x][y] += c; } for (int i = 0; i \u003c d; i++) { scanf(\"%d%d\", \u0026x, \u0026y); dist[x][y] = -2; } bfs(); long ans = 0; for (int i = 1; i \u003c= n; i++) for (int j = 1; j \u003c= n; j++) { if (w[i][j]) ans += w[i][j] * dist[i][j] * 1ll; } printf(\"%ld\\n\", ans); return 0; } LeetCode-995 K 连续位的最小翻转次数 题目链接\n思路 差分数组d[i]表示i位置需要翻转的次数 - i-1位置需要翻转的次数 cnt表示当前位置需要翻转的次数 若A[i]+cnt是偶数则需要翻转：cnt++, d[i+k]++ 若i+K \u003e n则不可能\n代码 class Solution { public: int minKBitFlips(vector\u003cint\u003e\u0026 A, int K) { const int n = A.size(); vector\u003cint\u003e d(n + 1, 0); int cnt = 0, ans = 0; for (int i = 0; i \u003c n; i++) { cnt += d[i]; if (!((A[i] + cnt) \u0026 1)) { if (i + K \u003e n) return -1; ++cnt; ++ans; d[i+K]--; } } return ans; } }; 最小生成树 题目链接\nPrim #include #include #include using namespace std; using P = pair\u003cint, int\u003e; const int N = 2e5 + 5; vector\u003cP\u003e g[N]; bool vis[N]; int n, m; priority_queue\u003cP\u003e Q; int main() { scanf(\"%d%d\", \u0026n, \u0026m); int a, b, c; while (m--) { scanf(\"%d%d%d\", \u0026a, \u0026b, \u0026c); g[a].push_back({b, c}); g[b].push_back({a, c}); } Q.push({0, 1}); long ans = 0; for (int i = 0; i \u003c n; i++) { while (true) { auto [w, v] = Q.top(); Q.pop(); if (vis[v]) continue; vis[v] = true; ans += -w; for (auto [_v, _w] : g[v]) { if (vis[_v]) continue; Q.push({-_w, _v}); } break; } } printf(\"%ld\\n\", ans); return 0; } Kruskal #include #include #include #include using namespace std; class UF { vector\u003cint\u003e id, sz; public: UF(int N) { id.resize(N); sz.resize(N); for (int i = 0; i \u003c N; i++) { id[i] = i; sz[i] = 1; } } int find(int p) { while (p != id[p]) { id[p] = id[id[p]]; p = id[p]; } return p; } bool _union(int p, int q) { int i = find(p), j = find(q); if (i == j) return false; if (sz[i] \u003c sz[j]) { id[i] = j; sz[j] += sz[i]; } else { id[j] = i; sz[i] += sz[j]; } return true; } }; struct node { int w, u, v; friend bool operator\u003c(const node \u0026a, const node\u0026 b) { if (a.w == b.w) { return make_pair(a.u, a.v) \u003e make_pair(b.u, b.v); } return a.w \u003e b.w; } }; int n, m; priority_queue\u003cnode\u003e Q; int main() { scanf(\"%d%d\", \u0026n, \u0026m); UF uf(n); int a, b, c; while (m--) { scanf(\"%d%d%d\", \u0026a, \u0026b, \u0026c); Q.push({c, a, b}); } int cnt = 0; long ans = 0; while (!Q.empty() \u0026\u0026 cnt \u003c n - 1) { auto [w, u, v] = Q.top(); Q.pop(); if (uf._union(u-1, v-1)) { ans += w; ++cnt; } } printf(\"%ld\\n\", ans); return 0; } 单源最短路 题目链接\n代码 #include #include #include #include using namespace std; using P = pair\u003cint, int\u003e; const int N = 2505, M = 12500; int h[N], e[M], ne[M], w[M], idx; void add(int a, int b, int c) { e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx++; } int n, m, dist[N]; bool st[N]; priority_queue\u003cP\u003e Q; void dijkstra(int s, int t) { memset(dist, 0x3f, sizeof dist); Q.push({0, s}); dist[s] = 0; while (!Q.empty()) { auto [d, u] = Q.top(); Q.pop(); if (st[u]) continue; st[u] = true; for (int i = h[u]; ~i; i = ne[i]) { int v = e[i]; if (dist[v] \u003e -d + w[i]) { dist[v] = -d + w[i]; Q.push({-dist[v], v}); } } } } int main() { memset(h, -1, sizeof h); int s, t; scanf(\"%d%d%d%d\", \u0026n, \u0026m, \u0026s, \u0026t); int a, b, c; while (m--) { scanf(\"%d%d%d\", \u0026a, \u0026b, \u0026c); add(a, b, c); add(b, a, c); } dijkstra(s, t); printf(\"%d\\n\", dist[t]); return 0; } 网络延时-树形DP 题目链接\n思路 树形DP模板\n代码 #include #include #include using namespace std; const int N = 20005; int h[N], e[N], ne[N], idx; int n, m, f[N]; // f[u]: 表示u到最远叶节点的距离。显然如果u是节点，则f[u]=0 void add(int a, int b) { e[idx] = b, ne[idx] = h[a], h[a] = idx++; } int ans = 0; void dfs(int u) { // 求以u为根节点到叶节点的最大距离 int a = 0, b = 0; // a记录u到最远叶节点的距离，b记录u到次远叶节点的距离 for (int i = h[u]; ~i; i = ne[i]) { int v = e[i]; dfs(v); //求子节点j到最远叶节点的距离 int t = f[v] + 1; //u通过j能到的最远叶节点的距离 //更新a, b if (t \u003e= a) b = a, a = t; else if (t \u003e b) b = t; } f[u] = a; // 最后的答案就是u所能到的最远叶节点距离和次远叶节点距离之和 ans = max(ans, a + b); } int main() { memset(h, -1, sizeof h); scanf(\"%d%d\", \u0026n, \u0026m); int j; for (int i = 2; i \u003c= n + m; i++) { scanf(\"%d\", \u0026j); add(j, i); // 因为是自根向下DP，所以建一条边即可 } dfs(1); cout \u003c\u003c ans \u003c\u003c endl; return 0; } 序列化二叉树 题目链接\n代码 class Solution: def serialize(self, root): ans = \"\" def dfs_s(root): nonlocal ans if not root: ans += 'None ' return else: ans += str(root.val) + ' ' dfs_s(root.left) dfs_s(root.right) dfs_s(root) return ans def deserialize(self, data): A = data.split() k = 0 def dfs_d(): nonlocal A, k if k == len(A): return None if A[k] == 'None': k += 1 return None root = TreeNode(int(A[k])) k += 1 root.left = dfs_d() root.right = dfs_d() return root return dfs_d() 最大亦或和-线性基 题目链接\n思路 构造线性基的方法如下：对于集合中的每个数x转为二进制，从高位向低位扫，对于第i位是1的，如果p[i]不存在，那么p[i] = x结束扫描，如果存在，令x = x ^ p[i] 查询集合内任意几个元素xor最大值：从高位向低位扫，若xor上当前扫到的p[i]答案变大，就把答案xor上p[i] 查询原集合内任意几个元素xor的最小值，就是线性基集合所有元素中最小的那个 代码 #include #include using namespace std; using ull = unsigned long long; ull p[65]; int n; int main() { scanf(\"%d\", \u0026n); auto insert = [](ull x) { for (int i = 63; ~i; i--) { if (!(x \u003e\u003e i \u0026 1)) continue; if (!p[i]) { p[i] = x; break; } x ^= p[i]; } }; ull x; while (n--) { scanf(\"%lld\", \u0026x); insert(x); } ull ans = 0; for (int i = 63; ~i; i--) ans = max(ans, ans ^ p[i]); printf(\"%lld\", ans); return 0; } 通信网络-枚举+dfs 题目链接\n代码 #include #include #include using namespace std; const int N = 1005, M = 10005; int h[N], e[M], ne[M], idx; void add(int a, int b) { e[idx] = b, ne[idx] = h[a], h[a] = idx++; } int n, m; bool st[N][N]; void dfs(int s, int u) { st[s][u] = true; for (int i = h[u]; ~i; i = ne[i]) { int v = e[i]; if (st[s][v]) continue; dfs(s, v); } } int main() { memset(h, -1, sizeof h); scanf(\"%d%d\", \u0026n, \u0026m); int a, b; while (m--) { scanf(\"%d%d\", \u0026a, \u0026b); add(a, b); } for (int i = 1; i \u003c= n; i++) dfs(i, i); int ans = 0; for (int i = 1; i \u003c= n; i++) { for (int j = 1; j \u003c= n; j++) if (st[i][j]) st[j][i] = true; } for (int i = 1; i \u003c= n; i++) { int j = 1; for (; j \u003c= n; j++) if(!st[i][j]) break; if (j \u003e n) ++ans; } cout \u003c\u003c ans; return 0; } 压缩编码-区间DP 思路 状态表示f[i][j] 集合：所有将[i, j]合并成一堆的方案的集合 属性：最小值 状态计算：f[i][j] = min(f[i][j], f[i][k] + f[k+1][j] + s[j] - s[i-1]) 代码 #include #include #include using namespace std; const int N = 1005; int n, f[N][N], s[N]; int main() { scanf(\"%d\", \u0026n); for (int i = 1; i \u003c= n; i++) { scanf(\"%d\", \u0026s[i]); s[i] += s[i-1]; } for (int len = 2; len \u003c= n; len++) for (int i = 1; i + len - 1 \u003c= n; i++) { int j = i + len - 1; f[i][j] = INT_MAX; for (int k = i; k \u003c j; k++) f[i][j] = min(f[i][j], f[i][k] + f[k+1][j] + s[j] - s[i-1]); } cout \u003c\u003c f[1][n]; } 杂题记录 后序遍历 题目链接\n代码 #include #include #include #include using namespace std; const int N = 30; struct node { char c; node *l, *r; node(char _c) : c(_c), l(nullptr), r(nullptr) {} }; void print(node *root) { if (!root) return; print(root-\u003el); print(root-\u003er); printf(\"%c\", root-\u003ec); } unordered_map\u003cchar, int\u003e M; string A, B; node* dfs(int pl, int pr, int il, int ir) { if (pl \u003e pr) return nullptr; auto it = M[A[pl]]; node *root = new node(A[pl]); root-\u003el = dfs(pl + 1, pl + 1 + it - il - 1, il, it - 1); root-\u003er = dfs(pl + 1 + it - il, pr, it + 1, ir); return root; }; int main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); cin \u003e\u003e A \u003e\u003e B; const int n = A.size(); for (int i = 0; i \u003c n; i++) M[B[i]] = i; auto root = dfs(0, n - 1, 0, n - 1); print(root); return 0; } 树的遍历-中序后序求层次 题目链接\n代码 package main import \"fmt\" type TreeNode struct { val int left, right *TreeNode } var n int func main() { fmt.Scan(\u0026n) after, in := make([]int, n), make([]int, n) for i := range after { fmt.Scan(\u0026after[i]) } for i := range in { fmt.Scan(\u0026in[i]) } mp := make(map[int]int) for i := range in { mp[in[i]] = i } var dfs func(il, ir, al, ar int) (*TreeNode) dfs = func(il, ir, al, ar int) (*TreeNode) { if al \u003e ar { return nil } idx := mp[after[ar]] root := \u0026TreeNode{ val: after[ar], left: dfs(il, idx-1, al, al+idx-il-1), right: dfs(idx+1, ir, al+idx-il, ar-1), } return root } root := dfs(0, n-1, 0, n-1) que := make([](*TreeNode), 0) que = append(que, root) for len(que) != 0 { front := que[0] fmt.Printf(\"%d \", front.val) que = que[1:] if front.left != nil { que = append(que, front.left) } if front.right != nil { que = append(que, front.right) } } } 树中的最长路 题目链接\n代码 #include #include #include #include #include using namespace std; const int N = 1e5 + 5; int h[N], e[N], ne[N], idx; void add(int a, int b) { e[idx] = b, ne[idx] = h[a], h[a] = idx++; } int n, f[N], ans; void dfs(int u) { int a = 0, b = 0; for (int i = h[u]; ~i; i = ne[i]) { int v = e[i]; dfs(v); int t = f[v] + 1; if (t \u003e= a) b = a, a = t; else if (t \u003e b) b = t; } f[u] = a; ans = max(ans, a + b); } int main() { #ifndef ONLINE_JUDGE freopen(\"input.txt\", \"r\", stdin); freopen(\"output.txt\", \"w\", stdout); #endif ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); memset(h, -1, sizeof h); cin \u003e\u003e n; int a, b; for (int i = 0; i \u003c n - 1; i++) { cin \u003e\u003e a \u003e\u003e b; add(a, b); } dfs(1); cout \u003c\u003c ans \u003c\u003c '\\n'; return 0; } RMQ问题再临 题目链接\n代码 #include using namespace std; const int N = 1e4 + 5; struct node { int l, r, minv; } tree[N \u003c\u003c 2]; int n, m, a[N]; void build(int u, int l, int r) { if (l == r) tree[u] = {l, r, a[l]}; else { const int mid = l + r \u003e\u003e 1; build(u\u003c\u003c1, l, mid), build(u\u003c\u003c1|1, mid+1, r); tree[u] = {l, r, min(tree[u\u003c\u003c1].minv, tree[u\u003c\u003c1|1].minv)}; } } void update(int u, int i, int v) { if (tree[u].l == i \u0026\u0026 tree[u].r == i) tree[u].minv = v; else { const int mid = tree[u].l + tree[u].r \u003e\u003e 1; if (i \u003c= mid) update(u\u003c\u003c1, i, v); else update(u\u003c\u003c1|1, i, v); tree[u].minv = min(tree[u\u003c\u003c1].minv, tree[u\u003c\u003c1|1].minv); } } int query(int u, int l, int r) { if (tree[u].l == l \u0026\u0026 tree[u].r == r) return tree[u].minv; const int mid = tree[u].l + tree[u].r \u003e\u003e 1; if (r \u003c= mid) return query(u\u003c\u003c1, l, r); else if (l \u003e mid) return query(u\u003c\u003c1|1, l, r); else return min(query(u\u003c\u003c1, l, mid), query(u\u003c\u003c1|1, mid+1, r)); } int main() { ios::sync_with_stdio(false); cin.tie(nullptr), cout.tie(nullptr); cin \u003e\u003e n; for (int i = 1; i \u003c= n; i++) cin \u003e\u003e a[i]; cin \u003e\u003e m; build(1, 1, n); int a, b, c; while (m--) { cin \u003e\u003e a \u003e\u003e b \u003e\u003e c; if (!a) cout \u003c\u003c query(1, b, c) \u003c\u003c endl; else update(1, b, c); } return 0; } 无间道之并查集 题目链接\n代码 #include using namespace std; class UF { vector\u003cint\u003e id, sz; public: UF(int N) { id.resize(N), sz.resize(N); for (int i = 0; i \u003c N; i++) id[i] = i, sz[i] = 1; } int find(int x) { while (x != id[x]) { id[x] = id[id[x]]; x = id[x]; } return x; } bool is_connected(int p, int q) { int i = find(p), j = find(q); return i == j; } bool _union(int p, int q) { int i = find(p), j = find(q); if (i == j) return false; if (sz[i] \u003c sz[j]) { id[i] = j; sz[j] += sz[i]; } else { id[j] = i; sz[i] += sz[j]; } return true; } }; unordered_map\u003cstring, int\u003e M; int idx; int get_hash(const string \u0026str) { if (M.count(str)) return M[str]; else return M[str] = idx++; } int main() { ios::sync_with_stdio(false); cin.tie(nullptr), cout.tie(nullptr); int n; cin \u003e\u003e n; UF uf(n); int op; string a, b; while (n--) { cin \u003e\u003e op \u003e\u003e a \u003e\u003e b; int i = get_hash(a), j = get_hash(b); if (!op) uf._union(i, j); else { puts(uf.is_connected(i, j) ? \"yes\" : \"no\"); } } return 0; } 二分图判定 题目链接\n思路 染色法\n代码 #include #include #include #include #include using namespace std; const int N = 1e4 + 5, M = 1e5; int h[N], e[M], ne[M], idx; void add(int a, int b) { e[idx] = b, ne[idx] = h[a], h[a] = idx++; } int n, m, color[N]; bool dfs(int u, int c) { color[u] = c; for (int i = h[u]; ~i; i = ne[i]) { int v = e[i]; if (color[v]) { if (color[v] == c) return false; } else if (!dfs(v, 3 - c)) return false; } return true; } int main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin \u003e\u003e T; while (T--) { idx = 0; memset(h, -1, sizeof h); memset(color, 0, sizeof color); cin \u003e\u003e n \u003e\u003e m; int a, b; while (m--) { cin \u003e\u003e a \u003e\u003e b; add(a, b); add(b, a); } bool is_break = false; for (int i = 1; i \u003c= n; i++) if (!color[i] \u0026\u0026 !dfs(i, 1)) { is_break = true; break; } puts(is_break ? \"Wrong\" : \"Correct\"); } return 0; } 猜字谜 题目链接\n代码 class Solution { public: vector\u003cint\u003e findNumOfValidWords(vector\u003cstring\u003e\u0026 words, vector\u003cstring\u003e\u0026 puzzles) { unordered_map\u003cint, int\u003e mp; vector\u003cint\u003e ans(puzzles.size()); for (const auto \u0026e : words) { int t = 0; for (const auto \u0026c : e) t |= 1 \u003c\u003c (c - 'a'); auto tmp = bitset\u003c26\u003e(t); if (tmp.count() \u003e 7) continue; mp[t]++; } for (int i = 0; i \u003c puzzles.size(); i++) { string p = puzzles[i]; int mask = 0; for (int i = 1; i \u003c 7; i++) mask |= 1 \u003c\u003c (p[i] - 'a'); int subset = mask; do { int t = subset | (1 \u003c\u003c (p[0] - 'a')); if (mp.count(t)) ans[i] += mp[t]; subset = (subset - 1) \u0026 mask; } while (subset != mask); } return ans; } }; 至少有K个重复字符的最长子串 题目链接\nCode in Golang func longestSubstring(s string, k int) (ans int) { if s == \"\" { return 0 } cnt := [26]int{} for _, v := range(s) { cnt[v-'a']++ } var split byte for i, v := range(cnt) { if (v \u003e 0 \u0026\u0026 v \u003c k) { split = 'a' + byte(i) break } } if split == 0 { return len(s) } for _, v := range strings.Split(s, string(split)) { ans = max(ans, longestSubstring(v, k)) } return ans } func max(a, b int) int { if a \u003e b { return a } return b } Code in Python class Solution: def longestSubstring(self, s: str, k: int) -\u003e int: if len(s) \u003c k: return 0 for v in set(s): if s.count(v) \u003c k: return max(self.longestSubstring(t, k) for t in s.split(v)) return len(s) 找到 K 个最接近的元素 堆-$nlogk$做法 class Solution { public: vector\u003cint\u003e findClosestElements(vector\u003cint\u003e\u0026 arr, int k, int x) { priority_queue\u003cpair\u003cint, int\u003e\u003e Q; for (const auto \u0026e : arr) { Q.push({abs(e - x), e}); if (Q.size() \u003e k) Q.pop(); } vector\u003cint\u003e ans(k); int idx = 0; while (!Q.empty()) { ans[idx++] = Q.top().second; Q.pop(); } sort(ans.begin(), ans.end()); return ans; } }; 二分+双指针-$logn+k$做法(Rust) impl Solution { pub fn find_closest_elements(arr: Vec\u003ci32\u003e, k: i32, x: i32) -\u003e Vec\u003ci32\u003e { let n: i32 = arr.len() as i32; let mut l: i32 = 0; let mut r: i32 = n - 1; while l \u003c r { let mid: usize = ((l + r) / 2) as usize; if arr[mid] \u003e= x { r = mid as i32; } else { l = (mid + 1) as i32; } } if r \u003e 0 { let a = (i32::abs(arr[(r-1) as usize] - x), arr[(r-1) as usize]); let b = (i32::abs(arr[r as usize] - x), arr[r as usize]); if a \u003c b { r -= 1; } } let mut i: i32 = r; let mut j: i32 = r; for u in 0..k-1 { if ((i - 1) \u003c 0) { j += 1; } else if j + 1 \u003e= n { i -= 1; } else { let a = (i32::abs(arr[(i-1) as usize] - x), arr[(i-1) as usize]); let b = (i32::abs(arr[(j+1) as usize] - x), arr[(j+1) as usize]); if a \u003c b { i -= 1; } else { j += 1; } } } let mut ans = Vec::new(); for u in i..j+1 { ans.push(arr[u as usize]); } return ans; } } 二维区域和检索 - 矩阵不可变 题目链接\n思路 二位前缀和 构造: S[i][j] = a[i][j] + S[i-1][j] + S[i][j-1] - S[i-1][j-1] 计算: ans = S[x2][y2] - S[x1-1][y2] - S[x2][y1-1] + S[x1-1][y1-1] 代码 class NumMatrix { vector\u003cvector\u003cint\u003e\u003e C; public: NumMatrix(vector\u003cvector\u003cint\u003e\u003e\u0026 matrix) { if (matrix.empty()) return; const int n = matrix.size(), m = matrix[0].size(); C = vector\u003cvector\u003cint\u003e\u003e(n+1, vector\u003cint\u003e(m+1, 0)); for (int i = 1; i \u003c= n; i++) { for (int j = 1; j \u003c= m; j++) { C[i][j] = matrix[i-1][j-1] + C[i-1][j] + C[i][j-1] - C[i-1][j-1]; } } } int sumRegion(int row1, int col1, int row2, int col2) { int sum = C[row2+1][col2+1] - C[row1-1+1][col2+1] - C[row2+1][col1-1+1] + C[row1-1+1][col1-1+1]; return sum; } }; 比特位计数-动态规划 题目链接\n思路 y=x \u0026 (x - 1): y为将x的最低设置位从1变成0之后的数 状态定义：f[i]: i的比特位中1的个数 状态计算: f[i] = f[i \u0026 (i-1)] 代码 class Solution { public: vector\u003cint\u003e countBits(int num) { vector\u003cint\u003e f(num+1); for (int i = 1; i \u003c= num; i++) f[i] = f[i\u0026(i-1)] + 1; return f; } }; class Solution: def countBits(self, num: int) -\u003e List[int]: f = [0] * (num + 1) for i in range(1, num + 1): f[i] = f[i \u0026 (i - 1)] + 1 return f class Solution { public int[] countBits(int num) { int[] f = new int[num+1]; for (int i = 1; i \u003c= num; i++) f[i] = f[i \u0026 (i - 1)] + 1; return f; } } func countBits(num int) []int { f := make([]int, num+1) for i := 1; i \u003c= num; i++ { f[i] = f[i \u0026 (i - 1)] + 1 } return f } 俄罗斯套娃信封问题-LIS 题目链接\n解题思路 LIS变形\n代码 $O(n^2)$ class Solution { public: int maxEnvelopes(vector\u003cvector\u003cint\u003e\u003e\u0026 E) { if (E.empty()) return 0; sort(begin(E), end(E), [](vector\u003cint\u003e a, vector\u003cint\u003e b) { return (a[0] \u003c b[0] || (a[0] == b[0] \u0026\u0026 a[1] \u003e b[1])); }); const int n = E.size(); vector\u003cint\u003e f(n); for (int i = 0; i \u003c n; i++) { f[i] = 1; for (int j = 0; j \u003c i; j++) { if (E[i][1] \u003e E[j][1]) f[i] = max(f[i], f[j] + 1); } } return *max_element(begin(f), end(f)); } }; $O(nlogn)$ class Solution { public: int maxEnvelopes(vector\u003cvector\u003cint\u003e\u003e\u0026 E) { if (E.empty()) return 0; sort(begin(E), end(E), [](vector\u003cint\u003e a, vector\u003cint\u003e b) { return (a[0] \u003c b[0] || (a[0] == b[0] \u0026\u0026 a[1] \u003e b[1])); }); const int n = E.size(); vector\u003cvector\u003cint\u003e\u003e f; for (int i = 0; i \u003c n; i++) { auto it = lower_bound(begin(f), end(f), E[i], [](vector\u003cint\u003e a, vector\u003cint\u003e b) {return a[1] \u003c b[1];}); if (it == f.end()) f.push_back(E[i]); else *it = E[i]; } for (int i = 0; i \u003c f.size(); i++) cout \u003c\u003c f[i][0] \u003c\u003c \" \" \u003c\u003c f[i][1] \u003c\u003c endl; return f.size(); } }; 用栈实现队列-双栈 题目链接\n思路 双栈实现队列 当peek()和pop()时，如果输出栈为空，则将输入栈内容依次弹出，并压入输出栈 代码 代码 class MyQueue { stack\u003cint\u003e _in, out; void work() { while (!_in.empty()) { out.push(_in.top()); _in.pop(); } } public: /** _initialize your data structure here. */ MyQueue() { } /** Push element x to the back of queue. */ void push(int x) { _in.push(x); } /** Removes the element from _in front of queue and returns that element. */ int pop() { if (out.empty()) work(); auto res = out.top(); out.pop(); return res; } /** Get the front element. */ int peek() { if (out.empty()) work(); auto res = out.top(); return res; } /** Returns whether the queue is empty. */ bool empty() { return _in.empty() \u0026\u0026 out.empty(); } }; /** * Your MyQueue object will be _instantiated and called as such: * MyQueue* obj = new MyQueue(); * obj-\u003epush(x); * _int param_2 = obj-\u003epop(); * _int param_3 = obj-\u003epeek(); * bool param_4 = obj-\u003eempty(); */ 下一个更大元素-单调栈 题目链接\n思路 单调栈内对应元素单调不增 当遇到一个比当前栈顶元素大的元素，则出栈，并且出栈元素下一个更大元素为当前元素 因为环，所以将下标映射至1..2n-1 代码 C++ class Solution { public: vector\u003cint\u003e nextGreaterElements(vector\u003cint\u003e\u0026 nums) { const int n = nums.size(); vector\u003cint\u003e ans(n, -1); stack\u003cint\u003e the_stack; for (int i = 0; i \u003c 2 * n; i++) { while (!the_stack.empty() \u0026\u0026 nums[i % n] \u003e nums[the_stack.top()]) { ans[the_stack.top()] = nums[i % n]; the_stack.pop(); } the_stack.push(i % n); } return ans; } }; Java class Solution { public int[] nextGreaterElements(int[] nums) { final var n = nums.length; var ans = new int[n]; Arrays.fill(ans, -1); Stack\u003cInteger\u003e S = new Stack\u003c\u003e(); for (int i = 0; i \u003c 2 * n; i++) { while (!S.isEmpty() \u0026\u0026 nums[S.peek()] \u003c nums[i % n]) ans[S.pop()] = nums[i % n]; S.push(i % n); } return ans; } } Python3 class Solution: def nextGreaterElements(self, nums: List[int]) -\u003e List[int]: n = len(nums) ans = [-1] * n the_stack = [] for i in range(2 * n): while the_stack and (nums[i % n] \u003e nums[the_stack[-1]]): ans[the_stack.pop()] = nums[i % n] the_stack.append(i % n) return ans Golang func nextGreaterElements(nums []int) []int { n := len(nums) ans := make([]int, n) for i := range(ans) { ans[i] = -1 } stack := []int{} for i := 0; i \u003c 2 * n; i++ { for len(stack) \u003e 0 \u0026\u0026 nums[i % n] \u003e nums[stack[len(stack)-1]] { ans[stack[len(stack)-1]] = nums[i % n] stack = stack[:len(stack)-1] } stack = append(stack, i % n) } return ans } 分割回文串 题目链接\n思路 dfs + DP预处理 f[i][j] = f[i+1][j-1] \u0026\u0026 (s[i] == s[j])\n代码 class Solution { public: vector\u003cvector\u003cstring\u003e\u003e partition(string s) { const int n = s.length(); vector\u003cstring\u003e tmp; vector\u003cvector\u003cstring\u003e\u003e ans; vector\u003cvector\u003cbool\u003e\u003e f(n, vector\u003cbool\u003e(n, true)); for (int i = n - 1; i \u003e= 0; i--) { for (int j = i + 1; j \u003c n; j++) f[i][j] = f[i+1][j-1] \u0026\u0026 (s[i] == s[j]); } function\u003cvoid(int)\u003e dfs = [\u0026](int i) { if (i \u003e= n) { ans.push_back(tmp); return; } for (int j = i; j \u003c n; j++) { if (f[i][j]) { tmp.push_back(s.substr(i, j - i + 1)); dfs(j+1); tmp.pop_back(); } } }; dfs(0); return ans; } }; 从第一个节点出发到最后一个节点的受限路径数-记忆化搜索 题目链接\n思路 单源最短路+记忆化搜索\n代码 const int N = 2e4 + 5, M = 8e4 + 10; int h[N], e[M], ne[M], w[M], idx; void add(int a, int b, int c) { e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx++; } class Solution { public: int countRestrictedPaths(int n, vector\u003cvector\u003cint\u003e\u003e\u0026 edges) { idx = 0; memset(h, -1, sizeof h); for (const auto \u0026e : edges) { add(e[0], e[1], e[2]); add(e[1], e[0], e[2]); } vector\u003cint\u003e dist(n + 1, INT_MAX); vector\u003cbool\u003e st(n + 1, false); priority_queue\u003cpair\u003cint, int\u003e\u003e Q; Q.push({0, n}); dist[n] = 0; while (!Q.empty()) { auto [wgt, u] = Q.top(); Q.pop(); if (st[u]) continue; st[u] = true; dist[u] = -wgt; for (int i = h[u]; ~i; i = ne[i]) { int v = e[i]; if (-wgt + w[i] \u003c dist[v]) { dist[v] = -wgt + w[i]; Q.push({-dist[v], v}); } } } const int mod = 1e9 + 7; vector\u003cint\u003e f(n + 1, INT_MAX); function\u003cint(int)\u003e dfs = [\u0026](int u) { if (u == n) return 1; if (f[u] != INT_MAX) return f[u]; int ans = 0; for (int i = h[u]; ~i; i = ne[i]) { int v = e[i]; if (dist[u] \u003e dist[v]) ans = (ans + dfs(v)) % mod; } return f[u] = ans; }; return dfs(1); } }; 公共钥匙盒-模拟 题目链接\n代码 #include #include #include #include using namespace std; const int N = 1005; pair\u003cint, int\u003e T[N]; int n, k, a[N]; int main() { ios::sync_with_stdio(false); cin.tie(nullptr), cout.tie(nullptr); priority_queue\u003ctuple\u003cint, bool, int\u003e\u003e Q; cin \u003e\u003e n \u003e\u003e k; int w, s, c; for (int i = 1; i \u003c= n; i++) a[i] = i; while (k--) { cin \u003e\u003e w \u003e\u003e s \u003e\u003e c; T[w] = {s, c}; Q.push({ -s, false, -w}); Q.push({ -(s + c), true, -w}); } while (Q.size()) { auto it = Q.top(); auto t = get\u003c0\u003e(it); auto b = get\u003c1\u003e(it); auto w = get\u003c2\u003e(it); Q.pop(); if (!b) { for (int i = 1; i \u003c= n; i++) if (a[i] == -w) { a[i] = 0; break; } } else { for (int i = 1; i \u003c= n; i++) if (!a[i]) { a[i] = -w; break; } } } for (int i = 1; i \u003c= n; i++) cout \u003c\u003c a[i] \u003c\u003c \" \"; return 0; } 基本计算器-栈 题目链接\n代码 class Solution { public: int calculate(string s) { stack\u003cint\u003e sign; sign.push(1); int cur = 1; int ans = 0; const int n = s.length(); for (int i = 0; i \u003c n; i++) { if (s[i] == ' ') continue; else if (s[i] == '+') cur = sign.top(); else if (s[i] == '-') cur = -sign.top(); else if (s[i] == '(') sign.push(cur); else if (s[i] == ')') sign.pop(); else { int sum = 0; while (i \u003c n \u0026\u0026 s[i] \u003e= '0' \u0026\u0026 s[i] \u003c= '9') { sum = sum * 10 + (s[i] - '0'); ++i; } --i; ans += sum * cur; } } return ans; } }; 基本计算器II-栈 题目链接\n思路 如果数字前是+, 将数字压栈 如果数字前是-, 将数字相反数压栈 如果数字前是*, 将栈顶元素乘以数字 如果数字前是/, 将栈顶元素除以数字 代码 func calculate(s string) int { stack := []int{} num := 0 pre := '+' for i, v := range(s) { if v \u003e= '0' \u0026\u0026 v \u003c= '9' { num = num * 10 + int(v - '0') } if (!(v \u003e= '0' \u0026\u0026 v \u003c= '9') \u0026\u0026 v != ' ') || i == len(s)-1 { switch pre { case '+': stack = append(stack, num) case '-': stack = append(stack, -num) case '*': stack[len(stack)-1] *= num case '/': stack[len(stack)-1] /= num } pre = v num = 0 } } ans := 0 for _, v := range(stack) { ans += v } return ans } 验证二叉树的前序序列化 题目链接\n解题思路 遍历过程中：\n根结点提供两个出度 除了根结点以外的非空结点提供一个入度数、两个出度 空结点提供一个入度 还没遍历结束时候满足：入度 \u003c 出度\n代码 func isValidSerialization(preorder string) bool { if preorder == \"#\" { return true } res := strings.Split(preorder, \",\") in, out := 0, 0 for i := range(res) { if i == 0 { if res[i] == \"#\" { return false } out += 2 continue } if res[i] == \"#\" { in++ } else { in++ out += 2 } if i != len(res)-1 \u0026\u0026 out \u003c= in { return false } } return in == out } 设计哈希集合 题目链接\n思路 拉链法\n代码 C++ constexpr int N = 10007; class MyHashSet { int h[N], e[N], ne[N], idx; public: /** Initialize your data structure here. */ MyHashSet() { idx = 0; memset(h, -1, sizeof h); } void add(int key) { if (!contains(key)) { int k = key % N; e[idx] = key; ne[idx] = h[k]; h[k] = idx++; } } void remove(int key) { int k = key % N; if (h[k] == -1) return; if (e[h[k]] == key) // 第一个结点就是 h[k] = ne[h[k]]; for (int i = h[k]; ~i \u0026\u0026 ~ne[i]; i = ne[i]) { if (e[ne[i]] == key) { ne[i] = ne[ne[i]]; } } } /** Returns true if this set contains the specified element */ bool contains(int key) { int k = key % N; for (int i = h[k]; ~i; i = ne[i]) { if (e[i] == key) return true; } return false; } }; Golang const N = 10007 type MyHashSet struct { h []int e []int ne []int idx int } /** Initialize your data structure here. */ func Constructor() MyHashSet { t := make([]int, N) for i := range(t) { t[i] = -1 } return MyHashSet{t, make([]int, N), make([]int, N), 0} } func (this *MyHashSet) Add(key int) { if !this.Contains(key) { k := (key % N + N) % N this.e[this.idx] = key this.ne[this.idx] = this.h[k] this.h[k] = this.idx this.idx++ } } func (this *MyHashSet) Remove(key int) { k := (key % N + N) % N if this.h[k] == -1 { return } if this.e[this.h[k]] == key { this.h[k] = this.ne[this.h[k]] } for i := this.h[k]; i != -1 \u0026\u0026 this.ne[i] != -1; i = this.ne[i] { if this.e[this.ne[i]] == key { this.ne[i] = this.ne[this.ne[i]] } } } /** Returns true if this set contains the specified element */ func (this *MyHashSet) Contains(key int) bool { k := (key % N + N) % N for i := this.h[k]; i != -1; i = this.ne[i] { if this.e[i] == key { return true } } return false } 设计哈希映射 题目链接\n思路 拉链法\n代码 const N = 10007 type Pair struct { k int v int } type MyHashMap struct { h []int e []Pair ne []int idx int } /** Initialize your data structure here. */ func Constructor() MyHashMap { h := make([]int, N) for i := range(h) { h[i] = -1 } return MyHashMap{h, make([]Pair, N), make([]int, N), 0} } /** value will always be non-negative. */ func (this *MyHashMap) Put(key int, value int) { if this.Get(key) == -1 { k := (key % N + N) % N this.e[this.idx] = Pair{key, value} this.ne[this.idx] = this.h[k] this.h[k] = this.idx this.idx++ } else { k := (key % N + N) % N for i := this.h[k]; i != -1; i = this.ne[i] { if this.e[i].k == key { this.e[i].v = value } } } } /** Returns the value to which the specified key is mapped, or -1 if this map contains no mapping for the key */ func (this *MyHashMap) Get(key int) int { k := (key % N + N) % N for i := this.h[k]; i != -1; i = this.ne[i] { if this.e[i].k == key { return this.e[i].v } } return -1 } /** Removes the mapping of the specified value key if this map contains a mapping for the key */ func (this *MyHashMap) Remove(key int) { k := (key % N + N) % N if this.h[k] == -1 { return } if this.e[this.h[k]].k == key { this.h[k] = this.ne[this.h[k]] } for i := this.h[k]; i != -1 \u0026\u0026 this.ne[i] != -1; i = this.ne[i] { if this.e[this.ne[i]].k == key { this.ne[i] = this.ne[this.ne[i]] } } } 不同的子序列-DP 思路 $$ f[i][j] = \\begin{cases} f[i+1][j+1] + f[i+1][j], \u0026s[i] = t[j]\u0026 \\cr f[i+1][j], \u0026s[i] \\ne t[j] \\end{cases} $$\n代码 func numDistinct(s string, t string) int { n, m := len(s), len(t) if n \u003c m { return 0 } f := make([][]int, n+1) for i := range f { f[i] = make([]int, m+1) f[i][m] = 1 } for i := n-1; i \u003e= 0; i-- { for j := m-1; j \u003e= 0; j-- { if s[i] == t[j] { f[i][j] = f[i+1][j+1] + f[i+1][j] } else { f[i][j] = f[i+1][j] } } } return f[0][0] } 反转链表II 题目链接\n思路 创建头结点 a := m-1 将[m+1,n]指针反转 a-\u003enext-\u003enext = n+1 a-\u003enext = n 代码 func reverseBetween(head *ListNode, left int, right int) *ListNode { dummy := \u0026ListNode{0, head} a := dummy for i := 0; i \u003c left-1; i++ { a = a.Next } pre, cur := a.Next, a.Next.Next for i := 0; i \u003c right-left; i++ { tmp := cur.Next cur.Next = pre pre = cur cur = tmp } a.Next.Next = cur a.Next = pre return dummy.Next } 反转链表 题目链接\n迭代法 func reverseList(head *ListNode) *ListNode { var pre *ListNode cur := head for cur != nil { tmp := cur.Next cur.Next = pre pre = cur cur = tmp } return pre } 递归法 思路 首先我们先考虑 reverseList 函数能做什么，它可以翻转一个链表，并返回新链表的头节点，也就是原链表的尾节点。 所以我们可以先递归处理 reverseList(head-\u003enext)，这样我们可以将以head-\u003enext为头节点的链表翻转，并得到原链表的尾节点tail，此时head-\u003enext是新链表的尾节点，我们令它的next指针指向head，并将head-\u003enext指向空即可将整个链表翻转，且新链表的头节点是tail 代码 func reverseList(head *ListNode) *ListNode { if head == nil || head.Next == nil { return head } tail := reverseList(head.Next) head.Next.Next = head head.Next = nil return tail } 表达式求值-栈 题目链接\n思路 使用两个栈，一个存操作数，另一个存运算符 遇到左括号入栈，遇到右括号进行计算直到栈顶为左括号 代码 #include #include #include #include using namespace std; int main() { string str; cin \u003e\u003e str; const int n = str.length(); stack\u003cint\u003e stk; stack\u003cchar\u003e op; auto calculate = [\u0026]() { int a = stk.top(); stk.pop(); int b = stk.top(); stk.pop(); char c = op.top(); op.pop(); switch (c) { case '+': stk.push(b + a); break; case '-': stk.push(b - a); break; case '*': stk.push(b * a); break; case '/': stk.push(b / a); break; } }; unordered_map\u003cchar, int\u003e mp = {{'+', 1}, {'-', 1}, {'*', 2}, {'/', 2}}; for (int i = 0; i \u003c n; i++) { auto c = str[i]; if (isdigit(c)) { int j = i; int num = 0; while (j \u003c n \u0026\u0026 isdigit(str[j])) { num = num * 10 + str[j] - '0'; j++; } stk.push(num); i = j - 1; } else if (c == '(') { op.push(c); } else if (c == ')') { while (op.size() \u0026\u0026 op.top() != '(') { calculate(); } op.pop(); } else { while (op.size() \u0026\u0026 mp[op.top()] \u003e= mp[c]) { calculate(); } op.push(c); } } while (op.size()) { calculate(); } cout \u003c\u003c stk.top() \u003c\u003c endl; return 0; } 矩阵置零 题目链接\n思路 用两个变量记录第一行和第一列是否有0。 遍历整个矩阵，用矩阵的第一行和第一列记录对应的行和列是否有0。 把含有0的行和列都置成0。 代码 func setZeroes(matrix [][]int) { n, m := len(matrix), len(matrix[0]) r0, c0 := 1, 1 // 第0行是否应该置为0 for i := 0; i \u003c m; i++ { if matrix[0][i] == 0 { r0 = 0 } } // 第0列是否应该置为0 for i := 0; i \u003c n; i++ { if matrix[i][0] == 0 { c0 = 0 } } for i := 1; i \u003c n; i++ { for j := 1; j \u003c m; j++ { if matrix[i][j] == 0 { matrix[i][0] = 0 matrix[0][j] = 0 } } } // matrix[0][i]表示第i列是否该置为0 // matrix[i][0]表示第i行是否该置为0 // 把含有0的行和列都置成0 用第0行和第0列标记 for i := 1; i \u003c m; i++ { if matrix[0][i] == 0 { for j := 1; j \u003c n; j++ { matrix[j][i] = 0 } } } for i := 1; i \u003c n; i++ { if matrix[i][0] == 0 { for j := 1; j \u003c m; j++ { matrix[i][j] = 0 } } } if r0 == 0 { for i := 0; i \u003c m; i++ { matrix[0][i] = 0 } } if c0 == 0 { for i := 0; i \u003c n; i++ { matrix[i][0] = 0 } } } 不用加减乘除做加法 题目链接\n思路 两个整数做异或运算，得到不进位加法的运算结果 两个整数做与运算，然后左移一位，得到进位的运算结果 将上面得到的两个结果相加，即重复上述步骤直到进位的结果为0 代码 func add(num1 int, num2 int) int { for num2 != 0 { sum, carry := num1 ^ num2, (num1 \u0026 num2) \u003c\u003c 1 num1, num2 = sum, carry } return num1 } 132模式-单调栈 题目链接\n思路 从右到左维护一个单调递减的栈 维护一个次大值(初始值为INT_MIN) 如果当前的值小于次大值则找到132子序列 代码 func find132pattern(nums []int) bool { n := len(nums) stk := make([]int, 0) second := math.MinInt64 for i := n - 1; i \u003e= 0; i-- { if nums[i] \u003c second { return true } for len(stk) \u003e 0 \u0026\u0026 stk[len(stk)-1] \u003c nums[i] { second = stk[len(stk)-1] stk = stk[:len(stk)-1] } stk = append(stk, nums[i]) } return false } 直方图中最大矩形-单调栈 题目链接\n思路 单调栈可以解决：左边比当前值大或小的第一个数\n代码 #include #include using namespace std; constexpr int N = 100005; int n, h[N], l[N], r[N], stk[N]; void work() { for (int i = 1; i \u003c= n; i++) scanf(\"%d\", \u0026h[i]); // 设置边界为-1 h[0] = h[n+1] = -1; // 寻找左边界 stk[0] = 0; int tt = 0; for (int i = 1; i \u003c= n; i++) { while (h[stk[tt]] \u003e= h[i]) { tt--; } l[i] = stk[tt]; stk[++tt] = i; } // 寻找左边界 stk[0] = n+1; tt = 0; for (int i = n; i \u003e= 1; i--) { while (h[stk[tt]] \u003e= h[i]) { tt--; } r[i] = stk[tt]; stk[++tt] = i; } long long ans = 0; for (int i = 1; i \u003c= n; i++) { ans = max(ans, h[i] * 1ll * (r[i]-l[i]-1)); } printf(\"%lld\\n\", ans); } int main() { while (scanf(\"%d\", \u0026n)) { if (!n) return 0; work(); } return 0; } 删除排序链表中的重复元素 题目链接\n思路 pre保存当前结点前驱结点 找到右边第一个不相等的结点right 如果cur.Next == right则不用删，否则pre.Next = right删除 代码 func deleteDuplicates(head *ListNode) *ListNode { if head == nil || head.Next == nil { return head } pre := \u0026ListNode{0, head} ans, cur := pre, head for cur != nil { right := cur for right != nil \u0026\u0026 right.Val == cur.Val { right = right.Next } if cur.Next == right { pre = cur } else { pre.Next = right } cur = right } return ans.Next } 可达性统计-拓扑排序 题目链接\n思路 从x出发能够到达的点，是从“x的各个后续节点y”出发能够到达的点的并集，再加上x点本身 可以求出拓扑序，按照拓扑序逆序进行计算 代码 #include #include #include #include using namespace std; const int N = 30005; int h[N], ne[N], e[N], idx, d[N]; int n, m; void add(int a, int b) { e[idx] = b, ne[idx] = h[a], h[a] = idx++; } int seq[N], cnt; bitset\u003cN\u003e f[N]; void toposort() { int que[N]; int hh = 0, tt = -1; for (int i = 1; i \u003c= n; i++) if (!d[i]) que[++tt] = i; while (hh \u003c= tt) { int front = que[hh++]; seq[cnt++] = front; for (int i = h[front]; ~i; i = ne[i]) { int j = e[i]; if (--d[j] == 0) que[++tt] = j; } } } int main() { memset(h, -1, sizeof h); scanf(\"%d%d\", \u0026n, \u0026m); int a, b; while (m--) { scanf(\"%d%d\", \u0026a, \u0026b); add(a, b); d[b]++; } toposort(); for (int i = n-1; ~i; i--) { int j = seq[i]; f[j][j] = 1; for (int k = h[j]; ~k; k = ne[k]) { f[j] |= f[e[k]]; } } for (int i = 1; i \u003c= n; i++) printf(\"%lld\\n\", f[i].count()); return 0; } 二叉树的下一个结点 题目链接\n思路 若当前结点有右儿子，则右子树中最左侧的结点就是当前结点的后继 如果当前没有右儿子，则要沿着father域一直向上找，找到第一个是其father左儿子的结点，该结点的father就是当前结点的后继 代码 func inorderSuccessor(p *TreeNode) *TreeNode { if p.Right != nil { p = p.Right for p.Left != nil { p = p.Left } return p } for (p.Father != nil \u0026\u0026 p == p.Father.Right) { p = p.Father } return p.Father } 二叉搜索树迭代器-中序遍历非递归 题目链接\n思路 将根节点的左链入栈 当取出一个元素后，如果这个结点有右子树，则将其右子树的左链入栈 代码 type BSTIterator struct { stk []*TreeNode } func Constructor(root *TreeNode) BSTIterator { stk := make([](*TreeNode), 0) for root != nil { stk = append(stk, root) root = root.Left } return BSTIterator{stk} } func (this *BSTIterator) Next() int { root := this.stk[len(this.stk)-1] this.stk = this.stk[:len(this.stk)-1] ret := root.Val root = root.Right for root != nil { this.stk = append(this.stk, root) root = root.Left } return ret } func (this *BSTIterator) HasNext() bool { return len(this.stk) \u003e 0 } 翻转单词顺序 题目链接\n思路 将整个字符串翻转 翻转每个单词 时间复杂度 空间复杂度 $O(n)$ $O(1)$ 代码 class Solution { public: string reverseWords(string s) { const int n = s.length(); reverse(begin(s), end(s)); for (int i = 0; i \u003c n; i++) { int j = i + 1; while (j \u003c n \u0026\u0026 s[j] != ' ') ++j; reverse(begin(s) + i, begin(s) + j); i = j; } return s; } }; 搜索二维矩阵-二分 题目链接\n代码 时间复杂度 空间复杂度 $O(log(n^2)) = O(logn)$ $O(1)$ func searchMatrix(M [][]int, target int) bool { n, m := len(M), len(M[0]) l, r := 0, n * m - 1 for l \u003c r { mid := (l + r + 1) \u003e\u003e 1 if M[mid/m][mid%m] \u003c= target { l = mid } else { r = mid - 1 } } return M[l/m][l%m] == target } 二维数组中的查找 题目链接\n思路 我们可以发现：x左边的数都小于等于x，x下边的数都大于等于x\n如果 x 等于target，则说明我们找到了目标值，返回true； 如果 x 小于target，则 x 左边的数一定都小于target，我们可以直接排除当前一整行的数 如果 x 大于target，则 x 下边的数一定都大于target，我们可以直接排序当前一整列的数 时间复杂度 空间复杂度 $O(m+n)$ $O(1)$ 代码 func findNumberIn2DArray(M [][]int, target int) bool { if len(M) == 0 { return false } i, j := 0, len(M[0]) - 1 for i \u003c len(M) \u0026\u0026 j \u003e= 0 { if M[i][j] == target { return true } else if (M[i][j] \u003c target) { i++ } else { j-- } } return false } 子集II 思路 先排序，把所有相同的元素放在一起，之后统计相同元素个数，对于每个相同元素可以选择的次数为0-t(t表示元素出现次数) 将所有元素的所有次数可能相互组合即可得到所有解集 时间复杂度 空间复杂度 $O(n2^n)$ $O(n)$ 代码 class Solution { public: vector\u003cvector\u003cint\u003e\u003e subsetsWithDup(vector\u003cint\u003e\u0026 nums) { int n = nums.size(); sort(begin(nums), end(nums)); vector\u003cint\u003e tmp; vector\u003cvector\u003cint\u003e\u003e ans; function\u003cvoid(int)\u003e dfs = [\u0026](int u){ if (u \u003e= n) { ans.emplace_back(tmp); return; } int k = 0; while (u + k \u003c n \u0026\u0026 nums[u] == nums[u+k]) k++; for (int i = 0; i \u003c= k; i++) { dfs(u + k); tmp.emplace_back(nums[u]); } for (int i = 0; i \u003c= k; i++) tmp.pop_back(); }; dfs(0); return ans; } }; 递归实现组合型枚举 题目链接\n思路 时间复杂度 空间复杂度 $O(2^n)$ $O(n)$ 代码 #include #include using namespace std; const int N = 30; int n, m; int path[N]; // u是层数，start是起始值 void dfs(int u, int start) { if (u \u003e m) { for (int i = 1; i \u003c= m; i++) cout \u003c\u003c path[i] \u003c\u003c \" \"; cout \u003c\u003c endl; return; } for (int i = start; i \u003c= n; i++) { path[u] = i; dfs(u + 1, i + 1); path[u] = 0; } } int main() { cin \u003e\u003e n \u003e\u003e m; dfs(1, 1); return 0; } 直方图的水量-单调栈|DP 题目链接\n单调栈 思路 维护一个单调栈（严格递减），那么一定有height[t] \u003e height[left](left是栈顶下面的元素) 若height[i] \u003e height[t]则可形成一个盛水区域，宽度为i-left-1，高度为min(height[i], height[left])-height[t] 时间复杂度 空间复杂度 $O(n)$ $O(n)$ 代码 func trap(height []int) int { stk := make([]int, 0) ans := 0 for i := range height { for len(stk) \u003e 0 \u0026\u0026 height[i] \u003e= height[stk[len(stk)-1]] { top := stk[len(stk)-1] stk = stk[:len(stk)-1] if len(stk) \u003c= 0 { break } left := stk[len(stk)-1] ans += (i - left - 1) * (min(height[i], height[left])-height[top]) } stk = append(stk, i) } return ans } func min(a, b int) int { if a \u003c b { return a } return b } DP 思路 对于下标 i，水能到达的最大高度等于下标 i 两边的最大高度的最小值，下标 i 处能接的水的量等于下标 i 处的水能到达的最大高度减去 height[i]。\n时间复杂度 空间复杂度 $O(n)$ $O(n)$ 代码 func trap(height []int) int { n := len(height) if n == 0 { return 0 } left, right := make([]int, n), make([]int, n) left[0] = height[0] for i := 1; i \u003c n; i++ { left[i] = max(left[i-1], height[i]) } right[n-1] = height[n-1] for i := n-2; i \u003e= 0; i-- { right[i] = max(right[i+1], height[i]) } ans := 0 for i := range height { ans += min(left[i], right[i]) - height[i] } return ans } func min(a, b int) int { if a \u003c b { return a } return b } func max(a, b int) int { if a \u003e b { return a } return b } 雨-最短路变形 题目链接\n思路 将海水抽象为一个源点 求海水到每个点所经过的点的最大权值的最短路 代码 package main import ( \"fmt\" \"container/heap\" ) type Node struct { x int y int d int } type NodeHeap []Node func (n NodeHeap) Len() int { return len(n) } func (n NodeHeap) Swap(i, j int) { n[i], n[j] = n[j], n[i] } func (n NodeHeap) Less(i, j int) bool { return n[i].d \u003c n[j].d } func (n *NodeHeap) Push(h interface{}) { *n = append(*n, h.(Node)) } func (n *NodeHeap) Pop() (x interface{}) { x = (*n)[len(*n)-1] *n = (*n)[:len(*n)-1] return } func main() { var T int fmt.Scan(\u0026T) var n, m int for C := 1; C \u003c= T; C++ { fmt.Scan(\u0026n, \u0026m) h := make([][]int, n+1) dist := make([][]int, n+1) st := make([][]bool, n+1) for i := 1; i \u003c= n; i++ { h[i] = make([]int, m+1) st[i] = make([]bool, m+1) dist[i] = make([]int, m+1) for j := 1; j \u003c= m; j++ { fmt.Scan(\u0026h[i][j]) dist[i][j] = int(^uint(0)\u003e\u003e1) } } hp := \u0026NodeHeap{} heap.Init(hp) for i := 1; i \u003c= n; i++ { heap.Push(hp, Node{i, 1, h[i][1]}) dist[i][1] = h[i][1] heap.Push(hp, Node{i, m, h[i][m]}) dist[i][m] = h[i][m] } for i := 2; i \u003c= m; i++ { heap.Push(hp, Node{1, i, h[1][i]}) dist[1][i] = h[1][i] heap.Push(hp, Node{n, i, h[n][i]}) dist[n][i] = h[n][i] } ans := 0 dx, dy := [4]int{-1, 0, 1, 0}, [4]int{0, 1, 0, -1} for hp.Len() \u003e 0 { top := heap.Pop(hp).(Node) st[top.x][top.y] = true ans += top.d - h[top.x][top.y] for i := range dx { nx, ny := top.x + dx[i], top.y + dy[i] if nx \u003c 1 || nx \u003e n || ny \u003c 1 || ny \u003e m || st[nx][ny] { continue } if dist[nx][ny] \u003e max(top.d, h[nx][ny]) { dist[nx][ny] = max(top.d, h[nx][ny]) heap.Push(hp, Node{nx, ny, dist[nx][ny]}) } } } fmt.Printf(\"Case #%d: %d\\n\", C, ans) } } func max(a, b int) (x int) { if a \u003e b { x = a } else { x = b } return } 密码脱落-LCS 题目链接\n思路 求字符串及其翻转串的LCS长度\n时间复杂度 空间复杂度 $O(n^2)$ $O(n^2)$ 代码 package main import \"fmt\" func reverse(s string) (res string) { a := []rune(s) n := len(a) for i, j := 0, n-1; i \u003c j; i, j = i+1, j-1 { a[i], a[j] = a[j], a[i] } return string(a) } func main() { var a, b string fmt.Scanf(\"%s\", \u0026a) n := len(a) b = reverse(a) f := make([][]int, n+1) for i := range f { f[i] = make([]int, n+1) } for i := 1; i \u003c= n; i++ { for j := 1; j \u003c= n; j++ { if a[i-1] == b[j-1] { f[i][j] = f[i-1][j-1] + 1 } else { f[i][j] = max(f[i-1][j], f[i][j-1]) } } } fmt.Println(n - f[n][n]) } func max(a, b int) int { if a \u003e b { return a } return b } 森林中的兔子 题目链接\n思路 统计每种$x$出现的次数 若$x$出现了$k$次为了使得兔子数量最小，则兔子种类数为 $\\lceil \\frac{k}{x+1} \\rceil$, 且每种兔子数量为$x+1$ 则兔子总数为$\\sum_i^n{ \\lceil \\frac{k_i}{x_i+1} \\rceil \\times (x_i+1)}$ 例如有13只兔子回答5，则至少有六只同一种类兔子记为红色，还有六只另一种类记为蓝色，还剩下一只兔子回答5，则必然还有五只兔子与这一只兔子颜色相同记为白色。综上有$\\lceil \\frac{13}{5+1} \\rceil \\times (5+1) = 18$只兔子。 时间复杂度 空间复杂度 $O(n)$ $O(n)$ 代码 func numRabbits(answers []int) int { mp := make(map[int]int) for i := range answers { mp[answers[i]]++ } ret := 0 for k, v := range mp { ret += (v + k) / (k + 1) * (k + 1); } return ret; } 石子合并-区间DP 题目链接\n思路 $f[i][j]$表示将表示将 $i$ 到 $j$ 合并成一堆的方案的集合，属性是最小值 $f[i][j]=min_{i≤k≤j−1}\\{f[i][k]+f[k+1][j]+s[j]−s[i−1]\\}$ 时间复杂度 空间复杂度 $O(n^3)$ $O(n^2)$ 代码 package main import \"fmt\" const N = 305 var n int var s [N]int var f [N][N]int func main() { fmt.Scan(\u0026n) for i := 1; i \u003c= n; i++ { fmt.Scan(\u0026s[i]) s[i] += s[i-1] } for len := 2; len \u003c= n; len++ { for i := 1; i + len - 1 \u003c= n; i++ { j := i + len - 1 f[i][j] = int(^uint(0) \u003e\u003e 1) for k := i; k \u003c j; k++ { f[i][j] = min(f[i][j], f[i][k] + f[k+1][j] + s[j] - s[i-1]) } } } fmt.Println(f[1][n]) } func min(a, b int) int { if a \u003c b { return a } return b } 环形石子合并 题目链接\n思路 破环成链 求所有区间长度为n的链形石子合并 枚举长度为n的区间，取max 代码 package main import \"fmt\" const ( N = 405 INT_MAX = int(^uint(0) \u003e\u003e 1) INT_MIN = -INT_MAX - 1 ) var ( n int f [N][N]int g [N][N]int s [N]int a [N]int ) func main() { fmt.Scan(\u0026n) for i := 1; i \u003c= n; i++ { fmt.Scan(\u0026a[i]) a[i+n] = a[i] } for i := 1; i \u003c= 2*n; i++ { s[i] = s[i-1] + a[i] } for l := 2; l \u003c= n; l++ { for i := 1; i+l-1 \u003c= 2*n; i++ { j := i + l - 1 f[i][j], g[i][j] = INT_MAX, INT_MIN for k := i; k \u003c j; k++ { f[i][j], g[i][j] = min(f[i][j], f[i][k]+f[k+1][j]+s[j]-s[i-1]), max(g[i][j], g[i][k]+g[k+1][j]+s[j]-s[i-1]) } } } minv, maxv := INT_MAX, INT_MIN for i := 1; i \u003c= n; i++ { minv = min(minv, f[i][i+n-1]) maxv = max(maxv, g[i][i+n-1]) } fmt.Println(minv) fmt.Println(maxv) } func min(a, b int) int { if a \u003c b { return a } return b } func max(a, b int) int { if a \u003e b { return a } return b } 合并两个有序数组 题目链接\n解题思路 指针从后往前移动 每次将较大值插到后面 时间复杂度 空间复杂度 $O(m+n)$ $O(1)$ 代码 func merge(A []int, m int, B []int, n int) { i, j := m-1, n-1 for k := m+n-1; k \u003e= 0; k-- { if i == -1 { A[k] = B[j] j-- } else if j == -1 { A[k] = A[i] i-- } else if A[i] \u003e B[j] { A[k] = A[i] i-- } else { A[k] = B[j] j-- } } } 删除有序数组中的重复项II 题目链接\n思路 k指向新数组的末尾 遍历数组，若当前元素不等于nums[k-2]则插入新数组的末尾 时间复杂度 空间复杂度 $O(n)$ $O(1)$ 代码 func removeDuplicates(nums []int) int { n := len(nums) if n \u003c= 2 { return n } k := 2 for i := 2; i \u003c n; i++ { if nums[i] != nums[k-2] { nums[k] = nums[i] k++ } } return k } 搜索旋转排序数组II-二分 题目链接\n思路 nums[l] == nums[mid]：不能确定哪一个区间是有序的，l++ nums[l] \u003c nums[mid]：左区间是有序的 nums[l] \u003e nums[mid]：右区间是有序的 时间复杂度 空间复杂度 $O(n)$ $O(1)$ 代码 func search(nums []int, target int) bool { n := len(nums) if n == 0 { return false } l, r := 0, n-1 for l \u003c= r { mid := (l + r) \u003e\u003e 1 if nums[mid] == target { return true } else if nums[l] == nums[mid] { l++ continue } else if nums[l] \u003c nums[mid] { if nums[l] \u003c= target \u0026\u0026 target \u003c nums[mid] { r = mid - 1 } else { l = mid + 1 } } else { if nums[mid] \u003c target \u0026\u0026 target \u003c= nums[r] { l = mid + 1 } else { r = mid - 1 } } } return false } 0到n-1中缺失的数字-二分 题目链接\n思路 https://cdn.acwing.com/media/article/image/2019/05/31/1_37a28f4683-%E7%BC%BA%E5%A4%B1%E6%95%B0%E5%AD%97.png\" position=“center” style=“zoom: 80% ;”\n时间复杂度 空间复杂度 $O(logn)$ $O(1)$ 代码 class Solution { public: int getMissingNumber(vector\u003cint\u003e\u0026 nums) { const int n = nums.size(); if (!n) { return 0; } if (nums[n-1] == n-1) { return n; } int l = 0, r = n-1; while (l \u003c r) { const int mid = (l + r) \u003e\u003e 1; if (nums[mid] != mid) { r = mid; } else { l = mid + 1; } } return l; } }; 移去K位数字-贪心 题目链接\n思路 如果字符串已经是有序的，则应该删除后$k$位 如果出现逆序，则应该把前一个元素删除 时间复杂度 空间复杂度 $O(n)$ $O(1)$ 代码 package main import ( \"fmt\" ) func main() { var s string var k int fmt.Scan(\u0026s, \u0026k) ans := \"0\" for _, v := range s { for k \u003e 0 \u0026\u0026 ans[len(ans)-1] \u003e byte(v) { ans = ans[:len(ans)-1] k-- } ans += string(v) } for k \u003e 0 { ans = ans[:len(ans)-1] k-- } i := 0 for i \u003c len(ans) - 1 \u0026\u0026 ans[i] == '0' { i++ } fmt.Println(ans[i:]) } 二叉搜索树节点最小距离 题目链接\n思路 二叉搜索树中序遍历有序\n时间复杂度 空间复杂度 $O(n)$ $O(1)$ 代码 const MAX int = int(^uint(0) \u003e\u003e 1) func minDiffInBST(root *TreeNode) (ans int) { ans = MAX var last int is_first := false var dfs func(root *TreeNode) dfs = func(root *TreeNode) { if root == nil { return } dfs(root.Left) if (!is_first) { is_first = true } else { ans = min(ans, root.Val - last) } last = root.Val dfs(root.Right) } dfs(root) return } func min(a, b int) int { if a \u003c b { return a } return b } 实现Trie树 思路 字典树 代码 type Trie struct { son [26]*Trie isEnd bool } /** Initialize your data structure here. */ func Constructor() Trie { return Trie{} } func (this *Trie) query(word string) (res *Trie) { node := this for _, v := range word { t := v - 'a' if node.son[t] == nil { res = nil return } node = node.son[t] } res = node return } /** Inserts a word into the trie. */ func (this *Trie) Insert(word string) { node := this for _, v := range word { t := v - 'a' if node.son[t] == nil { node.son[t] = \u0026Trie{} } node = node.son[t] } node.isEnd = true } /** Returns if the word is in the trie. */ func (this *Trie) Search(word string) bool { node := this.query(word) return node != nil \u0026\u0026 node.isEnd } /** Returns if there is any word in the trie that starts with the given prefix. */ func (this *Trie) StartsWith(prefix string) bool { return this.query(prefix) != nil } 前缀统计-Trie 题目链接\n链表代码 package main import \"fmt\" type Trie struct { son [26]*Trie isEnd bool cnt int } func NewTrie() *Trie { return \u0026Trie{} } func (t *Trie) insert(word string) { node := t for _, v := range word { c := v - 'a' if node.son[c] == nil { node.son[c] = NewTrie() } node = node.son[c] } node.cnt++ node.isEnd = true } func (t *Trie) query(word string) (ans int) { node := t for _, v := range word { c := v - 'a' if node.son[c] == nil { return ans } node = node.son[c] ans += node.cnt } return } func main() { var n, m int fmt.Scan(\u0026n, \u0026m) var s string t := NewTrie() for i := 0; i \u003c n; i++ { fmt.Scan(\u0026s) t.insert(s) } for i := 0; i \u003c m; i++ { fmt.Scan(\u0026s) fmt.Println(t.query(s)) } } 数组代码 package main import \"fmt\" const N = 1e6 + 5 var ( n, m int son [N][26]int idx int cnt [N]int ) func insert(word string) { p := 0 for _, v := range word { t := v - 'a' if son[p][t] == 0 { idx++ son[p][t] = idx } p = son[p][t] } cnt[p]++ } func query(word string) (ans int) { p := 0 for _, v := range word { t := v - 'a' if son[p][t] == 0 { return } p = son[p][t] ans += cnt[p] } return } func main() { fmt.Scan(\u0026n, \u0026m) var s string for i := 0; i \u003c n; i++ { fmt.Scan(\u0026s) insert(s) } for i := 0; i \u003c m; i++ { fmt.Scan(\u0026s) fmt.Println(query(s)) } } 打家劫舍II-DP 解题思路 时间复杂度 空间复杂度 $O(n)$ $O(n)$ 代码 func rob(nums []int) int { n := len(nums) if n == 1 { return nums[0] } f := make([][2]int, n) f[0][0], f[0][1] = math.MinInt64, nums[0] for i := 1; i \u003c n; i++ { f[i][0] = max(f[i-1][0], f[i-1][1]) f[i][1] = f[i-1][0] + nums[i] } res := f[n-1][0] f[0][0], f[0][1] = 0, math.MinInt64 for i := 1; i \u003c n; i++ { f[i][0] = max(f[i-1][0], f[i-1][1]) f[i][1] = f[i-1][0] + nums[i] } return max(res, max(f[n-1][0], f[n-1][1])) } func max(a, b int) int { if a \u003e b { return a } return b } 扰乱字符串-DP 题目链接\n思路 状态表示f[i][j][k] 集合：s1[i..i+k-1]和s2[j..j+k-1]所有匹配的方案的集合 属性：集合是否为空集 状态计算：f[i][j][k]按s1第一段的长度划分成k-1类，有两种匹配方案 f[i][j][u] \u0026\u0026 f[i+u][j+u][k-u] f[i][j+k-u][u] \u0026\u0026 f[i+u][j][k-u] 时间复杂度 空间复杂度 $O(n^4)$ $O(n^3)$ 代码 func isScramble(s1 string, s2 string) bool { n := len(s1) f := make([][][]bool, n) for i := range f { f[i] = make([][]bool, n) for j := range f[i] { f[i][j] = make([]bool, n+1) } } for k := 1; k \u003c= n; k++ { for i := 0; i+k-1 \u003c n; i++ { for j := 0; j+k-1 \u003c n; j++ { if k == 1 { if s1[i] == s2[j] { f[i][j][k] = true } } else { for u := 1; u \u003c k; u++ { if f[i][j][u] \u0026\u0026 f[i+u][j+u][k-u] || f[i][j+k-u][u] \u0026\u0026 f[i+u][j][k-u] { f[i][j][k] = true break } } } } } } return f[0][0][n] } 重复元素III-滑动窗口 题目链接\n思路 有序集合中查找大于等于 x - t 的最小的元素 y，如果 y 存在，且 y \u003c= x + t则存在 有序集合中元素数量超过了 k，将有序集合中最早被插入的元素删除即可 时间复杂度 空间复杂度 $O(nlogk)$ $O(k)$ 代码 class Solution { public: bool containsNearbyAlmostDuplicate(vector\u003cint\u003e\u0026 nums, int k, int t) { set\u003clong\u003e st; const int n = nums.size(); for (int i = 0; i \u003c n; i++) { auto it = st.lower_bound(nums[i]*1l-t); if (it != end(st) \u0026\u0026 *it \u003c= nums[i]*1l+t) { return true; } st.insert(nums[i]); if (i-k \u003e= 0) st.erase(nums[i-k]); } return false; } }; 解码方法-dp 题目链接\n思路 状态表示：$f[i]$表示前 $i$ 个数字共有多少种解码方式。 状态转移： 如果第 $i$ 个数字不是$0$，则 $i$ 个数字可以单独解码成一个字母，此时的方案数等于用前 $i−1$ 个数字解码的方案数，即 $f[i−1]$ 如果第 $i−1$个数字和第 $i$个数字组成的两位数在 $10$ 到 $26$ 之间，则可以将这两位数字解码成一个字符，此时的方案数等于用前 $i−2$ 个数字解码的方案数，即 $f[i−2]$ 时间复杂度 空间复杂度 $O(n)$ $O(n)$ 代码 func numDecodings(s string) int { n := len(s) f := make([]int, n+1) f[0] = 1 for i := 1; i \u003c= n; i++ { if s[i-1] != '0' { f[i] += f[i-1] } if i \u003e 1 { t := (s[i-2] - '0') * 10 + s[i-1] - '0' if t \u003e= 10 \u0026\u0026 t \u003c= 26 { f[i] += f[i-2] } } } return f[n] } 矩形区域不超过 K 的最大数值和-前缀和 题目链接\n思路 二重循环枚举矩形的上边界和下边界，时间复杂度O(n^2) 在一维数组求和不超过K的最大子数组的和，我们可以在O(nlogn)的时间复杂度内求解。我们知道可以使用前缀和求解子区间和：sum(A[i:j])=preSum[j]−preSum[i−1]。那么对于每一个preSum[j]，我们可以将遇到过的前缀后存入一个set中，再从set中找到一个大于等于preSum[j]−k的最小值，这样他们的差值就是小于等于kk的最大值。这种查找的时间复杂度是logn的，总共需要查找n次，所以总共的时间复杂度为O(nlogn) 时间复杂度 空间复杂度 $O(m^2nlogn)$ $O(n)$ 代码 class Solution { public: int maxSumSubmatrix(vector\u003cvector\u003cint\u003e\u003e\u0026 A, int k) { const int m = A.size(), n = A[0].size(); int ans = INT_MIN; for (int i = 0; i \u003c m; i++) { vector\u003cint\u003e sum(n); for (int j = i; j \u003c m; j++) { for (int k = 0; k \u003c n; k++) { sum[k] += A[j][k]; } set\u003cint\u003e st{0}; int s = 0; for (const auto \u0026e : sum) { s += e; auto it = st.lower_bound(s - k); if (it != st.end()) { ans = max(ans, s - *it); } st.insert(s); } } } return ans; } }; 最大整除子集-dp 题目链接\n解题思路 前提：升序 状态集合：$f[i]$表示最大元素为$nums[i]$的有效解子集 属性：有效子集大小 状态计算：$f[i]=max(f[i], f[j]+1), j=0..i-1$ 倒序遍历$f$找到集合元素 时间复杂度 空间复杂度 $O(n^2)$ $O(n)$ 代码 func largestDivisibleSubset(nums []int) []int { sort.Ints(nums) n := len(nums) f := make([]int, n) for i := range f { f[i] = 1 } maxLen := 1 for i := range f { for j := 0; j \u003c i; j++ { if nums[i] % nums[j] == 0 { f[i] = max(f[i], f[j] + 1) maxLen = max(maxLen, f[i]) } } } ans := make([]int, maxLen) end := true for i := n-1; i \u003e= 0 \u0026\u0026 maxLen \u003e 0; i-- { if f[i] == maxLen \u0026\u0026 (end || ans[maxLen] % nums[i] == 0) { ans[maxLen-1] = nums[i] end = false maxLen-- } } return ans } func max(a, b int) int { if a \u003e b { return a } return b } 整数拆分-完全背包 题目链接\n思路 完全背包\n状态表示：$f[i]$表示$i$的不同拆分方式数 状态计算：$f[i]=f[j]+f[j-2^i], 0 \\le 2^i \\le n$ 时间复杂度 空间复杂度 $O(nlogn)$ $O(n)$ 代码 package main import \"fmt\" const ( N = 1e6 + 5 mod = 1e9 ) var ( n int f [N]int ) func main() { fmt.Scan(\u0026n) f[0] = 1 for i := 0; 1\u003c\u003ci \u003c= n; i++ { for j := 1\u003c\u003ci; j \u003c= n; j++ { f[j] = (f[j] + f[j-1\u003c\u003ci]) % mod } } fmt.Println(f[n]) } func max(a, b int) int { if a \u003e b { return a } return b } 组合总和IV-DP 题目链接\n思路 考虑顺序背包-\u003e先枚举体积，再枚举物品\n时间复杂度 空间复杂度 $O(mn)$ $O(n)$ 代码 func combinationSum4(nums []int, target int) int { f := make([]int, target+1) f[0] = 1 for i := 0; i \u003c= target; i++ { for _, v := range nums { if i \u003e= v { f[i] += f[i-v] } } } return f[target] } 最大的和-前缀和\u0026滑动窗口 题目连接\n代码 package main import \"fmt\" const N = 1e5 + 5 var ( n int k int A [N]int B [N]bool ) func main() { fmt.Scan(\u0026n, \u0026k) for i := 0; i \u003c n; i++ { fmt.Scan(\u0026A[i]) } sum := 0 for i := 0; i \u003c n; i++ { fmt.Scan(\u0026B[i]) if B[i] { sum += A[i] } } ans := 0 for i := 0; i \u003c n; i++ { if !B[i] { sum += A[i] } if i \u003e= k \u0026\u0026 !B[i-k] { sum -= A[i-k] } ans = max(ans, sum) } fmt.Println(ans) } func max(a, b int) int { if a \u003e b { return a } return b } 八数码-A* 题目链接\n代码 #include #include #include #include #include #include using namespace std; const int dx[] = {-1, 0, 1, 0}, dy[] = {0, 1, 0, -1}; const string go = \"urdl\"; string s, t = \"12345678x\"; int get_f(const string \u0026sts, int g) { int f = g; for (int i = 0; i \u003c 9; i++) { if (sts[i] != t[i]) { f++; } } return f; } unordered_map\u003cstring, int\u003e mp; priority_queue\u003cpair\u003cint, string\u003e\u003e que; unordered_map\u003cstring, pair\u003cchar, string\u003e\u003e path; int get_x(const string \u0026sts) { for (int i = 0; i \u003c 9; i++) { if (sts[i] == 'x') return i; } return -1; } void dfs(const string \u0026tmp) { if (!path.count(tmp)) return; dfs(path[tmp].second); printf(\"%c\", path[tmp].first); } bool check(const string \u0026tmp) { int cnt = 0; for (int i = 0; i \u003c 9; i++) { if (tmp[i] == 'x') continue; for (int j = i + 1; j \u003c 9; j++) { if (tmp[j] != 'x' \u0026\u0026 tmp[i] \u003e tmp[j]) cnt++; } } return (cnt \u0026 1) == 0; } void bfs() { que.push({0, s}); mp[s] = 0; if (!check(s)) { puts(\"unsolvable\"); return; } while (que.size()) { auto [_, sts] = que.top(); que.pop(); if (sts == t) { break; } auto idx = get_x(sts); auto x = idx / 3, y = idx % 3; for (int i = 0; i \u003c 4; i++) { auto cp = sts; auto nx = x + dx[i], ny = y + dy[i]; if (nx \u003e= 0 \u0026\u0026 nx \u003c= 2 \u0026\u0026 ny \u003e= 0 \u0026\u0026 ny \u003c= 2) { swap(cp[nx * 3 + ny], cp[idx]); if (mp.count(cp)) continue; path[cp] = {go[i], sts}; mp[cp] = mp[sts] + 1; que.push({-get_f(cp, mp[cp]), cp}); } } } dfs(t); } int main() { char tmp; for (int i = 0; i \u003c 9; i++) { cin \u003e\u003e tmp; s += tmp; } bfs(); return 0; } 最长递增子序列的个数-LIS 题目链接\n代码 func findNumberOfLIS(nums []int) int { n := len(nums) dp, cnt := make([]int, n), make([]int, n) maxLen, ans := 0, 0 for i := range nums { dp[i], cnt[i] = 1, 1 for j := 0; j \u003c i; j++ { if nums[i] \u003e nums[j] { if dp[j] + 1 \u003e dp[i] { dp[i] = dp[j] + 1 cnt[i] = cnt[j] } else if dp[j] + 1 == dp[i] { cnt[i] += cnt[j] } } } if maxLen \u003c dp[i] { maxLen = dp[i] ans = cnt[i] } else if maxLen == dp[i] { ans += cnt[i] } } return ans } 牛的学术圈子I-二分 题目链接\n代码 #include #include #include #include using std::cin; int n, l; std::vector\u003cint\u003e cite; bool check(const int \u0026mid) { int cnt = 0; for (const auto \u0026e : cite) { if (e \u003e= mid) { cnt++; } } return cnt \u003e= mid; } int binary_search(int l, int r) { while (l \u003c r) { const auto mid = (l + r + 1) \u003e\u003e 1; if (check(mid)) { l = mid; } else { r = mid - 1; } } return l; } int main() { cin \u003e\u003e n \u003e\u003e l; cite.resize(n); int max_cite = 0; int min_cite = INT_MAX; for (auto \u0026\u0026 e : cite) { cin \u003e\u003e e; max_cite = std::max(max_cite, e); min_cite = std::min(min_cite, e); } auto res = binary_search(min_cite, max_cite); sort(begin(cite), end(cite)); max_cite += l; for (auto it = cite.rbegin(); it != cite.rend(); it++) { if (l == 0) break; if (*it \u003c= res) { (*it)++; l--; } } res = binary_search(min_cite, max_cite); printf(\"%d\\n\", res); return 0; } 牛年-同余 题目链接\n代码 #include #include #include #include #include using std::cin; const std::unordered_map\u003cstd::string, int\u003e zodiac_map = { {\"Ox\", 0}, {\"Tiger\", 1}, {\"Rabbit\", 2}, {\"Dragon\", 3}, {\"Snake\", 4}, {\"Horse\", 5}, {\"Goat\", 6}, {\"Monkey\", 7}, {\"Rooster\", 8}, {\"Dog\", 9}, {\"Pig\", 10}, {\"Rat\", 11}, }; std::unordered_map\u003cstd::string, int\u003e year; int main() { int n; cin \u003e\u003e n; year[\"Bessie\"] = 0; for (int i = 0; i \u003c n; ++i) { std::array\u003cstd::string, 8\u003e strs; for (auto \u0026\u0026str : strs) { cin \u003e\u003e str; } if (strs[3] == \"previous\") { const auto x = year[strs[7]]; const auto zodiac = zodiac_map.find(strs[4])-\u003esecond; auto r = ((x - zodiac) % 12 + 12) % 12; if (r == 0) { r = 12; } year[strs[0]] = x - r; } else { const auto x = year[strs[7]]; const auto zodiac = zodiac_map.find(strs[4])-\u003esecond; auto r = ((zodiac - x) % 12 + 12) % 12; if (r == 0) { r = 12; } year[strs[0]] = x + r; } } printf(\"%d\\n\", std::abs(year[\"Elsie\"])); return 0; } 找出缺失的观测数据 题目链接\n代码 impl Solution { pub fn missing_rolls(rolls: Vec\u003ci32\u003e, mean: i32, n: i32) -\u003e Vec\u003ci32\u003e { let m = rolls.len() as i32; let left = mean * (m + n) - rolls.iter().sum::\u003ci32\u003e(); let ave = left / n; let remainder = left % n; if ave \u003c= 0 || ave \u003e 6 || ave == 6 \u0026\u0026 remainder != 0 { return vec![]; } let mut res = vec![ave; n as usize]; for item in res.iter_mut().take(remainder as usize) { *item += 1; } res } } function missingRolls(rolls: number[], mean: number, n: number): number[] { const m = rolls.length const left = mean * (m + n) - rolls.reduce((a, b) =\u003e a + b) const ave = Math.floor(left / n) const remainder = left % n if (ave \u003c= 0 || ave \u003e 6 || (ave === 6 \u0026\u0026 remainder !== 0)) return [] const missing = Array.from({ length: n }, (_, i) =\u003e ave + (remainder \u003e i ? 1 : 0)) return missing } 如果相邻两个颜色均相同则删除当前颜色 题目链接\n代码 class Solution { public: bool winnerOfGame(string colors) { int freq[2] = {0, 0}; char cur = 'C'; int cnt = 0; for (char c : colors) { if (c != cur) { cur = c; cnt = 1; } else if (cnt++; cnt \u003e= 3) { ++freq[cur - 'A']; } } return freq[0] \u003e freq[1]; } }; 考试的最大困扰度 题目链接\n思路 双指针\n枚举右指针，计算 answer_key[left, right] 中另一个字符出现的次数 $s$ 当 $s$ 大于 $k$，左端点右移 维护最大窗口长度 代码 impl Solution { pub fn max_consecutive_answers(answer_key: String, k: i32) -\u003e i32 { let answer_key = answer_key.chars().collect::\u003cVec\u003cchar\u003e\u003e(); fn help(answer_key: \u0026[char], k: i32, ch: char) -\u003e i32 { let mut s = 0; let mut left = 0; let mut max = 0; for right in 0..answer_key.len() { s += (answer_key[right] == ch) as i32; while s \u003e k { s -= (answer_key[left] == ch) as i32; left += 1; } max = max.max((right - left + 1) as i32); } max } help(\u0026answer_key, k, 'T').max(help(\u0026answer_key, k, 'F')) } } 区域和检索-数组可修改 题目链接\n思路 线段树裸题\n代码 use std::ops::{Add, AddAssign}; /// This stucture implements a segmented tree that /// can efficiently answer range queries on arrays. pub struct SegmentTree\u003cT: Default + Add + Copy\u003e { len: usize, buf: Vec\u003cT\u003e, } impl\u003cT: Default + Add\u003cOutput = T\u003e + AddAssign + Copy\u003e SegmentTree\u003cT\u003e { /// function to build the tree pub fn from_vec(arr: \u0026[T]) -\u003e Self { let len = arr.len(); let mut buf: Vec\u003cT\u003e = vec![T::default(); 2 * len]; buf[len..(len + len)].clone_from_slice(\u0026arr[0..len]); for i in (1..len).rev() { buf[i] = buf[2 * i] + buf[2 * i + 1]; } SegmentTree { len, buf } } /// function to get sum on interval [l, r] pub fn query(\u0026self, mut l: usize, mut r: usize) -\u003e T { l += self.len; r += self.len; let mut res = T::default(); while l \u003c= r { if l % 2 == 1 { res += self.buf[l]; l += 1; } if r % 2 == 0 { res += self.buf[r]; r -= 1; } l /= 2; r /= 2; } res } /// function to update a tree node pub fn update(\u0026mut self, mut idx: usize, val: T) { idx += self.len; self.buf[idx] = val; idx /= 2; while idx != 0 { self.buf[idx] = self.buf[2 * idx] + self.buf[2 * idx + 1]; idx /= 2; } } } struct NumArray { segment_tree: SegmentTree\u003ci32\u003e, } impl NumArray { fn new(nums: Vec\u003ci32\u003e) -\u003e Self { let segment_tree = SegmentTree::from_vec(\u0026nums); NumArray { segment_tree } } fn update(\u0026mut self, index: i32, val: i32) { self.segment_tree.update(index as usize, val); } fn sum_range(\u0026self, left: i32, right: i32) -\u003e i32 { self.segment_tree.query(left as usize, right as usize) } } 两棵二叉搜索树中的所有元素 题目链接\n思路 中序遍历 + 归并\n代码 use std::cell::RefCell; use std::rc::Rc; impl Solution { pub fn get_all_elements( root1: Option\u003cRc\u003cRefCell\u003cTreeNode\u003e\u003e\u003e, root2: Option\u003cRc\u003cRefCell\u003cTreeNode\u003e\u003e\u003e, ) -\u003e Vec\u003ci32\u003e { fn dfs(root: Option\u003cRc\u003cRefCell\u003cTreeNode\u003e\u003e\u003e, res: \u0026mut Vec\u003ci32\u003e) { if let Some(node) = root { dfs(node.borrow().left.clone(), res); res.push(node.borrow().val); dfs(node.borrow().right.clone(), res); } } let mut res1 = vec![]; dfs(root1, \u0026mut res1); let mut res2 = vec![]; dfs(root2, \u0026mut res2); let mut merged = vec![0; res1.len() + res2.len()]; let mut i = 0; let mut j = 0; let mut k = 0; while i \u003c res1.len() \u0026\u0026 j \u003c res2.len() { if res1[i] \u003c res2[j] { merged[k] = res1[i]; i += 1; } else { merged[k] = res2[j]; j += 1; } k += 1; } while i \u003c res1.len() { merged[k] = res1[i]; i += 1; k += 1; } while j \u003c res2.len() { merged[k] = res2[j]; j += 1; k += 1; } merged } } function getAllElements(root1: TreeNode | null, root2: TreeNode | null): number[] { function dfs(root: TreeNode | null): number[] { if (root === null) return [] const left = dfs(root.left) const right = dfs(root.right) return [...left, root.val, ...right] } const arr1 = dfs(root1) const arr2 = dfs(root2) const arr = [] let i = 0 let j = 0 while (i \u003c arr1.length \u0026\u0026 j \u003c arr2.length) { if (arr1[i] \u003c arr2[j]) { arr.push(arr1[i]) i++ } else { arr.push(arr2[j]) j++ } } while (i \u003c arr1.length) { arr.push(arr1[i]) i++ } while (j \u003c arr2.length) { arr.push(arr2[j]) j++ } return arr } 最近的请求次数 题目链接\n思路 使用队列来维护最近 $3000$ 个请求的时间\n代码 use std::collections::VecDeque; struct RecentCounter { pings: VecDeque\u003ci32\u003e, } impl RecentCounter { fn new() -\u003e Self { Self { pings: VecDeque::new(), } } fn ping(\u0026mut self, t: i32) -\u003e i32 { self.pings.push_back(t); while let Some(x) = self.pings.front() { if x + 3000 \u003c t { self.pings.pop_front(); } else { break; } } self.pings.len() as i32 } } class RecentCounter { pings: number[] = [] constructor() { } ping(t: number): number { this.pings.push(t) while (this.pings[0] \u003c t - 3000) { this.pings.shift() } return this.pings.length } } ","wordCount":"19513","inLanguage":"en","datePublished":"2021-01-10T00:00:00Z","dateModified":"2021-01-10T00:00:00Z","author":{"@type":"Person","name":"fffzlfk"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://fffzlfk.github.io/posts/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"},"publisher":{"@type":"Organization","name":"fffzlfk's Blog","logo":{"@type":"ImageObject","url":"https://fffzlfk.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://fffzlfk.github.io accesskey=h title="fffzlfk's Blog (Alt + H)"><img src=https://fffzlfk.github.io/android-chrome-512x512.png alt aria-label=logo height=35>fffzlfk's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://github.com/fffzlfk title=GitHub><span>GitHub</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://fffzlfk.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://fffzlfk.github.io/archives title=Archive><span>Archive</span></a></li><li><a href=https://fffzlfk.github.io/about/ title=About><span>About</span></a></li><li><a href=https://fffzlfk.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://travellings.link title=Travellings><span>Travellings</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://fffzlfk.github.io>Home</a>&nbsp;»&nbsp;<a href=https://fffzlfk.github.io/posts/>Posts</a></div><h1 class=post-title>每日一题</h1><div class=post-meta><span title='2021-01-10 00:00:00 +0000 UTC'>January 10, 2021</span>&nbsp;·&nbsp;92 min&nbsp;·&nbsp;fffzlfk&nbsp;|&nbsp;<a href=https://github.com/fffzlfk/fffzlfk.github.io/blob/master/content/posts/%e6%af%8f%e6%97%a5%e4%b8%80%e9%a2%98.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#week-1 aria-label="Week 1">Week 1</a><ul><li><a href=#%e8%b4%a7%e4%bb%93%e9%80%89%e5%9d%80 aria-label=货仓选址>货仓选址</a><ul><li><a href=#%e6%80%9d%e8%b7%af aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%95%b0%e5%ad%97%e4%b8%89%e8%a7%92%e5%bd%a2-dp aria-label=数字三角形-DP>数字三角形-DP</a><ul><li><a href=#%e6%80%9d%e8%b7%af-1 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-1 aria-label=代码>代码</a></li><li><a href=#%e7%ae%80%e5%8c%96%e7%ad%89%e4%bb%b7%e5%8f%98%e6%8d%a2%e7%89%88%e4%bb%a3%e7%a0%81 aria-label=简化(等价变换)版代码>简化(等价变换)版代码</a></li></ul></li></ul></li><li><a href=#week-2 aria-label="Week 2">Week 2</a><ul><li><a href=#%e8%9b%87%e5%bd%a2%e7%9f%a9%e9%98%b5 aria-label=蛇形矩阵>蛇形矩阵</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-2 aria-label=代码>代码</a></li></ul></li><li><a href=#%e7%ba%a2%e4%b8%8e%e9%bb%91-flood-fill%e7%ae%97%e6%b3%95 aria-label="红与黑-Flood Fill算法">红与黑-Flood Fill算法</a><ul><li><a href=#%e6%80%9d%e8%b7%af-2 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-3 aria-label=代码>代码</a><ul><li><a href=#bfs aria-label=BFS>BFS</a></li><li><a href=#dfs aria-label=DFS>DFS</a></li></ul></li></ul></li><li><a href=#%e5%9b%9e%e6%96%87%e5%b9%b3%e6%96%b9 aria-label=回文平方>回文平方</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-4 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%89%aa%e7%bb%b3%e5%ad%90-%e6%b5%ae%e7%82%b9%e6%95%b0%e4%ba%8c%e5%88%86 aria-label=剪绳子-浮点数二分>剪绳子-浮点数二分</a><ul><li><a href=#%e6%80%9d%e8%b7%af-3 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-5 aria-label=代码>代码</a></li><li><a href=#%e6%89%a9%e5%b1%95%e9%a2%98 aria-label=扩展题>扩展题</a></li></ul></li><li><a href=#%e5%88%86%e5%b7%a7%e5%85%8b%e5%8a%9b-%e6%95%b4%e6%95%b0%e4%ba%8c%e5%88%86 aria-label=分巧克力-整数二分>分巧克力-整数二分</a><ul><li><a href=#%e6%80%9d%e8%b7%af-4 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-6 aria-label=代码>代码</a></li><li><a href=#%e4%ba%8c%e5%88%86%e6%a8%a1%e6%9d%bf aria-label=二分模板>二分模板</a></li><li><a href=#%e6%89%a9%e5%b1%95%e9%a2%98-1 aria-label=扩展题>扩展题</a></li></ul></li><li><a href=#%e6%a0%a1%e9%97%a8%e5%a4%96%e7%9a%84%e6%a0%91-%e5%8c%ba%e9%97%b4%e5%90%88%e5%b9%b6 aria-label=校门外的树-区间合并>校门外的树-区间合并</a><ul><li><a href=#%e6%80%9d%e8%b7%af-5 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-7 aria-label=代码>代码</a></li><li><a href=#%e6%89%a9%e5%b1%95%e9%a2%98-%e6%8c%a4%e7%89%9b%e5%a5%b6 aria-label=扩展题-挤牛奶>扩展题-挤牛奶</a></li></ul></li><li><a href=#%e5%a5%96%e5%ad%a6%e9%87%91 aria-label=奖学金>奖学金</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-8 aria-label=代码>代码</a></li></ul></li></ul></li><li><a href=#week-3 aria-label="Week 3">Week 3</a><ul><li><a href=#%e7%bf%bb%e7%a1%ac%e5%b8%81-%e9%80%92%e6%8e%a8 aria-label=翻硬币-递推>翻硬币-递推</a><ul><li><a href=#%e6%80%9d%e8%b7%af-6 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-9 aria-label=代码>代码</a></li><li><a href=#%e6%89%a9%e5%b1%95%e9%a2%98-%e8%b4%b9%e8%a7%a3%e7%9a%84%e5%bc%80%e5%85%b3 aria-label=扩展题-费解的开关>扩展题-费解的开关</a></li></ul></li><li><a href=#%e6%89%be%e7%a1%ac%e5%b8%81 aria-label=找硬币>找硬币</a><ul><li><a href=#%e5%93%88%e5%b8%8c%e8%a1%a8%e5%81%9a%e6%b3%95on aria-label=哈希表做法$O(n)$>哈希表做法$O(n)$</a><ul><li><a href=#%e6%80%9d%e8%b7%af-7 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-10 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%8f%8c%e6%8c%87%e9%92%88%e5%81%9a%e6%b3%95onlogn aria-label=双指针做法$O(nlogn)$>双指针做法$O(nlogn)$</a><ul><li><a href=#%e6%80%9d%e8%b7%af-8 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-11 aria-label=代码>代码</a></li></ul></li></ul></li><li><a href=#%e5%8d%81%e4%b8%89%e5%8f%b7%e6%98%9f%e6%9c%9f%e4%ba%94 aria-label=十三号星期五>十三号星期五</a><ul><li><a href=#%e6%80%9d%e8%b7%af-9 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-12 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%b9%b3%e6%96%b9%e7%9f%a9%e9%98%b5-ii aria-label="平方矩阵 II">平方矩阵 II</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-13 aria-label=代码>代码</a></li><li><a href=#longest-increasing-subsequence aria-label=Longest-increasing-subsequence>Longest-increasing-subsequence</a><ul><li><a href=#%e6%80%9d%e8%b7%af-10 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-14 aria-label=代码>代码</a></li></ul></li></ul></li><li><a href=#%e6%a3%8b%e7%9b%98%e6%8c%91%e6%88%98-%e5%85%ab%e7%9a%87%e5%90%8e%e9%97%ae%e9%a2%98 aria-label=棋盘挑战-八皇后问题>棋盘挑战-八皇后问题</a><ul><li><a href=#%e6%80%9d%e8%b7%af-11 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-15 aria-label=代码>代码</a></li><li><a href=#%e6%89%a9%e5%b1%95%e9%a2%98-%e8%a7%a3%e6%95%b0%e7%8b%ac aria-label=扩展题-解数独>扩展题-解数独</a></li></ul></li><li><a href=#%e8%b4%a7%e5%b8%81%e7%b3%bb%e7%bb%9f-%e5%ae%8c%e5%85%a8%e8%83%8c%e5%8c%85 aria-label=货币系统-完全背包>货币系统-完全背包</a><ul><li><a href=#%e6%80%9d%e8%b7%af-12 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-16 aria-label=代码>代码</a></li><li><a href=#%e6%97%b6%e9%97%b4%e4%bc%98%e5%8c%96 aria-label=时间优化>时间优化</a></li><li><a href=#%e7%a9%ba%e9%97%b4%e4%bc%98%e5%8c%96 aria-label=空间优化>空间优化</a></li></ul></li><li><a href=#%e9%98%b6%e4%b9%98 aria-label=阶乘>阶乘</a><ul><li><a href=#%e6%80%9d%e8%b7%af-13 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-17 aria-label=代码>代码</a></li></ul></li></ul></li><li><a href=#week-4 aria-label="Week 4">Week 4</a><ul><li><a href=#%e6%bb%91%e9%9b%aa%e5%9c%ba%e8%ae%be%e8%ae%a1-%e6%9e%9a%e4%b8%be aria-label=滑雪场设计-枚举>滑雪场设计-枚举</a><ul><li><a href=#%e6%80%9d%e8%b7%af-14 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-18 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%95%b4%e6%95%b0%e9%9b%86%e5%90%88%e5%88%92%e5%88%86-%e8%b4%aa%e5%bf%83 aria-label=整数集合划分-贪心>整数集合划分-贪心</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-19 aria-label=代码>代码</a></li><li><a href=#%e6%89%a9%e5%b1%95%e9%a2%98-%e5%8f%8c%e5%90%91%e6%90%9c%e7%b4%a2 aria-label=扩展题-双向搜索>扩展题-双向搜索</a></li></ul></li><li><a href=#%e5%90%88%e5%94%b1%e9%98%9f%e5%bd%a2-lis aria-label=合唱队形-LIS>合唱队形-LIS</a><ul><li><a href=#%e6%80%9d%e8%b7%af-15 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-20 aria-label=代码>代码</a></li></ul></li><li><a href=#%e7%81%ab%e6%98%9f%e4%ba%ba-%e6%8e%92%e5%88%97 aria-label=火星人-排列>火星人-排列</a><ul><li><a href=#%e6%80%9d%e8%b7%af-16 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-21 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%98%9f%e7%a9%ba%e4%b9%8b%e5%a4%9c-flood-fill aria-label=星空之夜-Flood-fill>星空之夜-Flood-fill</a><ul><li><a href=#%e6%80%9d%e8%b7%af-17 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-22 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%91%98%e8%8a%b1%e7%94%9f-dp aria-label=摘花生-DP>摘花生-DP</a><ul><li><a href=#%e6%80%9d%e8%b7%af-18 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-23 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%9c%80%e5%a4%a7%e7%9a%84%e5%92%8c-%e6%9c%80%e5%a4%a7%e5%ad%90%e7%9f%a9%e5%bd%a2 aria-label=最大的和-最大子矩形>最大的和-最大子矩形</a><ul><li><a href=#%e6%80%9d%e8%b7%af-19 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-24 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%9c%80%e5%a4%a7%e7%9a%84%e5%92%8c-%e7%ba%bf%e6%80%a7dp aria-label=最大的和-线性DP>最大的和-线性DP</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-25 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%9c%80%e5%a4%a7%e5%bc%82%e6%88%96%e5%af%b9-trie aria-label=最大异或对-trie>最大异或对-trie</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-26 aria-label=代码>代码</a></li><li><a href=#%e7%89%9b%e4%ba%a6%e6%88%96-trie%e5%89%8d%e7%bc%80%e5%92%8c aria-label=牛亦或-trie+前缀和>牛亦或-trie+前缀和</a></li><li><a href=#%e4%bb%a3%e7%a0%81-27 aria-label=代码>代码</a></li></ul></li></ul></li><li><a href=#week-5 aria-label="Week 5">Week 5</a><ul><li><a href=#%e5%bc%80%e5%bf%83%e7%9a%84%e9%87%91%e6%98%8e-01%e8%83%8c%e5%8c%85 aria-label=开心的金明-01背包>开心的金明-01背包</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-28 aria-label=代码>代码</a></li></ul></li><li><a href=#k%e5%80%8d%e5%8c%ba%e9%97%b4-%e5%89%8d%e7%bc%80%e5%92%8c aria-label=K倍区间-前缀和>K倍区间-前缀和</a><ul><li><a href=#%e6%80%9d%e8%b7%af-20 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-29 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%95%b0%e7%8b%ac%e6%a3%80%e6%9f%a5-%e6%a8%a1%e6%8b%9f aria-label=数独检查-模拟>数独检查-模拟</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-30 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97-lcs aria-label=最长公共子序列-LCS>最长公共子序列-LCS</a><ul><li><a href=#%e6%80%9d%e8%b7%af-21 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-31 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%95%b0%e7%8b%ac%e7%ae%80%e5%8d%95%e7%89%88-%e6%95%b0%e7%8b%ac aria-label=数独简单版-数独>数独简单版-数独</a></li><li><a href=#%e7%8c%ae%e7%bb%99%e9%98%bf%e5%b0%94%e5%90%89%e4%be%ac%e7%9a%84%e8%8a%b1%e6%9d%9f-bfs aria-label=献给阿尔吉侬的花束-BFS>献给阿尔吉侬的花束-BFS</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-32 aria-label=代码>代码</a></li></ul></li><li><a href=#ab-%e4%bd%8d%e8%bf%90%e7%ae%97 aria-label=a^b-位运算>a^b-位运算</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-33 aria-label=代码>代码</a></li></ul></li><li><a href=#%e8%80%8d%e6%9d%82%e6%8a%80%e7%9a%84%e7%89%9b-%e8%b4%aa%e5%bf%83 aria-label=耍杂技的牛-贪心>耍杂技的牛-贪心</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-34 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%95%b0%e5%88%97-%e4%ba%8c%e8%bf%9b%e5%88%b6 aria-label=数列-二进制>数列-二进制</a><ul><li><a href=#%e6%80%9d%e8%b7%af-22 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-35 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%80%9f%e6%95%99%e5%ae%a4-%e4%ba%8c%e5%88%86%e5%b7%ae%e5%88%86 aria-label=借教室-二分&amp;amp;差分>借教室-二分&差分</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-36 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%85%b3%e6%8a%bc%e7%bd%aa%e7%8a%af-%e4%ba%8c%e5%88%86%e6%9f%93%e8%89%b2%e6%b3%95%e5%88%a4%e6%96%ad%e4%ba%8c%e5%88%86%e5%9b%be aria-label=关押罪犯-二分&amp;amp;染色法判断二分图>关押罪犯-二分&染色法判断二分图</a><ul><li><a href=#%e6%80%9d%e8%b7%af-23 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-37 aria-label=代码>代码</a></li></ul></li></ul></li><li><a href=#week-6 aria-label="Week 6">Week 6</a><ul><li><a href=#%e4%b9%8c%e9%be%9f%e6%a3%8b-%e7%ba%bf%e6%80%a7dp aria-label=乌龟棋-线性DP>乌龟棋-线性DP</a><ul><li><a href=#%e6%80%9d%e8%b7%af-24 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-38 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%af%94%e4%be%8b%e7%ae%80%e5%8c%96-%e6%9e%9a%e4%b8%be aria-label=比例简化-枚举>比例简化-枚举</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-39 aria-label=代码>代码</a></li></ul></li><li><a href=#%e8%ae%a1%e7%ae%97%e7%b3%bb%e6%95%b0 aria-label=计算系数>计算系数</a><ul><li><a href=#%e6%80%9d%e8%b7%af-25 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-40 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%90%88%e5%b9%b6%e6%9e%9c%e5%ad%90 aria-label=合并果子>合并果子</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-41 aria-label=代码>代码</a></li></ul></li><li><a href=#%e7%a7%af%e6%9c%a8%e5%a4%a7%e8%b5%9b-%e8%b4%aa%e5%bf%83%e5%b7%ae%e5%88%86 aria-label=积木大赛-贪心&amp;amp;差分>积木大赛-贪心&差分</a><ul><li><a href=#%e6%80%9d%e8%b7%af-26 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-42 aria-label=代码>代码</a></li></ul></li><li><a href=#leetcode-1755-%e6%9c%80%e6%8e%a5%e8%bf%91%e7%9b%ae%e6%a0%87%e5%80%bc%e7%9a%84%e5%ad%90%e5%ba%8f%e5%88%97%e5%92%8c aria-label="LeetCode-1755 最接近目标值的子序列和">LeetCode-1755 最接近目标值的子序列和</a><ul><li><a href=#%e6%80%9d%e8%b7%af-27 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-43 aria-label=代码>代码</a></li></ul></li></ul></li><li><a href=#week-7 aria-label="Week 7">Week 7</a><ul><li><a href=#%e6%9c%ba%e5%99%a8%e4%ba%ba%e8%b7%b3%e8%b7%83%e9%97%ae%e9%a2%98-%e4%ba%8c%e5%88%86 aria-label=机器人跳跃问题-二分>机器人跳跃问题-二分</a><ul><li><a href=#%e6%80%9d%e8%b7%af-28 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-44 aria-label=代码>代码</a></li></ul></li><li><a href=#z%e5%ad%97%e5%bd%a2%e6%89%ab%e6%8f%8f aria-label=Z字形扫描>Z字形扫描</a><ul><li><a href=#%e6%80%9d%e8%b7%af-29 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-45 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%8a%a8%e6%80%81%e6%b1%82%e8%bf%9e%e7%bb%ad%e5%8c%ba%e9%97%b4%e5%92%8c-%e7%ba%bf%e6%ae%b5%e6%a0%91 aria-label=动态求连续区间和-线段树>动态求连续区间和-线段树</a><ul><li><a href=#%e7%ba%bf%e6%ae%b5%e6%a0%91-%e4%bb%a3%e7%a0%81 aria-label=线段树-代码>线段树-代码</a></li><li><a href=#%e6%a0%91%e7%8a%b6%e6%95%b0%e7%bb%84-%e4%bb%a3%e7%a0%81 aria-label=树状数组-代码>树状数组-代码</a></li></ul></li><li><a href=#%e5%a5%87%e6%80%aa%e7%9a%84%e6%95%b0-%e7%bb%84%e5%90%88%e8%ae%a1%e6%95%b0 aria-label=奇怪的数-组合计数>奇怪的数-组合计数</a><ul><li><a href=#%e6%80%9d%e8%b7%af-30 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-46 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%9c%80%e4%bc%98%e9%85%8d%e9%a4%90-%e5%a4%9a%e6%ba%90bfs aria-label=最优配餐-多源BFS>最优配餐-多源BFS</a><ul><li><a href=#%e6%80%9d%e8%b7%af-31 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-47 aria-label=代码>代码</a></li></ul></li><li><a href=#leetcode-995-k-%e8%bf%9e%e7%bb%ad%e4%bd%8d%e7%9a%84%e6%9c%80%e5%b0%8f%e7%bf%bb%e8%bd%ac%e6%ac%a1%e6%95%b0 aria-label="LeetCode-995 K 连续位的最小翻转次数">LeetCode-995 K 连续位的最小翻转次数</a><ul><li><a href=#%e6%80%9d%e8%b7%af-32 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-48 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%9c%80%e5%b0%8f%e7%94%9f%e6%88%90%e6%a0%91 aria-label=最小生成树>最小生成树</a><ul><li><a href=#prim aria-label=Prim>Prim</a></li><li><a href=#kruskal aria-label=Kruskal>Kruskal</a></li></ul></li><li><a href=#%e5%8d%95%e6%ba%90%e6%9c%80%e7%9f%ad%e8%b7%af aria-label=单源最短路>单源最短路</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-49 aria-label=代码>代码</a></li></ul></li><li><a href=#%e7%bd%91%e7%bb%9c%e5%bb%b6%e6%97%b6-%e6%a0%91%e5%bd%a2dp aria-label=网络延时-树形DP>网络延时-树形DP</a><ul><li><a href=#%e6%80%9d%e8%b7%af-33 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-50 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%ba%8f%e5%88%97%e5%8c%96%e4%ba%8c%e5%8f%89%e6%a0%91 aria-label=序列化二叉树>序列化二叉树</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-51 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%9c%80%e5%a4%a7%e4%ba%a6%e6%88%96%e5%92%8c-%e7%ba%bf%e6%80%a7%e5%9f%ba aria-label=最大亦或和-线性基>最大亦或和-线性基</a><ul><li><a href=#%e6%80%9d%e8%b7%af-34 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-52 aria-label=代码>代码</a></li></ul></li><li><a href=#%e9%80%9a%e4%bf%a1%e7%bd%91%e7%bb%9c-%e6%9e%9a%e4%b8%bedfs aria-label=通信网络-枚举+dfs>通信网络-枚举+dfs</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-53 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%8e%8b%e7%bc%a9%e7%bc%96%e7%a0%81-%e5%8c%ba%e9%97%b4dp aria-label=压缩编码-区间DP>压缩编码-区间DP</a><ul><li><a href=#%e6%80%9d%e8%b7%af-35 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-54 aria-label=代码>代码</a></li></ul></li></ul></li><li><a href=#%e6%9d%82%e9%a2%98%e8%ae%b0%e5%bd%95 aria-label=杂题记录>杂题记录</a><ul><li><a href=#%e5%90%8e%e5%ba%8f%e9%81%8d%e5%8e%86 aria-label=后序遍历>后序遍历</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-55 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%a0%91%e7%9a%84%e9%81%8d%e5%8e%86-%e4%b8%ad%e5%ba%8f%e5%90%8e%e5%ba%8f%e6%b1%82%e5%b1%82%e6%ac%a1 aria-label=树的遍历-中序后序求层次>树的遍历-中序后序求层次</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-56 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%a0%91%e4%b8%ad%e7%9a%84%e6%9c%80%e9%95%bf%e8%b7%af aria-label=树中的最长路>树中的最长路</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-57 aria-label=代码>代码</a></li></ul></li><li><a href=#rmq%e9%97%ae%e9%a2%98%e5%86%8d%e4%b8%b4 aria-label=RMQ问题再临>RMQ问题再临</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-58 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%97%a0%e9%97%b4%e9%81%93%e4%b9%8b%e5%b9%b6%e6%9f%a5%e9%9b%86 aria-label=无间道之并查集>无间道之并查集</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-59 aria-label=代码>代码</a></li></ul></li><li><a href=#%e4%ba%8c%e5%88%86%e5%9b%be%e5%88%a4%e5%ae%9a aria-label=二分图判定>二分图判定</a><ul><li><a href=#%e6%80%9d%e8%b7%af-36 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-60 aria-label=代码>代码</a></li></ul></li><li><a href=#%e7%8c%9c%e5%ad%97%e8%b0%9c aria-label=猜字谜>猜字谜</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-61 aria-label=代码>代码</a></li></ul></li><li><a href=#%e8%87%b3%e5%b0%91%e6%9c%89k%e4%b8%aa%e9%87%8d%e5%a4%8d%e5%ad%97%e7%ac%a6%e7%9a%84%e6%9c%80%e9%95%bf%e5%ad%90%e4%b8%b2 aria-label=至少有K个重复字符的最长子串>至少有K个重复字符的最长子串</a><ul><li><a href=#code-in-golang aria-label="Code in Golang">Code in Golang</a></li><li><a href=#code-in-python aria-label="Code in Python">Code in Python</a></li></ul></li><li><a href=#%e6%89%be%e5%88%b0-k-%e4%b8%aa%e6%9c%80%e6%8e%a5%e8%bf%91%e7%9a%84%e5%85%83%e7%b4%a0 aria-label="找到 K 个最接近的元素">找到 K 个最接近的元素</a><ul><li><a href=#%e5%a0%86-nlogk%e5%81%9a%e6%b3%95 aria-label=堆-$nlogk$做法>堆-$nlogk$做法</a></li><li><a href=#%e4%ba%8c%e5%88%86%e5%8f%8c%e6%8c%87%e9%92%88-lognk%e5%81%9a%e6%b3%95rust aria-label=二分+双指针-$logn+k$做法(Rust)>二分+双指针-$logn+k$做法(Rust)</a></li></ul></li><li><a href=#%e4%ba%8c%e7%bb%b4%e5%8c%ba%e5%9f%9f%e5%92%8c%e6%a3%80%e7%b4%a2---%e7%9f%a9%e9%98%b5%e4%b8%8d%e5%8f%af%e5%8f%98 aria-label="二维区域和检索 - 矩阵不可变">二维区域和检索 - 矩阵不可变</a><ul><li><a href=#%e6%80%9d%e8%b7%af-37 aria-label=思路>思路</a><ul><li><a href=#%e4%ba%8c%e4%bd%8d%e5%89%8d%e7%bc%80%e5%92%8c aria-label=二位前缀和>二位前缀和</a></li></ul></li><li><a href=#%e4%bb%a3%e7%a0%81-62 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%af%94%e7%89%b9%e4%bd%8d%e8%ae%a1%e6%95%b0-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92 aria-label=比特位计数-动态规划>比特位计数-动态规划</a><ul><li><a href=#%e6%80%9d%e8%b7%af-38 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-63 aria-label=代码>代码</a></li></ul></li><li><a href=#%e4%bf%84%e7%bd%97%e6%96%af%e5%a5%97%e5%a8%83%e4%bf%a1%e5%b0%81%e9%97%ae%e9%a2%98-lis aria-label=俄罗斯套娃信封问题-LIS>俄罗斯套娃信封问题-LIS</a><ul><li><a href=#%e8%a7%a3%e9%a2%98%e6%80%9d%e8%b7%af aria-label=解题思路>解题思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-64 aria-label=代码>代码</a><ul><li><a href=#on2 aria-label=$O(n^2)$>$O(n^2)$</a></li><li><a href=#onlogn aria-label=$O(nlogn)$>$O(nlogn)$</a></li></ul></li></ul></li><li><a href=#%e7%94%a8%e6%a0%88%e5%ae%9e%e7%8e%b0%e9%98%9f%e5%88%97-%e5%8f%8c%e6%a0%88 aria-label=用栈实现队列-双栈>用栈实现队列-双栈</a><ul><li><a href=#%e6%80%9d%e8%b7%af-39 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-65 aria-label=代码>代码</a></li></ul></li><li><a href=#%e4%b8%8b%e4%b8%80%e4%b8%aa%e6%9b%b4%e5%a4%a7%e5%85%83%e7%b4%a0-%e5%8d%95%e8%b0%83%e6%a0%88 aria-label=下一个更大元素-单调栈>下一个更大元素-单调栈</a><ul><li><a href=#%e6%80%9d%e8%b7%af-40 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-66 aria-label=代码>代码</a><ul><li><a href=#c aria-label=C++>C++</a></li><li><a href=#java aria-label=Java>Java</a></li><li><a href=#python3 aria-label=Python3>Python3</a></li><li><a href=#golang aria-label=Golang>Golang</a></li></ul></li></ul></li><li><a href=#%e5%88%86%e5%89%b2%e5%9b%9e%e6%96%87%e4%b8%b2 aria-label=分割回文串>分割回文串</a><ul><li><a href=#%e6%80%9d%e8%b7%af-41 aria-label=思路>思路</a><ul><li><a href=#dfs--dp%e9%a2%84%e5%a4%84%e7%90%86 aria-label="dfs + DP预处理">dfs + DP预处理</a></li></ul></li><li><a href=#%e4%bb%a3%e7%a0%81-67 aria-label=代码>代码</a></li></ul></li><li><a href=#%e4%bb%8e%e7%ac%ac%e4%b8%80%e4%b8%aa%e8%8a%82%e7%82%b9%e5%87%ba%e5%8f%91%e5%88%b0%e6%9c%80%e5%90%8e%e4%b8%80%e4%b8%aa%e8%8a%82%e7%82%b9%e7%9a%84%e5%8f%97%e9%99%90%e8%b7%af%e5%be%84%e6%95%b0-%e8%ae%b0%e5%bf%86%e5%8c%96%e6%90%9c%e7%b4%a2 aria-label=从第一个节点出发到最后一个节点的受限路径数-记忆化搜索>从第一个节点出发到最后一个节点的受限路径数-记忆化搜索</a><ul><li><a href=#%e6%80%9d%e8%b7%af-42 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-68 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%85%ac%e5%85%b1%e9%92%a5%e5%8c%99%e7%9b%92-%e6%a8%a1%e6%8b%9f aria-label=公共钥匙盒-模拟>公共钥匙盒-模拟</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-69 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%9f%ba%e6%9c%ac%e8%ae%a1%e7%ae%97%e5%99%a8-%e6%a0%88 aria-label=基本计算器-栈>基本计算器-栈</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-70 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%9f%ba%e6%9c%ac%e8%ae%a1%e7%ae%97%e5%99%a8ii-%e6%a0%88 aria-label=基本计算器II-栈>基本计算器II-栈</a><ul><li><a href=#%e6%80%9d%e8%b7%af-43 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-71 aria-label=代码>代码</a></li></ul></li><li><a href=#%e9%aa%8c%e8%af%81%e4%ba%8c%e5%8f%89%e6%a0%91%e7%9a%84%e5%89%8d%e5%ba%8f%e5%ba%8f%e5%88%97%e5%8c%96 aria-label=验证二叉树的前序序列化>验证二叉树的前序序列化</a><ul><li><a href=#%e8%a7%a3%e9%a2%98%e6%80%9d%e8%b7%af-1 aria-label=解题思路>解题思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-72 aria-label=代码>代码</a></li></ul></li><li><a href=#%e8%ae%be%e8%ae%a1%e5%93%88%e5%b8%8c%e9%9b%86%e5%90%88 aria-label=设计哈希集合>设计哈希集合</a><ul><li><a href=#%e6%80%9d%e8%b7%af-44 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-73 aria-label=代码>代码</a><ul><li><a href=#c-1 aria-label=C++>C++</a></li><li><a href=#golang-1 aria-label=Golang>Golang</a></li></ul></li></ul></li><li><a href=#%e8%ae%be%e8%ae%a1%e5%93%88%e5%b8%8c%e6%98%a0%e5%b0%84 aria-label=设计哈希映射>设计哈希映射</a><ul><li><a href=#%e6%80%9d%e8%b7%af-45 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-74 aria-label=代码>代码</a></li></ul></li><li><a href=#%e4%b8%8d%e5%90%8c%e7%9a%84%e5%ad%90%e5%ba%8f%e5%88%97-dp aria-label=不同的子序列-DP>不同的子序列-DP</a><ul><li><a href=#%e6%80%9d%e8%b7%af-46 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-75 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%8f%8d%e8%bd%ac%e9%93%be%e8%a1%a8ii aria-label=反转链表II>反转链表II</a><ul><li><a href=#%e6%80%9d%e8%b7%af-47 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-76 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%8f%8d%e8%bd%ac%e9%93%be%e8%a1%a8 aria-label=反转链表>反转链表</a><ul><li><a href=#%e8%bf%ad%e4%bb%a3%e6%b3%95 aria-label=迭代法>迭代法</a></li><li><a href=#%e9%80%92%e5%bd%92%e6%b3%95 aria-label=递归法>递归法</a><ul><li><a href=#%e6%80%9d%e8%b7%af-48 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-77 aria-label=代码>代码</a></li></ul></li></ul></li><li><a href=#%e8%a1%a8%e8%be%be%e5%bc%8f%e6%b1%82%e5%80%bc-%e6%a0%88 aria-label=表达式求值-栈>表达式求值-栈</a><ul><li><a href=#%e6%80%9d%e8%b7%af-49 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-78 aria-label=代码>代码</a></li></ul></li><li><a href=#%e7%9f%a9%e9%98%b5%e7%bd%ae%e9%9b%b6 aria-label=矩阵置零>矩阵置零</a><ul><li><a href=#%e6%80%9d%e8%b7%af-50 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-79 aria-label=代码>代码</a></li></ul></li><li><a href=#%e4%b8%8d%e7%94%a8%e5%8a%a0%e5%87%8f%e4%b9%98%e9%99%a4%e5%81%9a%e5%8a%a0%e6%b3%95 aria-label=不用加减乘除做加法>不用加减乘除做加法</a><ul><li><a href=#%e6%80%9d%e8%b7%af-51 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-80 aria-label=代码>代码</a></li></ul></li><li><a href=#132%e6%a8%a1%e5%bc%8f-%e5%8d%95%e8%b0%83%e6%a0%88 aria-label=132模式-单调栈>132模式-单调栈</a><ul><li><a href=#%e6%80%9d%e8%b7%af-52 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-81 aria-label=代码>代码</a></li></ul></li><li><a href=#%e7%9b%b4%e6%96%b9%e5%9b%be%e4%b8%ad%e6%9c%80%e5%a4%a7%e7%9f%a9%e5%bd%a2-%e5%8d%95%e8%b0%83%e6%a0%88 aria-label=直方图中最大矩形-单调栈>直方图中最大矩形-单调栈</a><ul><li><a href=#%e6%80%9d%e8%b7%af-53 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-82 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%88%a0%e9%99%a4%e6%8e%92%e5%ba%8f%e9%93%be%e8%a1%a8%e4%b8%ad%e7%9a%84%e9%87%8d%e5%a4%8d%e5%85%83%e7%b4%a0 aria-label=删除排序链表中的重复元素>删除排序链表中的重复元素</a><ul><li><a href=#%e6%80%9d%e8%b7%af-54 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-83 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%8f%af%e8%be%be%e6%80%a7%e7%bb%9f%e8%ae%a1-%e6%8b%93%e6%89%91%e6%8e%92%e5%ba%8f aria-label=可达性统计-拓扑排序>可达性统计-拓扑排序</a><ul><li><a href=#%e6%80%9d%e8%b7%af-55 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-84 aria-label=代码>代码</a></li></ul></li><li><a href=#%e4%ba%8c%e5%8f%89%e6%a0%91%e7%9a%84%e4%b8%8b%e4%b8%80%e4%b8%aa%e7%bb%93%e7%82%b9 aria-label=二叉树的下一个结点>二叉树的下一个结点</a><ul><li><a href=#%e6%80%9d%e8%b7%af-56 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-85 aria-label=代码>代码</a></li></ul></li><li><a href=#%e4%ba%8c%e5%8f%89%e6%90%9c%e7%b4%a2%e6%a0%91%e8%bf%ad%e4%bb%a3%e5%99%a8-%e4%b8%ad%e5%ba%8f%e9%81%8d%e5%8e%86%e9%9d%9e%e9%80%92%e5%bd%92 aria-label=二叉搜索树迭代器-中序遍历非递归>二叉搜索树迭代器-中序遍历非递归</a><ul><li><a href=#%e6%80%9d%e8%b7%af-57 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-86 aria-label=代码>代码</a></li></ul></li><li><a href=#%e7%bf%bb%e8%bd%ac%e5%8d%95%e8%af%8d%e9%a1%ba%e5%ba%8f aria-label=翻转单词顺序>翻转单词顺序</a><ul><li><a href=#%e6%80%9d%e8%b7%af-58 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-87 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%90%9c%e7%b4%a2%e4%ba%8c%e7%bb%b4%e7%9f%a9%e9%98%b5-%e4%ba%8c%e5%88%86 aria-label=搜索二维矩阵-二分>搜索二维矩阵-二分</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-88 aria-label=代码>代码</a></li></ul></li><li><a href=#%e4%ba%8c%e7%bb%b4%e6%95%b0%e7%bb%84%e4%b8%ad%e7%9a%84%e6%9f%a5%e6%89%be aria-label=二维数组中的查找>二维数组中的查找</a><ul><li><a href=#%e6%80%9d%e8%b7%af-59 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-89 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%ad%90%e9%9b%86ii aria-label=子集II>子集II</a><ul><li><a href=#%e6%80%9d%e8%b7%af-60 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-90 aria-label=代码>代码</a></li></ul></li><li><a href=#%e9%80%92%e5%bd%92%e5%ae%9e%e7%8e%b0%e7%bb%84%e5%90%88%e5%9e%8b%e6%9e%9a%e4%b8%be aria-label=递归实现组合型枚举>递归实现组合型枚举</a><ul><li><a href=#%e6%80%9d%e8%b7%af-61 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-91 aria-label=代码>代码</a></li></ul></li><li><a href=#%e7%9b%b4%e6%96%b9%e5%9b%be%e7%9a%84%e6%b0%b4%e9%87%8f-%e5%8d%95%e8%b0%83%e6%a0%88dp aria-label=直方图的水量-单调栈|DP>直方图的水量-单调栈|DP</a><ul><li><a href=#%e5%8d%95%e8%b0%83%e6%a0%88 aria-label=单调栈>单调栈</a><ul><li><a href=#%e6%80%9d%e8%b7%af-62 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-92 aria-label=代码>代码</a></li></ul></li><li><a href=#dp aria-label=DP>DP</a><ul><li><a href=#%e6%80%9d%e8%b7%af-63 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-93 aria-label=代码>代码</a></li></ul></li></ul></li><li><a href=#%e9%9b%a8-%e6%9c%80%e7%9f%ad%e8%b7%af%e5%8f%98%e5%bd%a2 aria-label=雨-最短路变形>雨-最短路变形</a><ul><li><a href=#%e6%80%9d%e8%b7%af-64 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-94 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%af%86%e7%a0%81%e8%84%b1%e8%90%bd-lcs aria-label=密码脱落-LCS>密码脱落-LCS</a><ul><li><a href=#%e6%80%9d%e8%b7%af-65 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-95 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%a3%ae%e6%9e%97%e4%b8%ad%e7%9a%84%e5%85%94%e5%ad%90 aria-label=森林中的兔子>森林中的兔子</a><ul><li><a href=#%e6%80%9d%e8%b7%af-66 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-96 aria-label=代码>代码</a></li></ul></li><li><a href=#%e7%9f%b3%e5%ad%90%e5%90%88%e5%b9%b6-%e5%8c%ba%e9%97%b4dp aria-label=石子合并-区间DP>石子合并-区间DP</a><ul><li><a href=#%e6%80%9d%e8%b7%af-67 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-97 aria-label=代码>代码</a></li><li><a href=#%e7%8e%af%e5%bd%a2%e7%9f%b3%e5%ad%90%e5%90%88%e5%b9%b6 aria-label=环形石子合并>环形石子合并</a><ul><li><a href=#%e6%80%9d%e8%b7%af-68 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-98 aria-label=代码>代码</a></li></ul></li></ul></li><li><a href=#%e5%90%88%e5%b9%b6%e4%b8%a4%e4%b8%aa%e6%9c%89%e5%ba%8f%e6%95%b0%e7%bb%84 aria-label=合并两个有序数组>合并两个有序数组</a><ul><li><a href=#%e8%a7%a3%e9%a2%98%e6%80%9d%e8%b7%af-2 aria-label=解题思路>解题思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-99 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%88%a0%e9%99%a4%e6%9c%89%e5%ba%8f%e6%95%b0%e7%bb%84%e4%b8%ad%e7%9a%84%e9%87%8d%e5%a4%8d%e9%a1%b9ii aria-label=删除有序数组中的重复项II>删除有序数组中的重复项II</a><ul><li><a href=#%e6%80%9d%e8%b7%af-69 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-100 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%90%9c%e7%b4%a2%e6%97%8b%e8%bd%ac%e6%8e%92%e5%ba%8f%e6%95%b0%e7%bb%84ii-%e4%ba%8c%e5%88%86 aria-label=搜索旋转排序数组II-二分>搜索旋转排序数组II-二分</a><ul><li><a href=#%e6%80%9d%e8%b7%af-70 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-101 aria-label=代码>代码</a></li></ul></li><li><a href=#0%e5%88%b0n-1%e4%b8%ad%e7%bc%ba%e5%a4%b1%e7%9a%84%e6%95%b0%e5%ad%97-%e4%ba%8c%e5%88%86 aria-label=0到n-1中缺失的数字-二分>0到n-1中缺失的数字-二分</a><ul><li><a href=#%e6%80%9d%e8%b7%af-71 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-102 aria-label=代码>代码</a></li></ul></li><li><a href=#%e7%a7%bb%e5%8e%bbk%e4%bd%8d%e6%95%b0%e5%ad%97-%e8%b4%aa%e5%bf%83 aria-label=移去K位数字-贪心>移去K位数字-贪心</a><ul><li><a href=#%e6%80%9d%e8%b7%af-72 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-103 aria-label=代码>代码</a></li></ul></li><li><a href=#%e4%ba%8c%e5%8f%89%e6%90%9c%e7%b4%a2%e6%a0%91%e8%8a%82%e7%82%b9%e6%9c%80%e5%b0%8f%e8%b7%9d%e7%a6%bb aria-label=二叉搜索树节点最小距离>二叉搜索树节点最小距离</a><ul><li><a href=#%e6%80%9d%e8%b7%af-73 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-104 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%ae%9e%e7%8e%b0trie%e6%a0%91 aria-label=实现Trie树>实现Trie树</a><ul><li><a href=#%e6%80%9d%e8%b7%af-74 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-105 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%89%8d%e7%bc%80%e7%bb%9f%e8%ae%a1-trie aria-label=前缀统计-Trie>前缀统计-Trie</a><ul><li><a href=#%e9%93%be%e8%a1%a8%e4%bb%a3%e7%a0%81 aria-label=链表代码>链表代码</a></li><li><a href=#%e6%95%b0%e7%bb%84%e4%bb%a3%e7%a0%81 aria-label=数组代码>数组代码</a></li></ul></li><li><a href=#%e6%89%93%e5%ae%b6%e5%8a%ab%e8%88%8dii-dp aria-label=打家劫舍II-DP>打家劫舍II-DP</a><ul><li><a href=#%e8%a7%a3%e9%a2%98%e6%80%9d%e8%b7%af-3 aria-label=解题思路>解题思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-106 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%89%b0%e4%b9%b1%e5%ad%97%e7%ac%a6%e4%b8%b2-dp aria-label=扰乱字符串-DP>扰乱字符串-DP</a><ul><li><a href=#%e6%80%9d%e8%b7%af-75 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-107 aria-label=代码>代码</a></li></ul></li><li><a href=#%e9%87%8d%e5%a4%8d%e5%85%83%e7%b4%a0iii-%e6%bb%91%e5%8a%a8%e7%aa%97%e5%8f%a3 aria-label=重复元素III-滑动窗口>重复元素III-滑动窗口</a><ul><li><a href=#%e6%80%9d%e8%b7%af-76 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-108 aria-label=代码>代码</a></li></ul></li><li><a href=#%e8%a7%a3%e7%a0%81%e6%96%b9%e6%b3%95-dp aria-label=解码方法-dp>解码方法-dp</a><ul><li><a href=#%e6%80%9d%e8%b7%af-77 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-109 aria-label=代码>代码</a></li></ul></li><li><a href=#%e7%9f%a9%e5%bd%a2%e5%8c%ba%e5%9f%9f%e4%b8%8d%e8%b6%85%e8%bf%87-k-%e7%9a%84%e6%9c%80%e5%a4%a7%e6%95%b0%e5%80%bc%e5%92%8c-%e5%89%8d%e7%bc%80%e5%92%8c aria-label="矩形区域不超过 K 的最大数值和-前缀和">矩形区域不超过 K 的最大数值和-前缀和</a><ul><li><a href=#%e6%80%9d%e8%b7%af-78 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-110 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%9c%80%e5%a4%a7%e6%95%b4%e9%99%a4%e5%ad%90%e9%9b%86-dp aria-label=最大整除子集-dp>最大整除子集-dp</a><ul><li><a href=#%e8%a7%a3%e9%a2%98%e6%80%9d%e8%b7%af-4 aria-label=解题思路>解题思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-111 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%95%b4%e6%95%b0%e6%8b%86%e5%88%86-%e5%ae%8c%e5%85%a8%e8%83%8c%e5%8c%85 aria-label=整数拆分-完全背包>整数拆分-完全背包</a><ul><li><a href=#%e6%80%9d%e8%b7%af-79 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-112 aria-label=代码>代码</a></li></ul></li><li><a href=#%e7%bb%84%e5%90%88%e6%80%bb%e5%92%8civ-dp aria-label=组合总和IV-DP>组合总和IV-DP</a><ul><li><a href=#%e6%80%9d%e8%b7%af-80 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-113 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%9c%80%e5%a4%a7%e7%9a%84%e5%92%8c-%e5%89%8d%e7%bc%80%e5%92%8c%e6%bb%91%e5%8a%a8%e7%aa%97%e5%8f%a3 aria-label=最大的和-前缀和&amp;amp;滑动窗口>最大的和-前缀和&滑动窗口</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-114 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%85%ab%e6%95%b0%e7%a0%81-a aria-label=八数码-A*>八数码-A*</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-115 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%9c%80%e9%95%bf%e9%80%92%e5%a2%9e%e5%ad%90%e5%ba%8f%e5%88%97%e7%9a%84%e4%b8%aa%e6%95%b0-lis aria-label=最长递增子序列的个数-LIS>最长递增子序列的个数-LIS</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-116 aria-label=代码>代码</a></li></ul></li><li><a href=#%e7%89%9b%e7%9a%84%e5%ad%a6%e6%9c%af%e5%9c%88%e5%ad%90i-%e4%ba%8c%e5%88%86 aria-label=牛的学术圈子I-二分>牛的学术圈子I-二分</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-117 aria-label=代码>代码</a></li></ul></li><li><a href=#%e7%89%9b%e5%b9%b4-%e5%90%8c%e4%bd%99 aria-label=牛年-同余>牛年-同余</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-118 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%89%be%e5%87%ba%e7%bc%ba%e5%a4%b1%e7%9a%84%e8%a7%82%e6%b5%8b%e6%95%b0%e6%8d%ae aria-label=找出缺失的观测数据>找出缺失的观测数据</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-119 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%a6%82%e6%9e%9c%e7%9b%b8%e9%82%bb%e4%b8%a4%e4%b8%aa%e9%a2%9c%e8%89%b2%e5%9d%87%e7%9b%b8%e5%90%8c%e5%88%99%e5%88%a0%e9%99%a4%e5%bd%93%e5%89%8d%e9%a2%9c%e8%89%b2 aria-label=如果相邻两个颜色均相同则删除当前颜色>如果相邻两个颜色均相同则删除当前颜色</a><ul><li><a href=#%e4%bb%a3%e7%a0%81-120 aria-label=代码>代码</a></li></ul></li><li><a href=#%e8%80%83%e8%af%95%e7%9a%84%e6%9c%80%e5%a4%a7%e5%9b%b0%e6%89%b0%e5%ba%a6 aria-label=考试的最大困扰度>考试的最大困扰度</a><ul><li><a href=#%e6%80%9d%e8%b7%af-81 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-121 aria-label=代码>代码</a></li></ul></li><li><a href=#%e5%8c%ba%e5%9f%9f%e5%92%8c%e6%a3%80%e7%b4%a2-%e6%95%b0%e7%bb%84%e5%8f%af%e4%bf%ae%e6%94%b9 aria-label=区域和检索-数组可修改>区域和检索-数组可修改</a><ul><li><a href=#%e6%80%9d%e8%b7%af-82 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-122 aria-label=代码>代码</a></li></ul></li><li><a href=#%e4%b8%a4%e6%a3%b5%e4%ba%8c%e5%8f%89%e6%90%9c%e7%b4%a2%e6%a0%91%e4%b8%ad%e7%9a%84%e6%89%80%e6%9c%89%e5%85%83%e7%b4%a0 aria-label=两棵二叉搜索树中的所有元素>两棵二叉搜索树中的所有元素</a><ul><li><a href=#%e6%80%9d%e8%b7%af-83 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-123 aria-label=代码>代码</a></li></ul></li><li><a href=#%e6%9c%80%e8%bf%91%e7%9a%84%e8%af%b7%e6%b1%82%e6%ac%a1%e6%95%b0 aria-label=最近的请求次数>最近的请求次数</a><ul><li><a href=#%e6%80%9d%e8%b7%af-84 aria-label=思路>思路</a></li><li><a href=#%e4%bb%a3%e7%a0%81-124 aria-label=代码>代码</a></li></ul></li></ul></li></ul></div></details></div><div class=post-content><h2 id=week-1>Week 1<a hidden class=anchor aria-hidden=true href=#week-1>#</a></h2><h3 id=货仓选址>货仓选址<a hidden class=anchor aria-hidden=true href=#货仓选址>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/106/>题目链接</a></p><h4 id=思路>思路<a hidden class=anchor aria-hidden=true href=#思路>#</a></h4><p>绝对值不等式：$|a_1 - x| + |a_2 - x| + |a_3 - x| + &mldr; + |a_n - x| \ge |a_n-a_1| + |a_{n-1}-a_{2}|+&mldr; $
结论：当n为奇数，x应在中位数；当n为偶数时，x应在中间两个数之间。</p><h4 id=代码>代码<a hidden class=anchor aria-hidden=true href=#代码>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>100005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> a[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>    sort(a, a <span style=color:#f92672>+</span> n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) ans <span style=color:#f92672>+=</span> abs(a[i]<span style=color:#f92672>-</span>a[n<span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>]);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=数字三角形-dp>数字三角形-DP<a hidden class=anchor aria-hidden=true href=#数字三角形-dp>#</a></h3><p><a href=https://www.acwing.com/problem/content/900/>题目链接</a></p><h4 id=思路-1>思路<a hidden class=anchor aria-hidden=true href=#思路-1>#</a></h4><p>从下到上，$ f[i][j] = max(f[i+1][j]+w[i][j], f[i+1][j+1]+w[i][j]) $</p><h4 id=代码-1>代码<a hidden class=anchor aria-hidden=true href=#代码-1>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>505</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[N][N], w[N][N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> i; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> w[i][j];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        f[n][i] <span style=color:#f92672>=</span> w[n][i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; i<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> i; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            f[i][j] <span style=color:#f92672>=</span> max(f[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][j]<span style=color:#f92672>+</span>w[i][j], f[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>]<span style=color:#f92672>+</span>w[i][j]);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=简化等价变换版代码>简化(等价变换)版代码<a hidden class=anchor aria-hidden=true href=#简化等价变换版代码>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>505</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[N][N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> i; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> f[i][j];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; i<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> i; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            f[i][j] <span style=color:#f92672>+=</span> max(f[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][j], f[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=week-2>Week 2<a hidden class=anchor aria-hidden=true href=#week-2>#</a></h2><h3 id=蛇形矩阵>蛇形矩阵<a hidden class=anchor aria-hidden=true href=#蛇形矩阵>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/758/>题目链接</a></p><h4 id=代码-2>代码<a hidden class=anchor aria-hidden=true href=#代码-2>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>105</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> dx[]{<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>}, dy[]{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> q[N][N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> x <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, y <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, d <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n <span style=color:#f92672>*</span> m; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        q[x][y] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> x <span style=color:#f92672>+</span> dx[d], b <span style=color:#f92672>=</span> y <span style=color:#f92672>+</span> dy[d];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (a <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> a <span style=color:#f92672>&gt;=</span> n <span style=color:#f92672>||</span> b <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> b <span style=color:#f92672>&gt;=</span> m <span style=color:#f92672>||</span> q[a][b]) {
</span></span><span style=display:flex><span>            d <span style=color:#f92672>=</span> (d <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>            a <span style=color:#f92672>=</span> x <span style=color:#f92672>+</span> dx[d], b <span style=color:#f92672>=</span> y <span style=color:#f92672>+</span> dy[d];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        x <span style=color:#f92672>=</span> a, y <span style=color:#f92672>=</span> b;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> m; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> q[i][j] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39; &#39;</span>;
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=红与黑-flood-fill算法>红与黑-Flood Fill算法<a hidden class=anchor aria-hidden=true href=#红与黑-flood-fill算法>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/1115/>题目链接</a></p><h4 id=思路-2>思路<a hidden class=anchor aria-hidden=true href=#思路-2>#</a></h4><p>Flood-Fill</p><ul><li>BFS（最短距离）</li></ul><pre tabindex=0><code>while 队列为空
{
    取出队头t
    枚举t的4个邻格
    if 格子是陆地并且未开发
        标记为已被开发
        插入队列
}
</code></pre><ul><li>DFS（更方便）</li></ul><pre tabindex=0><code>dfs(x, y)
{
    将(x, y)标记为已开发
    枚举(x, y)的四个邻格
    if 格子是陆地并且未开发
        dfs该格子
}
</code></pre><h4 id=代码-3>代码<a hidden class=anchor aria-hidden=true href=#代码-3>#</a></h4><h5 id=bfs>BFS<a hidden class=anchor aria-hidden=true href=#bfs>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define x first
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define y second
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>typedef</span> pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> PII;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>25</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> g[N][N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>bfs</span>(<span style=color:#66d9ef>int</span> sx, <span style=color:#66d9ef>int</span> sy) {
</span></span><span style=display:flex><span>	queue<span style=color:#f92672>&lt;</span>PII<span style=color:#f92672>&gt;</span> Q;
</span></span><span style=display:flex><span>	Q.push({sx, sy});
</span></span><span style=display:flex><span>	g[sx][sy] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;#&#39;</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> dx[]{<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>}, dy[]{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>Q.empty()) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>auto</span> t <span style=color:#f92672>=</span> Q.front();
</span></span><span style=display:flex><span>		Q.pop();
</span></span><span style=display:flex><span>		res<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>int</span> nx <span style=color:#f92672>=</span> t.x <span style=color:#f92672>+</span> dx[i], ny <span style=color:#f92672>=</span> t.y <span style=color:#f92672>+</span> dy[i];
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> (nx <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> nx <span style=color:#f92672>&gt;=</span> n <span style=color:#f92672>||</span> ny <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> ny <span style=color:#f92672>&gt;=</span> m <span style=color:#f92672>||</span> g[nx][ny] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;.&#39;</span>) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>			g[nx][ny] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;#&#39;</span>;
</span></span><span style=display:flex><span>			Q.emplace(nx, ny);
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> res;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (cin <span style=color:#f92672>&gt;&gt;</span> m <span style=color:#f92672>&gt;&gt;</span> n , n <span style=color:#f92672>||</span> m) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>			cin <span style=color:#f92672>&gt;&gt;</span> g[i];
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> x, y;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> m; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>if</span> (g[i][j] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;@&#39;</span>) {
</span></span><span style=display:flex><span>					x <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>					y <span style=color:#f92672>=</span> j;
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		cout <span style=color:#f92672>&lt;&lt;</span> bfs(x, y) <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>	}	
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h5 id=dfs>DFS<a hidden class=anchor aria-hidden=true href=#dfs>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>25</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> g[N][N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> dx[]{<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>}, dy[]{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y) {
</span></span><span style=display:flex><span>    g[x][y] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;#&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> nx <span style=color:#f92672>=</span> x <span style=color:#f92672>+</span> dx[i], ny <span style=color:#f92672>=</span> y <span style=color:#f92672>+</span> dy[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (nx <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> nx <span style=color:#f92672>&gt;=</span> n <span style=color:#f92672>||</span> ny <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> ny <span style=color:#f92672>&gt;=</span> m <span style=color:#f92672>||</span> g[nx][ny] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;.&#39;</span>) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>        res <span style=color:#f92672>+=</span> dfs(nx, ny);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> res;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (cin <span style=color:#f92672>&gt;&gt;</span> m <span style=color:#f92672>&gt;&gt;</span> n, n <span style=color:#f92672>||</span> m) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> x, y;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> g[i];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> m; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>             <span style=color:#66d9ef>if</span> (g[i][j] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;@&#39;</span>) {
</span></span><span style=display:flex><span>                 x <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>                 y <span style=color:#f92672>=</span> j;
</span></span><span style=display:flex><span>             }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> dfs(x, y) <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=回文平方>回文平方<a hidden class=anchor aria-hidden=true href=#回文平方>#</a></h3><p><a href=https://www.acwing.com/problem/content/1348/>题目链接</a></p><h4 id=代码-4>代码<a hidden class=anchor aria-hidden=true href=#代码-4>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> <span style=color:#a6e22e>get</span>(<span style=color:#66d9ef>int</span> n) { <span style=color:#66d9ef>return</span> n <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>9</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>+</span> n : <span style=color:#e6db74>&#39;A&#39;</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>+</span> n; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>string <span style=color:#a6e22e>base</span>(<span style=color:#66d9ef>int</span> n, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    string s <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (n) {
</span></span><span style=display:flex><span>        s <span style=color:#f92672>+=</span> get(n <span style=color:#f92672>%</span> b);
</span></span><span style=display:flex><span>        n <span style=color:#f92672>/=</span> b;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    reverse(s.begin(), s.end());
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> s;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>const</span> string <span style=color:#f92672>&amp;</span>s) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, j <span style=color:#f92672>=</span> s.length() <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> s.length(); i<span style=color:#f92672>++</span>, j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (s[i] <span style=color:#f92672>!=</span> s[j]) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> b;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>300</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> t <span style=color:#f92672>=</span> base(i <span style=color:#f92672>*</span> i, b);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(t)) {
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> base(i, b) <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> t <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=剪绳子-浮点数二分>剪绳子-浮点数二分<a hidden class=anchor aria-hidden=true href=#剪绳子-浮点数二分>#</a></h3><p><a href=https://www.acwing.com/problem/content/682/>题目链接</a></p><h4 id=思路-3>思路<a hidden class=anchor aria-hidden=true href=#思路-3>#</a></h4><p>二分
最优化->判定问题</p><ul><li>情况1：可以[mid, r]</li><li>情况2：不可以[l, mid)</li></ul><p>保留k位小数：r-l &lt; 1e-4</p><h4 id=代码-5>代码<a hidden class=anchor aria-hidden=true href=#代码-5>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>100005</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> w[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>double</span> mid) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cnt <span style=color:#f92672>+=</span> w[i] <span style=color:#f92672>/</span> mid;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> cnt <span style=color:#f92672>&gt;=</span> m;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> w[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.0</span>, r <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e9</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>100</span>; i<span style=color:#f92672>++</span>) { <span style=color:#75715e>// while (r-l &gt; 1e-4)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>double</span> mid <span style=color:#f92672>=</span> (l <span style=color:#f92672>+</span> r) <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid))
</span></span><span style=display:flex><span>            l <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            r <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%.2f</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, l);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=扩展题>扩展题<a hidden class=anchor aria-hidden=true href=#扩展题>#</a></h4><p><a href=https://www.acwing.com/problem/content/792/>题目链接</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> n;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>double</span> mid) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> mid<span style=color:#f92672>*</span>mid<span style=color:#f92672>*</span>mid <span style=color:#f92672>&lt;</span> n;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> l <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>22.0</span>, r <span style=color:#f92672>=</span> <span style=color:#ae81ff>22.0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (r <span style=color:#f92672>-</span> l <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1e-8</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>double</span> mid <span style=color:#f92672>=</span> (l<span style=color:#f92672>+</span>r) <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid)) l <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> r <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%.6f</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, l);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=分巧克力-整数二分>分巧克力-整数二分<a hidden class=anchor aria-hidden=true href=#分巧克力-整数二分>#</a></h3><p><a href=https://www.acwing.com/problem/content/1229/>题目链接</a></p><h4 id=思路-4>思路<a hidden class=anchor aria-hidden=true href=#思路-4>#</a></h4><p>$ \sum_{i=0}^{n-1} \lfloor \frac {h_i} {mid} \rfloor \times \lfloor \frac{w_i}{mid} \rfloor\ge k $</p><ul><li>成立：$[mid, r], l = mid$</li><li>不成立：$[l, mid-1], r = mid-1 $</li></ul><h4 id=代码-6>代码<a hidden class=anchor aria-hidden=true href=#代码-6>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> ll <span style=color:#f92672>=</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], w[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, k;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>int</span> mid) {
</span></span><span style=display:flex><span>    ll s <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        s <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1LL</span> <span style=color:#f92672>*</span> (h[i]<span style=color:#f92672>/</span>mid) <span style=color:#f92672>*</span> (w[i]<span style=color:#f92672>/</span>mid);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (s <span style=color:#f92672>&gt;=</span> k) <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> k;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> h[i] <span style=color:#f92672>&gt;&gt;</span> w[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, r <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid)) l <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> r <span style=color:#f92672>=</span> mid<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> l <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=二分模板>二分模板<a hidden class=anchor aria-hidden=true href=#二分模板>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>bsearch_1</span>(<span style=color:#66d9ef>int</span> l, <span style=color:#66d9ef>int</span> r) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid)) r <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> l <span style=color:#f92672>=</span> mid<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> l
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>bsearch_2</span>(<span style=color:#66d9ef>int</span> l, <span style=color:#66d9ef>int</span> r) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid)) l <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> r <span style=color:#f92672>=</span> mid<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=扩展题-1>扩展题<a hidden class=anchor aria-hidden=true href=#扩展题-1>#</a></h4><ul><li><p>数的范围</p><p><a href=https://www.acwing.com/problem/content/791/>题目链接</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, q;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> a[<span style=color:#ae81ff>100010</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> q;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> k;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (q<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> k;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> lower_bound(a, a<span style=color:#f92672>+</span>n, k)<span style=color:#f92672>-</span>a;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> r <span style=color:#f92672>=</span> upper_bound(a, a<span style=color:#f92672>+</span>n, k)<span style=color:#f92672>-</span>a;
</span></span><span style=display:flex><span>        printf(<span style=color:#e6db74>&#34;%d &#34;</span>, a[l]<span style=color:#f92672>==</span>k<span style=color:#f92672>?</span> l : <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>        printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, a[r<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]<span style=color:#f92672>==</span>k<span style=color:#f92672>?</span> r<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>:</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li><li><p>旋转数组的最小数字-不具有单调性，但具有二段性</p><p><a href=https://www.acwing.com/problem/content/description/20/>题目链接</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> findMin(vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&amp;</span> nums) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (nums.empty()) <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> nums.size();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (n <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> nums[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> nums[n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]) n<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (nums[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;=</span> nums[n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]) <span style=color:#66d9ef>return</span> nums[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, r <span style=color:#f92672>=</span> n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (nums[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&gt;</span> nums[mid]) r <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> l <span style=color:#f92672>=</span> mid<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> nums[r];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div></li></ul><h3 id=校门外的树-区间合并>校门外的树-区间合并<a hidden class=anchor aria-hidden=true href=#校门外的树-区间合并>#</a></h3><p><a href=https://www.acwing.com/problem/content/424/>题目链接</a></p><h4 id=思路-5>思路<a hidden class=anchor aria-hidden=true href=#思路-5>#</a></h4><p>先求出所有移动树木的操作的区间的并集，那么马路上剩余部分即为最终剩下树木的部分。</p><p>区间合并算法</p><ul><li>将所有区间按左端点从小到大排序</li><li>从左到右遍历每个区间[L, R]<ul><li>$ l_i \le R $， $R = max(R, r_i) $</li><li>$ l_i > R$, 则将[L, R] 存下来，L, R&lt;- $ l_i, r_i $</li></ul></li></ul><h4 id=代码-7>代码<a hidden class=anchor aria-hidden=true href=#代码-7>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#75715e>#define x first
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define y second
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>105</span>;
</span></span><span style=display:flex><span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> seg[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> l, m;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> l <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> seg[i].x <span style=color:#f92672>&gt;&gt;</span> seg[i].y;
</span></span><span style=display:flex><span>    sort(seg, seg<span style=color:#f92672>+</span>m);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> L <span style=color:#f92672>=</span> seg[<span style=color:#ae81ff>0</span>].x, R <span style=color:#f92672>=</span> seg[<span style=color:#ae81ff>0</span>].y;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (seg[i].x <span style=color:#f92672>&lt;=</span> R) R <span style=color:#f92672>=</span> max(R, seg[i].y);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            res <span style=color:#f92672>-=</span> R <span style=color:#f92672>-</span> L <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            L <span style=color:#f92672>=</span> seg[i].x;
</span></span><span style=display:flex><span>            R <span style=color:#f92672>=</span> seg[i].y;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    res <span style=color:#f92672>-=</span> R <span style=color:#f92672>-</span> L <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> res <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=扩展题-挤牛奶>扩展题-挤牛奶<a hidden class=anchor aria-hidden=true href=#扩展题-挤牛奶>#</a></h4><p><a href=https://www.acwing.com/problem/content/1343/>题目链接</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#75715e>#define x first
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define y second
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>5005</span>;
</span></span><span style=display:flex><span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> seg[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> seg[i].x <span style=color:#f92672>&gt;&gt;</span> seg[i].y;
</span></span><span style=display:flex><span>    sort(seg, seg<span style=color:#f92672>+</span>n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> L <span style=color:#f92672>=</span> seg[<span style=color:#ae81ff>0</span>].x, R <span style=color:#f92672>=</span> seg[<span style=color:#ae81ff>0</span>].y;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, b <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (seg[i].x <span style=color:#f92672>&lt;=</span> R) R <span style=color:#f92672>=</span> max(R, seg[i].y);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>  {
</span></span><span style=display:flex><span>            b <span style=color:#f92672>=</span> max(b, seg[i].x<span style=color:#f92672>-</span>R);
</span></span><span style=display:flex><span>            a <span style=color:#f92672>=</span> max(a, R<span style=color:#f92672>-</span>L);
</span></span><span style=display:flex><span>            L <span style=color:#f92672>=</span> seg[i].x;
</span></span><span style=display:flex><span>            R <span style=color:#f92672>=</span> seg[i].y;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    a <span style=color:#f92672>=</span> max(a, R<span style=color:#f92672>-</span>L);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> a <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> b <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=奖学金>奖学金<a hidden class=anchor aria-hidden=true href=#奖学金>#</a></h3><p><a href=https://www.acwing.com/problem/content/431/>题目链接</a></p><h4 id=代码-8>代码<a hidden class=anchor aria-hidden=true href=#代码-8>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>node</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> id;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> grades[<span style=color:#ae81ff>3</span>];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_sum</span>() <span style=color:#66d9ef>const</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> s <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>3</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            s <span style=color:#f92672>+=</span> grades[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> s;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>friend</span> istream<span style=color:#f92672>&amp;</span> <span style=color:#66d9ef>operator</span><span style=color:#f92672>&gt;&gt;</span>(istream<span style=color:#f92672>&amp;</span> in, node <span style=color:#f92672>&amp;</span>a) {
</span></span><span style=display:flex><span>        a.id <span style=color:#f92672>=</span> <span style=color:#f92672>++</span>cnt;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>3</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            in <span style=color:#f92672>&gt;&gt;</span> a.grades[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> in;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>friend</span> <span style=color:#66d9ef>bool</span> <span style=color:#66d9ef>operator</span><span style=color:#f92672>&lt;</span>(<span style=color:#66d9ef>const</span> node <span style=color:#f92672>&amp;</span>a, <span style=color:#66d9ef>const</span> node <span style=color:#f92672>&amp;</span>b) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> sa <span style=color:#f92672>=</span> a.get_sum(), sb <span style=color:#f92672>=</span> b.get_sum();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (sa <span style=color:#f92672>!=</span> sb) <span style=color:#66d9ef>return</span> sa <span style=color:#f92672>&lt;</span> sb;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>if</span> (a.grades[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>!=</span> b.grades[<span style=color:#ae81ff>0</span>]) <span style=color:#66d9ef>return</span> a.grades[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;</span> b.grades[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>return</span> a.id <span style=color:#f92672>&gt;</span> b.id;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>priority_queue<span style=color:#f92672>&lt;</span>node<span style=color:#f92672>&gt;</span> Q;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    node tmp;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> tmp;
</span></span><span style=display:flex><span>        Q.push(tmp);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> t <span style=color:#f92672>=</span> Q.top();
</span></span><span style=display:flex><span>        Q.pop();
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> t.id <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> t.get_sum() <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=week-3>Week 3<a hidden class=anchor aria-hidden=true href=#week-3>#</a></h2><h3 id=翻硬币-递推>翻硬币-递推<a hidden class=anchor aria-hidden=true href=#翻硬币-递推>#</a></h3><p><a href=https://www.acwing.com/problem/content/1210/>题目链接</a></p><h4 id=思路-6>思路<a hidden class=anchor aria-hidden=true href=#思路-6>#</a></h4><p>枚举递推：每一个操作是唯一确定的</p><h4 id=代码-9>代码<a hidden class=anchor aria-hidden=true href=#代码-9>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>string a, b;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>turn</span>(<span style=color:#66d9ef>int</span> i) { a[i] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;*&#39;</span> <span style=color:#f92672>?</span> a[i] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;o&#39;</span> <span style=color:#f92672>:</span> a[i] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;*&#39;</span>; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> a <span style=color:#f92672>&gt;&gt;</span> b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> a.length()<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (a[i] <span style=color:#f92672>!=</span> b[i]) {
</span></span><span style=display:flex><span>            turn(i);
</span></span><span style=display:flex><span>            turn(i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>            <span style=color:#f92672>++</span>res;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> res <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=扩展题-费解的开关>扩展题-费解的开关<a hidden class=anchor aria-hidden=true href=#扩展题-费解的开关>#</a></h4><ul><li><strong>思路</strong><ul><li>枚举第一行的点击方法，共32种，完成第一行的点击后，固定第一行，</li><li>从第一行开始递推，若达到第n行不全为0，说明这种点击方式不合法。</li><li>在所有合法的点击方式中取点击次数最少的就是答案。</li><li>对第一行的32次枚举涵盖了该问题的整个状态空间，因此该做法是正确的</li><li></li><li>时间复杂度：<code>32*20*5*500 = 一百六十万</code></li><li><code>对第一行操作有32种可能 * 对前四行有20种操作可能 * 每一次操作都要改变5个灯的状态 * 最多读入的时候可能有500次light矩阵</code></li><li>最关键的两个性质</li><li>每一个位置最多只会被点击一次</li><li>如果固定了第一行，那么满足题意的点击方案最多只有一种</li></ul></li><li><strong>代码</strong><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;climits&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> s[<span style=color:#ae81ff>5</span>][<span style=color:#ae81ff>5</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>turn</span>(<span style=color:#66d9ef>int</span> i, <span style=color:#66d9ef>int</span> j) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> dx[]{<span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>}, dy[]{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; k <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; k<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> nx <span style=color:#f92672>=</span> i <span style=color:#f92672>+</span> dx[k], ny <span style=color:#f92672>=</span> j <span style=color:#f92672>+</span> dy[k];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (nx <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> nx <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>5</span> <span style=color:#f92672>||</span> ny <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> ny <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>5</span>) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>        s[nx][ny] <span style=color:#f92672>^=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>work</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> INT_MAX;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; k <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>5</span>; k<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>char</span> back[<span style=color:#ae81ff>5</span>][<span style=color:#ae81ff>5</span>];
</span></span><span style=display:flex><span>        memcpy(back, s, <span style=color:#66d9ef>sizeof</span> s);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> ((k <span style=color:#f92672>&gt;&gt;</span> j) <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>                turn(<span style=color:#ae81ff>0</span>, j);
</span></span><span style=display:flex><span>                <span style=color:#f92672>++</span>cnt;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (s[i][j] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;0&#39;</span>) {
</span></span><span style=display:flex><span>                    turn(i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, j);
</span></span><span style=display:flex><span>                    <span style=color:#f92672>++</span>cnt;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>bool</span> ok <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (s[<span style=color:#ae81ff>4</span>][j] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;0&#39;</span>) ok <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (ok) res <span style=color:#f92672>=</span> min(res, cnt);
</span></span><span style=display:flex><span>        memcpy(s, back, <span style=color:#66d9ef>sizeof</span> back);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> res <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>6</span> <span style=color:#f92672>?</span> res : <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (n<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> s[i];
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> work() <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li></ul><h3 id=找硬币>找硬币<a hidden class=anchor aria-hidden=true href=#找硬币>#</a></h3><p><a href=https://www.acwing.com/problem/content/1534/>题目链接</a></p><h4 id=哈希表做法on>哈希表做法$O(n)$<a hidden class=anchor aria-hidden=true href=#哈希表做法on>#</a></h4><h5 id=思路-7>思路<a hidden class=anchor aria-hidden=true href=#思路-7>#</a></h5><p>对于当前的元素t，查看之前集合中是否存在m-t，若存在则更新答案，否则添加到集合中。</p><h5 id=代码-10>代码<a hidden class=anchor aria-hidden=true href=#代码-10>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;climits&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;unordered_set&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span>unordered_set<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> S;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> v1 <span style=color:#f92672>=</span> INT_MAX, v2;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (n<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a;
</span></span><span style=display:flex><span>        b <span style=color:#f92672>=</span> m <span style=color:#f92672>-</span> a;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (S.count(b)) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (a <span style=color:#f92672>&gt;</span> b) swap(a, b);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (v1 <span style=color:#f92672>&gt;</span> a) {
</span></span><span style=display:flex><span>                v1 <span style=color:#f92672>=</span> a;
</span></span><span style=display:flex><span>                v2 <span style=color:#f92672>=</span> b;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> S.insert(a);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    printf(v1 <span style=color:#f92672>==</span> INT_MAX <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;No Solution&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;%d %d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, v1, v2);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=双指针做法onlogn>双指针做法$O(nlogn)$<a hidden class=anchor aria-hidden=true href=#双指针做法onlogn>#</a></h4><h5 id=思路-8>思路<a hidden class=anchor aria-hidden=true href=#思路-8>#</a></h5><style type=text/css>.notice{padding:18px;line-height:24px;margin-bottom:24px;border-radius:4px;color:#444;background:#e7f2fa}.notice p:last-child{margin-bottom:0}.notice-title{margin:-18px -18px 12px;padding:4px 18px;border-radius:4px 4px 0 0;font-weight:700;color:#fff;background:#6ab0de}.notice.warning .notice-title{background:rgba(217,83,79,.9)}.notice.warning{background:#fae2e2}.notice.info .notice-title{background:#f0b37e}.notice.info{background:#fff2db}.notice.note .notice-title{background:#6ab0de}.notice.note{background:#e7f2fa}.notice.tip .notice-title{background:rgba(92,184,92,.8)}.notice.tip{background:#e6f9e6}.icon-notice{display:inline-flex;align-self:center;margin-right:8px}.icon-notice img,.icon-notice svg{height:1em;width:1em;fill:currentColor}.icon-notice img,.icon-notice.baseline svg{top:.125em;position:relative}</style><div><svg width="0" height="0" display="none" xmlns="http://www.w3.org/2000/svg"><symbol id="tip-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379.0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628.0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628.0l-22.627 22.627c-6.248 6.248-6.248 16.379.0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"/></symbol><symbol id="note-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405.0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346 7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373.0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884.0-12.356 5.78-11.981 12.654z"/></symbol><symbol id="warning-notice" viewBox="0 0 576 512" preserveAspectRatio="xMidYMid meet"><path d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937.0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154.0l239.94 416.028zM288 354c-25.405.0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346 7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373.0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884.0-12.356 5.78-11.981 12.654z"/></symbol><symbol id="info-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196.0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627.0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627.0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627.0 12 5.373 12 12v1e2h12c6.627.0 12 5.373 12 12v24z"/></symbol></svg></div><div class="notice note"><p class="first notice-title"><span class="icon-notice baseline"><svg><use href="#note-notice"/></svg></span>Note</p><p>双指针算法：如果<code>i++</code>和<code>j--</code>单调性相反就能用双指针做法。</p></div><p>$a[i]+a[j] \le m \ and \ j 最大$</p><h5 id=代码-11>代码<a hidden class=anchor aria-hidden=true href=#代码-11>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> a[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>    sort(a, a<span style=color:#f92672>+</span>n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, j <span style=color:#f92672>=</span> n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (i <span style=color:#f92672>&lt;</span> j <span style=color:#f92672>&amp;&amp;</span> a[i] <span style=color:#f92672>+</span> a[j] <span style=color:#f92672>&gt;</span> m) j<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (i <span style=color:#f92672>&lt;</span> j <span style=color:#f92672>&amp;&amp;</span> a[i]<span style=color:#f92672>+</span>a[j] <span style=color:#f92672>==</span> m) {
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> a[i] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> a[j] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;No Solution&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=十三号星期五>十三号星期五<a hidden class=anchor aria-hidden=true href=#十三号星期五>#</a></h3><p><a href=https://www.acwing.com/problem/content/1343/>题目链接</a></p><h4 id=思路-9>思路<a hidden class=anchor aria-hidden=true href=#思路-9>#</a></h4><ul><li>枚举每个月第一天距离1900-1-1过了多少天days</li><li>星期：$(days+12)\ mod \ 7 $</li></ul><h4 id=代码-12>代码<a hidden class=anchor aria-hidden=true href=#代码-12>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> month[] <span style=color:#f92672>=</span> {<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>28</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> weekdays[<span style=color:#ae81ff>7</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> days <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> year <span style=color:#f92672>=</span> <span style=color:#ae81ff>1900</span>; year <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1900</span><span style=color:#f92672>+</span>n; year<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>12</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            weekdays[(days <span style=color:#f92672>+</span> <span style=color:#ae81ff>12</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>7</span>]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>            days <span style=color:#f92672>+=</span> month[i];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (i <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>&amp;&amp;</span> (year <span style=color:#f92672>%</span> <span style=color:#ae81ff>4</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> year <span style=color:#f92672>%</span> <span style=color:#ae81ff>100</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> year <span style=color:#f92672>%</span> <span style=color:#ae81ff>400</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>)) days<span style=color:#f92672>++</span>; 
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>, j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>7</span>; i <span style=color:#f92672>=</span> (i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>7</span>, j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> weekdays[i] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=平方矩阵-ii>平方矩阵 II<a hidden class=anchor aria-hidden=true href=#平方矩阵-ii>#</a></h3><p><a href=https://www.acwing.com/problem/content/756/>题目链接</a></p><h4 id=代码-13>代码<a hidden class=anchor aria-hidden=true href=#代码-13>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (cin <span style=color:#f92672>&gt;&gt;</span> n, n) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> n; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                cout <span style=color:#f92672>&lt;&lt;</span> abs(j<span style=color:#f92672>-</span>i) <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39; &#39;</span>;
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=longest-increasing-subsequence>Longest-increasing-subsequence<a hidden class=anchor aria-hidden=true href=#longest-increasing-subsequence>#</a></h4><p><a href=https://leetcode-cn.com/problems/longest-increasing-subsequence/>题目链接</a></p><h5 id=思路-10>思路<a hidden class=anchor aria-hidden=true href=#思路-10>#</a></h5><ul><li>dp[i]: 长度为i的LIS的最后一个元素的最小值</li><li>eg:[0,3,1,6,2,2,7] for each x:<ul><li>0, dp = [0]</li><li>3, dp = [0, 3]</li><li>1, dp = [0, 1]</li><li>6, dp = [0, 1, 6]</li><li>2, dp = [0, 1, 2]</li><li>2, dp = [0, 1, 2]</li><li>7, dp = [0, 1, 2, 7]</li></ul></li><li>ans = len(dp)</li></ul><h5 id=代码-14>代码<a hidden class=anchor aria-hidden=true href=#代码-14>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>lengthOfLIS</span>(self, nums: List[int]) <span style=color:#f92672>-&gt;</span> int:
</span></span><span style=display:flex><span>        dp <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> x <span style=color:#f92672>in</span> nums:
</span></span><span style=display:flex><span>            i <span style=color:#f92672>=</span> bisect_left(dp, x)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> i <span style=color:#f92672>==</span> len(dp):
</span></span><span style=display:flex><span>                dp<span style=color:#f92672>.</span>append(x)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                dp[i] <span style=color:#f92672>=</span> x
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> len(dp)
</span></span></code></pre></div><h3 id=棋盘挑战-八皇后问题>棋盘挑战-八皇后问题<a hidden class=anchor aria-hidden=true href=#棋盘挑战-八皇后问题>#</a></h3><p><a href=https://www.acwing.com/problem/content/1434/>题目链接</a></p><h4 id=思路-11>思路<a hidden class=anchor aria-hidden=true href=#思路-11>#</a></h4><ul><li>如何判断某些位置能不能填：对角线用截距编号<ul><li>dg: y=x+b, b = y-x+n</li><li>udg: y=-x+b, b = y+x</li></ul></li></ul><h4 id=代码-15>代码<a hidden class=anchor aria-hidden=true href=#代码-15>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>15</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> path[N], col[N], dg[<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>N], udg[<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, ans;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (x <span style=color:#f92672>&gt;</span> n) {
</span></span><span style=display:flex><span>        ans<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (ans <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>3</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                cout <span style=color:#f92672>&lt;&lt;</span> path[i] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39; &#39;</span>;
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> y <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; y <span style=color:#f92672>&lt;=</span> n; y<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>col[y] <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span>dg[y<span style=color:#f92672>-</span>x<span style=color:#f92672>+</span>n] <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span>udg[y<span style=color:#f92672>+</span>x]) {
</span></span><span style=display:flex><span>            path[x] <span style=color:#f92672>=</span> y;
</span></span><span style=display:flex><span>            col[y] <span style=color:#f92672>=</span> dg[y<span style=color:#f92672>-</span>x<span style=color:#f92672>+</span>n] <span style=color:#f92672>=</span> udg[y<span style=color:#f92672>+</span>x] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>            dfs(x<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>            col[y] <span style=color:#f92672>=</span> dg[y<span style=color:#f92672>-</span>x<span style=color:#f92672>+</span>n] <span style=color:#f92672>=</span> udg[y<span style=color:#f92672>+</span>x] <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>            <span style=color:#75715e>// path[x] = 0;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    dfs(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=扩展题-解数独>扩展题-解数独<a hidden class=anchor aria-hidden=true href=#扩展题-解数独>#</a></h4><p><a href=https://leetcode-cn.com/problems/sudoku-solver/>题目链接</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> P;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>const</span> vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>char</span><span style=color:#f92672>&gt;&gt;&amp;</span> board, <span style=color:#66d9ef>int</span> r, <span style=color:#66d9ef>int</span> c, <span style=color:#66d9ef>char</span> n) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (board[r][i] <span style=color:#f92672>==</span> n <span style=color:#f92672>||</span> board[i][c] <span style=color:#f92672>==</span> n) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>        r <span style=color:#f92672>=</span> r <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>        c <span style=color:#f92672>=</span> c <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> r; i <span style=color:#f92672>&lt;</span> r <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> c; j <span style=color:#f92672>&lt;</span> c <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (board[i][j] <span style=color:#f92672>==</span> n) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>dfs</span>(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>char</span><span style=color:#f92672>&gt;&gt;&amp;</span> board, <span style=color:#66d9ef>int</span> idx) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (idx <span style=color:#f92672>==</span> (<span style=color:#66d9ef>int</span>)P.size()) <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> r <span style=color:#f92672>=</span> P[idx].first, c <span style=color:#f92672>=</span> P[idx].second;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (check(board, r, c, i<span style=color:#f92672>+</span><span style=color:#e6db74>&#39;0&#39;</span>)) {
</span></span><span style=display:flex><span>                board[r][c] <span style=color:#f92672>=</span> i<span style=color:#f92672>+</span><span style=color:#e6db74>&#39;0&#39;</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (dfs(board, idx<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)) <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>                board[r][c] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;.&#39;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>solveSudoku</span>(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>char</span><span style=color:#f92672>&gt;&gt;&amp;</span> board) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (board[i][j] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;.&#39;</span>)
</span></span><span style=display:flex><span>                    P.emplace_back(i, j);
</span></span><span style=display:flex><span>        dfs(board, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=货币系统-完全背包>货币系统-完全背包<a hidden class=anchor aria-hidden=true href=#货币系统-完全背包>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/1373/>题目链接</a></p><h4 id=思路-12>思路<a hidden class=anchor aria-hidden=true href=#思路-12>#</a></h4><h4 id=代码-16>代码<a hidden class=anchor aria-hidden=true href=#代码-16>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> ll <span style=color:#f92672>=</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>30</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>10005</span>;
</span></span><span style=display:flex><span>ll f[N][M];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> w[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> w[i];
</span></span><span style=display:flex><span>    f[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;=</span> m; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; k <span style=color:#f92672>*</span> w[i] <span style=color:#f92672>&lt;=</span> j; k<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                f[i][j] <span style=color:#f92672>+=</span> f[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>-</span>k<span style=color:#f92672>*</span>w[i]];
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[n][m] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=时间优化>时间优化<a hidden class=anchor aria-hidden=true href=#时间优化>#</a></h4><ol><li>$ f[i][j] = f[i-1][j]+f[i-1][j-w[i]]+f[i-1][j-2w[i]]+&mldr;+f[i-1][j-kw[i]] $</li><li>$ f[i][j-v] = f[i-1][j-w[i]]+f[i-1][j-2w[i]]+&mldr;+f[i-1][j-kw[i]] $</li><li>由1-2得：$ f[i][j] = f[i-1][j]+f[i][j-v] $</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> ll <span style=color:#f92672>=</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>30</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>10005</span>;
</span></span><span style=display:flex><span>ll f[N][M];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    f[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> v;
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> v;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;=</span> m; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            f[i][j] <span style=color:#f92672>=</span> f[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (j <span style=color:#f92672>&gt;=</span> v) f[i][j] <span style=color:#f92672>+=</span> f[i][j<span style=color:#f92672>-</span>v];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[n][m] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=空间优化>空间优化<a hidden class=anchor aria-hidden=true href=#空间优化>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> ll <span style=color:#f92672>=</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>30</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>10005</span>;
</span></span><span style=display:flex><span>ll f[M];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    f[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> v;
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> v;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> v; j <span style=color:#f92672>&lt;=</span> m; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            f[j] <span style=color:#f92672>+=</span> f[j<span style=color:#f92672>-</span>v];
</span></span><span style=display:flex><span>            <span style=color:#75715e>// f[i][j] = f[i-1][j] + f[i][j-v]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[m] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=阶乘>阶乘<a hidden class=anchor aria-hidden=true href=#阶乘>#</a></h3><p><a href=https://www.acwing.com/problem/content/1383/>题目链接</a></p><h4 id=思路-13>思路<a hidden class=anchor aria-hidden=true href=#思路-13>#</a></h4><ul><li>$ n! = 2^{\alpha}*5^{\beta}*x $</li><li>$ ans = \frac{n!}{10^k}\ mod\ 10=$</li></ul><p>我们进行观察，因为0只可能由2的倍数和5的倍数相乘得到，所以在进行乘法的过程中，我们将2和5的倍数给清理掉，这样就保证了不会出现0，然后我们控制其范围，每次相乘取其个位，因为个位肯定是非零元素，十位以后的数字完全没有必要保留下来，最后，我们将多处理的2或者5重新乘回去再取余即可</p><h4 id=代码-17>代码<a hidden class=anchor aria-hidden=true href=#代码-17>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> d2 <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, d5 <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> x <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (x <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) x <span style=color:#f92672>/=</span> <span style=color:#ae81ff>2</span>, d2<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (x <span style=color:#f92672>%</span> <span style=color:#ae81ff>5</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) x <span style=color:#f92672>/=</span> <span style=color:#ae81ff>5</span>, d5<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> ans <span style=color:#f92672>*</span> x <span style=color:#f92672>%</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> d2<span style=color:#f92672>-</span>d5; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> ans <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>%</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=week-4>Week 4<a hidden class=anchor aria-hidden=true href=#week-4>#</a></h2><h3 id=滑雪场设计-枚举>滑雪场设计-枚举<a hidden class=anchor aria-hidden=true href=#滑雪场设计-枚举>#</a></h3><h4 id=思路-14>思路<a hidden class=anchor aria-hidden=true href=#思路-14>#</a></h4><ul><li>最优解中，所有的高度都在$[0, 100]$之间</li><li>只需枚举所有可能的区间</li></ul><h4 id=代码-18>代码<a hidden class=anchor aria-hidden=true href=#代码-18>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;climits&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> a[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> INT_MAX;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; l <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>100</span><span style=color:#f92672>-</span><span style=color:#ae81ff>17</span>; l<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> r <span style=color:#f92672>=</span> l<span style=color:#f92672>+</span><span style=color:#ae81ff>17</span>, cost <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (a[i] <span style=color:#f92672>&lt;</span> l) cost <span style=color:#f92672>+=</span> (l<span style=color:#f92672>-</span>a[i])<span style=color:#f92672>*</span>(l<span style=color:#f92672>-</span>a[i]);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (a[i] <span style=color:#f92672>&gt;</span> r) cost <span style=color:#f92672>+=</span> (a[i]<span style=color:#f92672>-</span>r)<span style=color:#f92672>*</span>(a[i]<span style=color:#f92672>-</span>r);
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> min(ans, cost);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=整数集合划分-贪心>整数集合划分-贪心<a hidden class=anchor aria-hidden=true href=#整数集合划分-贪心>#</a></h3><p><a href=https://www.acwing.com/activity/content/problem/content/3449/1/>题目链接</a></p><h4 id=代码-19>代码<a hidden class=anchor aria-hidden=true href=#代码-19>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> a[<span style=color:#ae81ff>100005</span>], res;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span><span style=color:#75715e>#ifndef ONLINE_JUDGE
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	freopen(<span style=color:#e6db74>&#34;input.txt&#34;</span>, <span style=color:#e6db74>&#34;r&#34;</span>, stdin);
</span></span><span style=display:flex><span>	freopen(<span style=color:#e6db74>&#34;output.txt&#34;</span>, <span style=color:#e6db74>&#34;w&#34;</span>, stdout);
</span></span><span style=display:flex><span><span style=color:#75715e>#endif
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>	cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>		cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	sort(a, a <span style=color:#f92672>+</span> n);
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (i <span style=color:#f92672>&gt;=</span> n <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>) res <span style=color:#f92672>+=</span> a[i];
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>else</span> res <span style=color:#f92672>-=</span> a[i];
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	cout <span style=color:#f92672>&lt;&lt;</span> n <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39; &#39;</span> <span style=color:#f92672>&lt;&lt;</span> res;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=扩展题-双向搜索>扩展题-双向搜索<a hidden class=anchor aria-hidden=true href=#扩展题-双向搜索>#</a></h4><p><a href=https://www.acwing.com/problem/content/description/173/>题目链接</a></p><ul><li><p>思路</p><ul><li>先搜索前<code>N/2</code>个物品可以凑出来的所有重量，存到数组中去</li><li>对所有重量排序，判重</li><li>在搜索后一半物品可以凑出来的所有重量<code>y</code>，在前一半物品搜索出来的重量二分出一个<code>y</code>，使得<code>x+y&lt;=w</code>, <code>x+y</code>最大</li></ul></li><li><p>优化</p><ul><li>从大到小枚举所有重量，使得搜索到的和更快达到目标</li><li>均衡两次搜索时间</li></ul></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> ll <span style=color:#f92672>=</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>46</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, w, g[N], k, cnt, wgt[<span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> (<span style=color:#ae81ff>23</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>)];
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs_1</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> s) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> (x <span style=color:#f92672>==</span> k) {
</span></span><span style=display:flex><span>		wgt[cnt<span style=color:#f92672>++</span>] <span style=color:#f92672>=</span> s;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> (s <span style=color:#f92672>*</span> <span style=color:#ae81ff>1ll</span> <span style=color:#f92672>+</span> g[x] <span style=color:#f92672>&lt;=</span> w) dfs_1(x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, s <span style=color:#f92672>+</span> g[x]);
</span></span><span style=display:flex><span>	dfs_1(x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, s);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> ans;
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs_2</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> s) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> (x <span style=color:#f92672>==</span> n) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, r <span style=color:#f92672>=</span> cnt <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> (s <span style=color:#f92672>*</span> <span style=color:#ae81ff>1ll</span> <span style=color:#f92672>+</span> wgt[mid] <span style=color:#f92672>&lt;=</span> w) l <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>else</span> r <span style=color:#f92672>=</span> mid <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (s <span style=color:#f92672>*</span> <span style=color:#ae81ff>1ll</span> <span style=color:#f92672>+</span> wgt[l] <span style=color:#f92672>&lt;=</span> w) ans <span style=color:#f92672>=</span> max(ans, s <span style=color:#f92672>+</span> wgt[l]);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> (s <span style=color:#f92672>*</span> <span style=color:#ae81ff>1ll</span> <span style=color:#f92672>+</span> g[x] <span style=color:#f92672>&lt;=</span> w) dfs_2(x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, s <span style=color:#f92672>+</span> g[x]);
</span></span><span style=display:flex><span>	dfs_2(x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, s);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span><span style=color:#75715e>#ifndef ONLINE_JUDGE
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	freopen(<span style=color:#e6db74>&#34;input.txt&#34;</span>, <span style=color:#e6db74>&#34;r&#34;</span>, stdin);
</span></span><span style=display:flex><span>	freopen(<span style=color:#e6db74>&#34;output.txt&#34;</span>, <span style=color:#e6db74>&#34;w&#34;</span>, stdout);
</span></span><span style=display:flex><span><span style=color:#75715e>#endif
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>w, <span style=color:#f92672>&amp;</span>n);
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>g[i]);
</span></span><span style=display:flex><span>	sort(g, g <span style=color:#f92672>+</span> n, greater<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>());
</span></span><span style=display:flex><span>	k <span style=color:#f92672>=</span> n <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>	dfs_1(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>	sort(wgt, wgt <span style=color:#f92672>+</span> cnt);
</span></span><span style=display:flex><span>	cnt <span style=color:#f92672>=</span> unique(wgt, wgt <span style=color:#f92672>+</span> cnt) <span style=color:#f92672>-</span> wgt;
</span></span><span style=display:flex><span>	dfs_2(k, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>	cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=合唱队形-lis>合唱队形-LIS<a hidden class=anchor aria-hidden=true href=#合唱队形-lis>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/484/>题目链接</a></p><h4 id=思路-15>思路<a hidden class=anchor aria-hidden=true href=#思路-15>#</a></h4><ul><li><code>f[i]</code>: 从前往后，以<code>a[i]</code>结尾的最长上升子序列的长度</li><li><code>g[i]</code>: 从后往前，以<code>a[i]</code>结尾的最长上升子序列的长度</li><li>$ ans = n - max(f[i]+g[i]) + 1$</li></ul><h4 id=代码-20>代码<a hidden class=anchor aria-hidden=true href=#代码-20>#</a></h4><p>$ n^2 $</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>105</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, a[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[N], g[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        f[i] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;</span> i; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (a[i] <span style=color:#f92672>&gt;</span> a[j]) f[i] <span style=color:#f92672>=</span> max(f[i], f[j]<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        g[i] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> n; j <span style=color:#f92672>&gt;</span> i; j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (a[i] <span style=color:#f92672>&gt;</span> a[j]) g[i] <span style=color:#f92672>=</span> max(g[i], g[j]<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; k <span style=color:#f92672>&lt;=</span> n; k<span style=color:#f92672>++</span>) ans <span style=color:#f92672>=</span> max(ans, f[k] <span style=color:#f92672>+</span> g[k]);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> n <span style=color:#f92672>-</span> ans <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span></code></pre></div><p>$ nlogn $</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>105</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[N], g[N], a[N], n;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> len1[N], len2[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> lower_bound(f, f<span style=color:#f92672>+</span>cnt, a[i])<span style=color:#f92672>-</span>f;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (it <span style=color:#f92672>==</span> cnt) f[cnt<span style=color:#f92672>++</span>] <span style=color:#f92672>=</span> a[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> f[it] <span style=color:#f92672>=</span> a[i];
</span></span><span style=display:flex><span>        len1[i] <span style=color:#f92672>=</span> cnt;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> lower_bound(g, g<span style=color:#f92672>+</span>cnt, a[i])<span style=color:#f92672>-</span>g;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (it <span style=color:#f92672>==</span> cnt) g[cnt<span style=color:#f92672>++</span>] <span style=color:#f92672>=</span> a[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> g[it] <span style=color:#f92672>=</span> a[i];
</span></span><span style=display:flex><span>        len2[i] <span style=color:#f92672>=</span> cnt;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) ans <span style=color:#f92672>=</span> max(ans, len1[i]<span style=color:#f92672>+</span>len2[i]);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> n <span style=color:#f92672>-</span> ans <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=火星人-排列>火星人-排列<a hidden class=anchor aria-hidden=true href=#火星人-排列>#</a></h3><h4 id=思路-16>思路<a hidden class=anchor aria-hidden=true href=#思路-16>#</a></h4><p>实现next_permutation()</p><h4 id=代码-21>代码<a hidden class=anchor aria-hidden=true href=#代码-21>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>10005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, a[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (a[k<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>&gt;</span> a[k]) k<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>        k<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> k;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (t <span style=color:#f92672>&lt;</span> n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> a[t<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>&gt;</span> a[k]) t<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        swap(a[t], a[k]);
</span></span><span style=display:flex><span>        reverse(a<span style=color:#f92672>+</span>k<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, a<span style=color:#f92672>+</span>n);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cout <span style=color:#f92672>&lt;&lt;</span> a[i] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39; &#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=星空之夜-flood-fill>星空之夜-Flood-fill<a hidden class=anchor aria-hidden=true href=#星空之夜-flood-fill>#</a></h3><h4 id=思路-17>思路<a hidden class=anchor aria-hidden=true href=#思路-17>#</a></h4><ul><li>判断形状是否相似<ul><li>哈希：两两之间的距离之和</li></ul></li></ul><h4 id=代码-22>代码<a hidden class=anchor aria-hidden=true href=#代码-22>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cmath&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> P <span style=color:#f92672>=</span> pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>#define x first
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define y second
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>105</span>;
</span></span><span style=display:flex><span>P c[N<span style=color:#f92672>*</span>N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> cnt;
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> g[N][N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>inline</span> <span style=color:#66d9ef>double</span> <span style=color:#a6e22e>get_dist</span>(P a, P b) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> sqrt((a.x<span style=color:#f92672>-</span>b.x)<span style=color:#f92672>*</span>(a.x<span style=color:#f92672>-</span>b.x)<span style=color:#f92672>+</span>(a.y<span style=color:#f92672>-</span>b.y)<span style=color:#f92672>*</span>(a.y<span style=color:#f92672>-</span>b.y));
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> <span style=color:#a6e22e>get_hash</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> s <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> cnt; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;</span> cnt; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            s <span style=color:#f92672>+=</span> get_dist(c[i], c[j]);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> s;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> <span style=color:#a6e22e>get_id</span>(<span style=color:#66d9ef>double</span> d) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>double</span> hash[<span style=color:#ae81ff>30</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span> idx <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> idx; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (fabs(hash[i] <span style=color:#f92672>-</span> d) <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1e-8</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;a&#39;</span> <span style=color:#f92672>+</span> i;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    hash[idx<span style=color:#f92672>++</span>] <span style=color:#f92672>=</span> d;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;a&#39;</span> <span style=color:#f92672>+</span> idx <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> i, <span style=color:#66d9ef>int</span> j) {
</span></span><span style=display:flex><span>    g[i][j] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;0&#39;</span>;
</span></span><span style=display:flex><span>    c[cnt<span style=color:#f92672>++</span>] <span style=color:#f92672>=</span> {i, j};
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> x <span style=color:#f92672>=</span> i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; x <span style=color:#f92672>&lt;=</span> i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>; x<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> y <span style=color:#f92672>=</span> j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; y <span style=color:#f92672>&lt;=</span> j<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>; y<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (x <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> x <span style=color:#f92672>&gt;=</span> n <span style=color:#f92672>||</span> y <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> y <span style=color:#f92672>&gt;=</span> m <span style=color:#f92672>||</span> g[x][y] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;0&#39;</span>) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>            dfs(x, y);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> m <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> g[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> m; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (g[i][j] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;1&#39;</span>) {
</span></span><span style=display:flex><span>                cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>                dfs(i, j);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>auto</span> d <span style=color:#f92672>=</span> get_hash();
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>auto</span> id <span style=color:#f92672>=</span> get_id(d);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; k <span style=color:#f92672>&lt;</span> cnt; k<span style=color:#f92672>++</span>) g[c[k].x][c[k].y] <span style=color:#f92672>=</span> id;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cout <span style=color:#f92672>&lt;&lt;</span> g[i] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=摘花生-dp>摘花生-DP<a hidden class=anchor aria-hidden=true href=#摘花生-dp>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/1017/>题目链接</a></p><h4 id=思路-18>思路<a hidden class=anchor aria-hidden=true href=#思路-18>#</a></h4><ol><li>状态表示<ul><li>集合：定义f[i][j]为从(1, 1)到达(i, j)的所有方案</li><li>属性：最大值</li></ul></li><li>状态转移<ul><li>(i, j)从(i-1, j)即上方过来</li><li>(i, j)从(i, j-1)即左方过来</li></ul></li><li>空间压缩<ul><li>f[i][j]只需要用到这一层和上一层的f元素，所以可以压缩成滚动数组。在此之上，还可以直接压缩成一维数组。</li></ul></li></ol><h4 id=代码-23>代码<a hidden class=anchor aria-hidden=true href=#代码-23>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>105</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, t;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> T;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> T;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (T<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> m; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                cin <span style=color:#f92672>&gt;&gt;</span> t;
</span></span><span style=display:flex><span>                f[j] <span style=color:#f92672>=</span> max(f[j], f[j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]) <span style=color:#f92672>+</span> t;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> f[m] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        memset(f, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span> f);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=最大的和-最大子矩形>最大的和-最大子矩形<a hidden class=anchor aria-hidden=true href=#最大的和-最大子矩形>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/128/>题目链接</a></p><h4 id=思路-19>思路<a hidden class=anchor aria-hidden=true href=#思路-19>#</a></h4><ul><li>前缀和数组<code>A[i][j]</code>表示 $ \sum_{i=1}^{n}{a[i][j]} $</li><li>枚举矩形上下边界</li><li>求最大连续子序列和</li></ul><h4 id=代码-24>代码<a hidden class=anchor aria-hidden=true href=#代码-24>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>M</span> [<span style=color:#ae81ff>201</span>][<span style=color:#ae81ff>201</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scanf</span>(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scanf</span>(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>])
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] <span style=color:#f92672>+=</span> <span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span>]
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> int(<span style=color:#f92672>-</span><span style=color:#ae81ff>1e9</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>i</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>s</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>k</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>s</span> = <span style=color:#a6e22e>max</span>(<span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>s</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>j</span>][<span style=color:#a6e22e>k</span>] <span style=color:#f92672>-</span> <span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>k</span>]
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>ans</span> = <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>ans</span>, <span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>ans</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=最大的和-线性dp>最大的和-线性DP<a hidden class=anchor aria-hidden=true href=#最大的和-线性dp>#</a></h3><p><a href=https://www.acwing.com/problem/content/1053/>题目链接</a></p><h4 id=代码-25>代码<a hidden class=anchor aria-hidden=true href=#代码-25>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;climits&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>50005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, a[N], f[N], g[N]; <span style=color:#75715e>// f[i]: 1~i最大连续子段和，g[i]:n~i最大连续子段和
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> T;
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>T);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (T<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>n);
</span></span><span style=display:flex><span>        fill(f, f<span style=color:#f92672>+</span>n<span style=color:#f92672>+</span><span style=color:#ae81ff>2</span>, INT_MIN);
</span></span><span style=display:flex><span>        fill(g, g<span style=color:#f92672>+</span>n<span style=color:#f92672>+</span><span style=color:#ae81ff>2</span>, INT_MIN);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>a[i]);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> s <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            s <span style=color:#f92672>=</span> max(s, <span style=color:#ae81ff>0</span>) <span style=color:#f92672>+</span> a[i];
</span></span><span style=display:flex><span>            f[i] <span style=color:#f92672>=</span> max(f[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>], s);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        s <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>            s <span style=color:#f92672>=</span> max(s, <span style=color:#ae81ff>0</span>) <span style=color:#f92672>+</span> a[i];
</span></span><span style=display:flex><span>            g[i] <span style=color:#f92672>=</span> max(g[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>], s);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> INT_MIN;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            ans <span style=color:#f92672>=</span> max(ans, f[i] <span style=color:#f92672>+</span> g[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=最大异或对-trie>最大异或对-trie<a hidden class=anchor aria-hidden=true href=#最大异或对-trie>#</a></h3><p><a href=https://www.acwing.com/problem/content/submission/145/>题目链接</a></p><h4 id=代码-26>代码<a hidden class=anchor aria-hidden=true href=#代码-26>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>3e6</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> a[N], son[M][<span style=color:#ae81ff>2</span>], idx, n;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>insert</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> p <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>30</span>; <span style=color:#f92672>~</span>i; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> x <span style=color:#f92672>&gt;&gt;</span> i <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>son[p][t]) son[p][t] <span style=color:#f92672>=</span> <span style=color:#f92672>++</span>idx;
</span></span><span style=display:flex><span>        p <span style=color:#f92672>=</span> son[p][t];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>query</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> p <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, res <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>30</span>; <span style=color:#f92672>~</span>i; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> x <span style=color:#f92672>&gt;&gt;</span> i <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (son[p][<span style=color:#f92672>!</span>t]) {
</span></span><span style=display:flex><span>            res <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> i;
</span></span><span style=display:flex><span>            p <span style=color:#f92672>=</span> son[p][<span style=color:#f92672>!</span>t];
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            p <span style=color:#f92672>=</span> son[p][t];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> res;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>        insert(a[i]);
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> max(ans, query(a[i]));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=牛亦或-trie前缀和>牛亦或-trie+前缀和<a hidden class=anchor aria-hidden=true href=#牛亦或-trie前缀和>#</a></h4><p><a href=https://www.acwing.com/problem/content/description/1416/>题目链接</a></p><h4 id=代码-27>代码<a hidden class=anchor aria-hidden=true href=#代码-27>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>2e6</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> son[M][<span style=color:#ae81ff>2</span>], a[N], id[M], idx, n;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>insert</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> k) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> p <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>20</span>; <span style=color:#f92672>~</span>i; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> x <span style=color:#f92672>&gt;&gt;</span> i <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>son[p][t]) son[p][t] <span style=color:#f92672>=</span> <span style=color:#f92672>++</span>idx;
</span></span><span style=display:flex><span>        p <span style=color:#f92672>=</span> son[p][t];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    id[p] <span style=color:#f92672>=</span> k;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>query</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> p <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>20</span>; <span style=color:#f92672>~</span>i; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> x <span style=color:#f92672>&gt;&gt;</span> i <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (son[p][<span style=color:#f92672>!</span>t]) {
</span></span><span style=display:flex><span>            p <span style=color:#f92672>=</span> son[p][<span style=color:#f92672>!</span>t];
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            p <span style=color:#f92672>=</span> son[p][t];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> id[p];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>        a[i] <span style=color:#f92672>^=</span> a[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    insert(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, l, r;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> query(a[i]);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> s <span style=color:#f92672>=</span> a[i] <span style=color:#f92672>^</span> a[k];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (s <span style=color:#f92672>&gt;</span> ans) {
</span></span><span style=display:flex><span>            ans <span style=color:#f92672>=</span> s;
</span></span><span style=display:flex><span>            l <span style=color:#f92672>=</span> k <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, r <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        insert(a[i], i);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> l <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39; &#39;</span> <span style=color:#f92672>&lt;&lt;</span> r <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=week-5>Week 5<a hidden class=anchor aria-hidden=true href=#week-5>#</a></h2><h3 id=开心的金明-01背包>开心的金明-01背包<a hidden class=anchor aria-hidden=true href=#开心的金明-01背包>#</a></h3><p><a href=https://www.acwing.com/problem/content/428/>题目链接</a></p><h4 id=代码-28>代码<a hidden class=anchor aria-hidden=true href=#代码-28>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[<span style=color:#ae81ff>30005</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> v, w;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> v <span style=color:#f92672>&gt;&gt;</span> w;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> n; j <span style=color:#f92672>&gt;=</span> v; j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>            f[j] <span style=color:#f92672>=</span> max(f[j], f[j<span style=color:#f92672>-</span>v]<span style=color:#f92672>+</span>w<span style=color:#f92672>*</span>v);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[n] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=k倍区间-前缀和>K倍区间-前缀和<a hidden class=anchor aria-hidden=true href=#k倍区间-前缀和>#</a></h3><p><a href=https://www.acwing.com/problem/content/1232/>题目链接</a></p><h4 id=思路-20>思路<a hidden class=anchor aria-hidden=true href=#思路-20>#</a></h4><p>求区间和，可以通过前缀和来求出。<code>sum[r]−sum[l−1]</code>就是区间<code>[l,r]</code>的和。如果区间<code>[l,r]</code>的和是k的倍数则有<code>(sum[r]−sum[l−1])</code>，即<code>sum[r]</code>。因此，我们可以得到一个结论，对前缀和取模之后，两个相等的前缀和就能组成一个k倍区间。</p><p>有了这个结论之后，我们就可以使用两层for循环来计数k倍区间的个数，但是由于数据比较大，我们不能这样做。那么我们能不能在计算前缀和的过程中同时来统计k倍区间的个数呢？当然可以。我们可以用一个数组cnt，规定<code>cnt[i]</code>表示当前位置之前，前缀和取模后等于i的个数，以后每出现一次前缀和（取模后）和它相等，那么k倍区间就加上<code>cnt[sum[i]]</code>，然后<code>cnt[sum[i]]++</code>。这样似乎不容易理解，我们用样例举个例子。</p><p>对于数列 1 2 3 4 5，k = 2</p><p>对前1个数的和模k后为1，在此之前有0个前缀和取模后为1，总个数+0</p><p>对前2个数的和模k后为1，在此之前有1个前缀和取模后为1，总个数+1</p><p>对前3个数的和模k后为0，在此之前有0个前缀和取模后为0, 总个数+0</p><p>对前4个数的和模k后为0，在此之前有1个前缀和取模后为0，总个数+1</p><p>对前5个数的和模k后为1，在此之前有2个前缀和取模后为1，总个数+2</p><p>但是我们还忽略了一点，就是我们这样做我们少计算了区间·<code>[0,i]</code>构成的k倍区间，其个数为<code>cnt[0]</code>。</p><h4 id=代码-29>代码<a hidden class=anchor aria-hidden=true href=#代码-29>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> a[N], n, k, cnt[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> k;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>long</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>        a[i] <span style=color:#f92672>=</span> (a[i] <span style=color:#f92672>+</span> a[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]) <span style=color:#f92672>%</span> k;
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>+=</span> cnt[a[i]];
</span></span><span style=display:flex><span>        cnt[a[i]]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>+</span> cnt[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=数独检查-模拟>数独检查-模拟<a hidden class=anchor aria-hidden=true href=#数独检查-模拟>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/705/>题目链接</a></p><h4 id=代码-30>代码<a hidden class=anchor aria-hidden=true href=#代码-30>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>7</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> g[N<span style=color:#f92672>*</span>N][N<span style=color:#f92672>*</span>N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> st[N<span style=color:#f92672>*</span>N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check_row</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        memset(st, false, <span style=color:#66d9ef>sizeof</span> st);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> m; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> g[i][j];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (t <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>||</span> t <span style=color:#f92672>&gt;</span> m) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (st[t]) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>            st[t] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check_col</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        memset(st, false, <span style=color:#66d9ef>sizeof</span> st);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> m; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> g[j][i];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (t <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>||</span> t <span style=color:#f92672>&gt;</span> m) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (st[t]) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>            st[t] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check_cell</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i <span style=color:#f92672>+=</span> n)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> m; j <span style=color:#f92672>+=</span> n) {
</span></span><span style=display:flex><span>            memset(st, false, <span style=color:#66d9ef>sizeof</span> st);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> dx <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; dx <span style=color:#f92672>&lt;</span> n; dx<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> dy <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; dy <span style=color:#f92672>&lt;</span> n; dy<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> g[i<span style=color:#f92672>+</span>dx][j<span style=color:#f92672>+</span>dy];
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> (t <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>||</span> t <span style=color:#f92672>&gt;</span> m) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> (st[t]) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>                    st[t] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> T;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> T;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; t <span style=color:#f92672>&lt;=</span> T; t<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>        m <span style=color:#f92672>=</span> n <span style=color:#f92672>*</span> n;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> m; j<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> g[i][j];
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        printf(check_row() <span style=color:#f92672>&amp;&amp;</span> check_col() <span style=color:#f92672>&amp;&amp;</span> check_cell() <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;Case #%d: Yes</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Case #%d: No</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, t);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=最长公共子序列-lcs>最长公共子序列-LCS<a hidden class=anchor aria-hidden=true href=#最长公共子序列-lcs>#</a></h3><p><a href=https://www.acwing.com/problem/content/899/>题目链接</a></p><h4 id=思路-21>思路<a hidden class=anchor aria-hidden=true href=#思路-21>#</a></h4><h4 id=代码-31>代码<a hidden class=anchor aria-hidden=true href=#代码-31>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, f[N][N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> a[N], b[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m <span style=color:#f92672>&gt;&gt;</span> a <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&gt;&gt;</span> b <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> m; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (a[i] <span style=color:#f92672>==</span> b[j]) f[i][j] <span style=color:#f92672>=</span> f[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> f[i][j] <span style=color:#f92672>=</span> max(f[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j], f[i][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[n][m];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=数独简单版-数独>数独简单版-数独<a hidden class=anchor aria-hidden=true href=#数独简单版-数独>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> g[<span style=color:#ae81ff>10</span>][<span style=color:#ae81ff>10</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> row[<span style=color:#ae81ff>10</span>][<span style=color:#ae81ff>10</span>], col[<span style=color:#ae81ff>10</span>][<span style=color:#ae81ff>10</span>], cell[<span style=color:#ae81ff>3</span>][<span style=color:#ae81ff>3</span>][<span style=color:#ae81ff>10</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (y <span style=color:#f92672>==</span> <span style=color:#ae81ff>9</span>) {
</span></span><span style=display:flex><span>        x<span style=color:#f92672>++</span>, y <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (x <span style=color:#f92672>==</span> <span style=color:#ae81ff>9</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>) cout <span style=color:#f92672>&lt;&lt;</span> g[i] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (g[x][y] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;.&#39;</span>) <span style=color:#66d9ef>return</span> dfs(x, y<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>row[x][i] <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span>col[y][i] <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span>cell[x<span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>][y<span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>][i]) {
</span></span><span style=display:flex><span>            g[x][y] <span style=color:#f92672>=</span> i <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;0&#39;</span>;
</span></span><span style=display:flex><span>            row[x][i] <span style=color:#f92672>=</span> col[y][i] <span style=color:#f92672>=</span> cell[x<span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>][y<span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>][i] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (dfs(x, y<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)) <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>            row[x][i] <span style=color:#f92672>=</span> col[y][i] <span style=color:#f92672>=</span> cell[x<span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>][y<span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>][i] <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>            g[x][y] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;.&#39;</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> g[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (g[i][j] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;.&#39;</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> g[i][j] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>;
</span></span><span style=display:flex><span>                row[i][t] <span style=color:#f92672>=</span> col[j][t] <span style=color:#f92672>=</span> cell[i<span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>][j<span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>][t] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    dfs(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=献给阿尔吉侬的花束-bfs>献给阿尔吉侬的花束-BFS<a hidden class=anchor aria-hidden=true href=#献给阿尔吉侬的花束-bfs>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/1103/>题目链接</a></p><h4 id=代码-32>代码<a hidden class=anchor aria-hidden=true href=#代码-32>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>205</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> dx[]{<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>}, dy[]{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> g[N][N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> dist[N][N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> r, c;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>bfs</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y) {
</span></span><span style=display:flex><span>    memset(dist, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span> dist);
</span></span><span style=display:flex><span>    queue<span style=color:#f92672>&lt;</span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> Q;
</span></span><span style=display:flex><span>    Q.push({x, y});
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>Q.empty()) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> [tx, ty] <span style=color:#f92672>=</span> Q.front();
</span></span><span style=display:flex><span>        Q.pop();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (g[tx][ty] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;E&#39;</span>) {
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> dist[tx][ty] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> nx <span style=color:#f92672>=</span> tx <span style=color:#f92672>+</span> dx[i], ny <span style=color:#f92672>=</span> ty <span style=color:#f92672>+</span> dy[i];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (nx <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> nx <span style=color:#f92672>&gt;=</span> r <span style=color:#f92672>||</span> ny <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> ny <span style=color:#f92672>&gt;=</span> c <span style=color:#f92672>||</span>  g[nx][ny] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;#&#39;</span>) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>            Q.push({nx, ny});
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (g[nx][ny] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;E&#39;</span>)
</span></span><span style=display:flex><span>                g[nx][ny] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;#&#39;</span>;
</span></span><span style=display:flex><span>            dist[nx][ny] <span style=color:#f92672>=</span> dist[tx][ty] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;oop!&#34;</span> <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> T;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> T;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (T<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> r <span style=color:#f92672>&gt;&gt;</span> c;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> r; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> g[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>bool</span> is_break <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> r; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> c; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (g[i][j] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;S&#39;</span>) {
</span></span><span style=display:flex><span>                    bfs(i, j);
</span></span><span style=display:flex><span>                    is_break <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (is_break) <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=ab-位运算>a^b-位运算<a hidden class=anchor aria-hidden=true href=#ab-位运算>#</a></h3><p><a href=https://www.acwing.com/problem/content/91/>题目链接</a></p><h4 id=代码-33>代码<a hidden class=anchor aria-hidden=true href=#代码-33>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> ll <span style=color:#f92672>=</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    ll a, b, p;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> a <span style=color:#f92672>&gt;&gt;</span> b <span style=color:#f92672>&gt;&gt;</span> p;
</span></span><span style=display:flex><span>    ll res <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (b) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (b <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>) res <span style=color:#f92672>=</span> res <span style=color:#f92672>*</span> a <span style=color:#f92672>%</span> p;
</span></span><span style=display:flex><span>        a <span style=color:#f92672>=</span> a <span style=color:#f92672>*</span> a <span style=color:#f92672>%</span> p;
</span></span><span style=display:flex><span>        b <span style=color:#f92672>&gt;&gt;=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> res <span style=color:#f92672>%</span> p <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=耍杂技的牛-贪心>耍杂技的牛-贪心<a hidden class=anchor aria-hidden=true href=#耍杂技的牛-贪心>#</a></h3><p><a href=https://www.acwing.com/problem/content/127/>题目链接</a></p><h4 id=代码-34>代码<a hidden class=anchor aria-hidden=true href=#代码-34>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;climits&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>50005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> a[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> w, s;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> w <span style=color:#f92672>&gt;&gt;</span> s;
</span></span><span style=display:flex><span>        a[i] <span style=color:#f92672>=</span> {w<span style=color:#f92672>+</span>s, w};
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    sort(a, a<span style=color:#f92672>+</span>n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> INT_MIN, sum_w <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        w <span style=color:#f92672>=</span> a[i].second, s <span style=color:#f92672>=</span> a[i].first <span style=color:#f92672>-</span> w;
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> max(ans, sum_w <span style=color:#f92672>-</span> s);
</span></span><span style=display:flex><span>        sum_w <span style=color:#f92672>+=</span> w;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=数列-二进制>数列-二进制<a hidden class=anchor aria-hidden=true href=#数列-二进制>#</a></h3><p><a href=https://www.acwing.com/problem/content/430/>题目链接</a></p><h4 id=思路-22>思路<a hidden class=anchor aria-hidden=true href=#思路-22>#</a></h4><p>使用n的二进制表示</p><h4 id=代码-35>代码<a hidden class=anchor aria-hidden=true href=#代码-35>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>pow</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (b) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (b <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>) res <span style=color:#f92672>*=</span> a;
</span></span><span style=display:flex><span>        a <span style=color:#f92672>*=</span> a;
</span></span><span style=display:flex><span>        b <span style=color:#f92672>&gt;&gt;=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> res;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> k, n;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> k <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (n <span style=color:#f92672>&gt;&gt;</span> i <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>) ans <span style=color:#f92672>+=</span> pow(k, i);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=借教室-二分差分>借教室-二分&差分<a hidden class=anchor aria-hidden=true href=#借教室-二分差分>#</a></h3><p><a href=https://www.acwing.com/problem/content/505/>题目链接</a></p><h4 id=代码-36>代码<a hidden class=anchor aria-hidden=true href=#代码-36>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> ll <span style=color:#f92672>=</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e6</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> r[N], d[N], s[N], t[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span>ll b[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>int</span> mid) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) b[i] <span style=color:#f92672>=</span> r[i] <span style=color:#f92672>-</span> r[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> mid; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        b[s[i]] <span style=color:#f92672>-=</span> d[i];
</span></span><span style=display:flex><span>        b[t[i]<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>+=</span> d[i];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        b[i] <span style=color:#f92672>+=</span> b[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (b[i] <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> r[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> m; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> d[i] <span style=color:#f92672>&gt;&gt;</span> s[i] <span style=color:#f92672>&gt;&gt;</span> t[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, r <span style=color:#f92672>=</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid)) l <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> r <span style=color:#f92672>=</span> mid <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (l <span style=color:#f92672>==</span> m) puts(<span style=color:#e6db74>&#34;0&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> printf(<span style=color:#e6db74>&#34;-1</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>%d&#34;</span>, l <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=关押罪犯-二分染色法判断二分图>关押罪犯-二分&染色法判断二分图<a hidden class=anchor aria-hidden=true href=#关押罪犯-二分染色法判断二分图>#</a></h3><p><a href=https://www.acwing.com/problem/content/259/>题目链接</a></p><h4 id=思路-23>思路<a hidden class=anchor aria-hidden=true href=#思路-23>#</a></h4><ul><li>二分答案，判断能否以当前答案大的点构成二分图</li><li>使用染色判断能否构成二分图</li></ul><h4 id=代码-37>代码<a hidden class=anchor aria-hidden=true href=#代码-37>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>20005</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>200005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], ne[M], e[M], w[M], idx;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> color[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b, <span style=color:#66d9ef>int</span> c) {
</span></span><span style=display:flex><span>    e[idx] <span style=color:#f92672>=</span> b, w[idx] <span style=color:#f92672>=</span> c, ne[idx] <span style=color:#f92672>=</span> h[a], h[a] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> c, <span style=color:#66d9ef>int</span> mid) {
</span></span><span style=display:flex><span>    color[u] <span style=color:#f92672>=</span> c;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[u]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (w[i] <span style=color:#f92672>&lt;=</span> mid) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (color[v]) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (color[v] <span style=color:#f92672>==</span> c)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>dfs(v, <span style=color:#ae81ff>3</span><span style=color:#f92672>-</span>c, mid)) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>int</span> mid) {
</span></span><span style=display:flex><span>    memset(color, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span> color);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>color[i])
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>dfs(i, <span style=color:#ae81ff>1</span>, mid)) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b, c;
</span></span><span style=display:flex><span>    memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>a, <span style=color:#f92672>&amp;</span>b, <span style=color:#f92672>&amp;</span>c);
</span></span><span style=display:flex><span>        add(a, b, c);
</span></span><span style=display:flex><span>        add(b, a, c);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, r <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e9</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid)) r <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> l <span style=color:#f92672>=</span> mid <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%d&#34;</span>, l);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=week-6>Week 6<a hidden class=anchor aria-hidden=true href=#week-6>#</a></h2><h3 id=乌龟棋-线性dp>乌龟棋-线性DP<a hidden class=anchor aria-hidden=true href=#乌龟棋-线性dp>#</a></h3><p><a href=https://www.acwing.com/problem/content/314/>题目链接</a></p><h4 id=思路-24>思路<a hidden class=anchor aria-hidden=true href=#思路-24>#</a></h4><ul><li><p>状态表示：<code>f[b1,b2,b3,b4]</code> 表示所有第 i 种卡片使用了 bi 张的走法的最大分值。</p></li><li><p>状态计算：将 <code>f[b1,b2,b3,b4]</code> 表示的所有走法按最后一步选择哪张卡片分成四类：第 i 类为最后一步选择第 i 种卡片。比如 i=2，则这一类的最大分值是 <code>f[b1,b2−1,b3,b4]+score[b1+2b2+3b3+4b4]</code>。</p></li></ul><h4 id=代码-38>代码<a hidden class=anchor aria-hidden=true href=#代码-38>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>45</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[N][N][N][N], b[<span style=color:#ae81ff>4</span>], w[<span style=color:#ae81ff>355</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n<span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> w[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> t;
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> t;
</span></span><span style=display:flex><span>        b[t<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> A <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; A <span style=color:#f92672>&lt;=</span> b[<span style=color:#ae81ff>0</span>]; A<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> B <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; B <span style=color:#f92672>&lt;=</span> b[<span style=color:#ae81ff>1</span>]; B<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> C <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; C <span style=color:#f92672>&lt;=</span> b[<span style=color:#ae81ff>2</span>]; C<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> D <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; D <span style=color:#f92672>&lt;=</span> b[<span style=color:#ae81ff>3</span>]; D<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>int</span> score <span style=color:#f92672>=</span> w[A <span style=color:#f92672>*</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> B <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> C <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>+</span> D <span style=color:#f92672>*</span> <span style=color:#ae81ff>4</span>];
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>int</span> <span style=color:#f92672>&amp;</span>v <span style=color:#f92672>=</span> f[A][B][C][D];
</span></span><span style=display:flex><span>                    v <span style=color:#f92672>=</span> score;
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> (A) v <span style=color:#f92672>=</span> max(v, f[A<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][B][C][D] <span style=color:#f92672>+</span> score);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> (B) v <span style=color:#f92672>=</span> max(v, f[A][B<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][C][D] <span style=color:#f92672>+</span> score);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> (C) v <span style=color:#f92672>=</span> max(v, f[A][B][C<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][D] <span style=color:#f92672>+</span> score);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> (D) v <span style=color:#f92672>=</span> max(v, f[A][B][C][D<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> score);
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[b[<span style=color:#ae81ff>0</span>]][b[<span style=color:#ae81ff>1</span>]][b[<span style=color:#ae81ff>2</span>]][b[<span style=color:#ae81ff>3</span>]];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=比例简化-枚举>比例简化-枚举<a hidden class=anchor aria-hidden=true href=#比例简化-枚举>#</a></h3><p><a href=https://www.acwing.com/problem/content/460/>题目链接</a></p><h4 id=代码-39>代码<a hidden class=anchor aria-hidden=true href=#代码-39>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>gcd</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> b <span style=color:#f92672>?</span> gcd(b, a <span style=color:#f92672>%</span> b) <span style=color:#f92672>:</span> a;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> A, B, L;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> A <span style=color:#f92672>&gt;&gt;</span> B <span style=color:#f92672>&gt;&gt;</span> L;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> t <span style=color:#f92672>=</span> A <span style=color:#f92672>*</span> <span style=color:#ae81ff>1.0</span> <span style=color:#f92672>/</span> B;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> delta <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e9</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> L; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> L; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (gcd(i, j) <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>double</span> x <span style=color:#f92672>=</span> i <span style=color:#f92672>*</span> <span style=color:#ae81ff>1.0</span> <span style=color:#f92672>/</span> j;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (x <span style=color:#f92672>&gt;=</span> t <span style=color:#f92672>&amp;&amp;</span> x <span style=color:#f92672>-</span> t <span style=color:#f92672>&lt;</span> delta) {
</span></span><span style=display:flex><span>                    delta <span style=color:#f92672>=</span> x <span style=color:#f92672>-</span> t;
</span></span><span style=display:flex><span>                    a <span style=color:#f92672>=</span> i, b <span style=color:#f92672>=</span> j;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> a <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=计算系数>计算系数<a hidden class=anchor aria-hidden=true href=#计算系数>#</a></h3><p><a href=https://www.acwing.com/problem/content/213/>题目链接</a></p><h4 id=思路-25>思路<a hidden class=anchor aria-hidden=true href=#思路-25>#</a></h4><ul><li>二项式定理：$ ans = C_k^n x^n y^m $</li><li>Pascal公式：$ C_n^k = C_{n-1}^{k} + C_{n-1}^{k-1} $</li></ul><h4 id=代码-40>代码<a hidden class=anchor aria-hidden=true href=#代码-40>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mod <span style=color:#f92672>=</span> <span style=color:#ae81ff>10007</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> C[N][N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>pow</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    a <span style=color:#f92672>%=</span> mod;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (b) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (b <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>) res <span style=color:#f92672>=</span> res <span style=color:#f92672>*</span> a <span style=color:#f92672>%</span> mod;
</span></span><span style=display:flex><span>        a <span style=color:#f92672>=</span> a <span style=color:#f92672>*</span> a <span style=color:#f92672>%</span> mod;
</span></span><span style=display:flex><span>        b <span style=color:#f92672>&gt;&gt;=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> res <span style=color:#f92672>%</span> mod;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b, k, n, m;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> a <span style=color:#f92672>&gt;&gt;</span> b <span style=color:#f92672>&gt;&gt;</span> k <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;=</span> k; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;=</span> i; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>j) C[i][j] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> C[i][j] <span style=color:#f92672>=</span> (C[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j] <span style=color:#f92672>+</span> C[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]) <span style=color:#f92672>%</span> mod;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> C[k][n] <span style=color:#f92672>*</span> pow(a, n) <span style=color:#f92672>%</span> mod <span style=color:#f92672>*</span> pow(b, m) <span style=color:#f92672>%</span> mod;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=合并果子>合并果子<a hidden class=anchor aria-hidden=true href=#合并果子>#</a></h3><h4 id=代码-41>代码<a hidden class=anchor aria-hidden=true href=#代码-41>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>priority_queue<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>, greater<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> Q;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> x;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (n<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> x;
</span></span><span style=display:flex><span>        Q.push(move(x));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (Q.size() <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> a <span style=color:#f92672>=</span> Q.top();
</span></span><span style=display:flex><span>        Q.pop();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> b <span style=color:#f92672>=</span> Q.top();
</span></span><span style=display:flex><span>        Q.pop();
</span></span><span style=display:flex><span>        Q.push(a <span style=color:#f92672>+</span> b);
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>+=</span> a <span style=color:#f92672>+</span> b;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=积木大赛-贪心差分>积木大赛-贪心&差分<a hidden class=anchor aria-hidden=true href=#积木大赛-贪心差分>#</a></h3><p><a href=https://www.acwing.com/problem/content/509/>题目链接</a></p><h4 id=思路-26>思路<a hidden class=anchor aria-hidden=true href=#思路-26>#</a></h4><p>从后往前操作，如果当前的 <code>bi>0</code>，则将其减1，并将其后的某个负数加1。</p><h4 id=代码-42>代码<a hidden class=anchor aria-hidden=true href=#代码-42>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>100005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, h[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> h[i];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; i<span style=color:#f92672>--</span>) res <span style=color:#f92672>+=</span> max(<span style=color:#ae81ff>0</span>, h[i]<span style=color:#f92672>-</span>h[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> res <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=leetcode-1755-最接近目标值的子序列和>LeetCode-1755 最接近目标值的子序列和<a hidden class=anchor aria-hidden=true href=#leetcode-1755-最接近目标值的子序列和>#</a></h3><p><a href=https://leetcode-cn.com/problems/closest-subsequence-sum/>题目链接</a></p><h4 id=思路-27>思路<a hidden class=anchor aria-hidden=true href=#思路-27>#</a></h4><ul><li>generate sums for all subset: DP<ul><li>$ sum_i = sum_{i-1} \cup (sum_{i-1}+ nums[i]) $</li></ul></li><li>将sum of subset分成两部分，遍历前一部分二分后一部分，并且排序</li><li>去重优化</li></ul><h4 id=代码-43>代码<a hidden class=anchor aria-hidden=true href=#代码-43>#</a></h4><p><a href=https://zxi.mytechroad.com/blog/algorithms/binary-search/leetcode-1755-closest-subsequence-sum/>参考链接</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> minAbsDifference(vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&amp;</span> nums, <span style=color:#66d9ef>int</span> goal) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> nums.size();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> abs(goal);
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> t1{<span style=color:#ae81ff>0</span>}, t2{<span style=color:#ae81ff>0</span>};
</span></span><span style=display:flex><span>        t1.reserve(<span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> (n <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)), t2.reserve(<span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> (n <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> t1.size() <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>                t1.push_back(nums[i] <span style=color:#f92672>+</span> t1[j]);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> t2.size() <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>                t2.push_back(nums[i] <span style=color:#f92672>+</span> t2[j]);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> unique(begin(t1), end(t1));
</span></span><span style=display:flex><span>        t1.resize(distance(begin(t1), it));
</span></span><span style=display:flex><span>        sort(begin(t1), end(t1), greater<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>());
</span></span><span style=display:flex><span>        it <span style=color:#f92672>=</span> unique(begin(t2), end(t2));
</span></span><span style=display:flex><span>        t2.resize(distance(begin(t2), it));
</span></span><span style=display:flex><span>        sort(begin(t2), end(t2));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;</span>e : t1) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> lower_bound(begin(t2), end(t2), goal <span style=color:#f92672>-</span> e);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (it <span style=color:#f92672>!=</span> t2.end()) ans <span style=color:#f92672>=</span> min(ans, abs(goal <span style=color:#f92672>-</span> e <span style=color:#f92672>-</span> <span style=color:#f92672>*</span>it));
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (it <span style=color:#f92672>!=</span> t2.begin()) ans <span style=color:#f92672>=</span> min(ans, abs(goal <span style=color:#f92672>-</span> e <span style=color:#f92672>-</span> <span style=color:#f92672>*</span>(<span style=color:#f92672>--</span>it)));
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h2 id=week-7>Week 7<a hidden class=anchor aria-hidden=true href=#week-7>#</a></h2><h3 id=机器人跳跃问题-二分>机器人跳跃问题-二分<a hidden class=anchor aria-hidden=true href=#机器人跳跃问题-二分>#</a></h3><h4 id=思路-28>思路<a hidden class=anchor aria-hidden=true href=#思路-28>#</a></h4><p>注意mid大于等于1e5时，一定可以完成游戏</p><h4 id=代码-44>代码<a hidden class=anchor aria-hidden=true href=#代码-44>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], n;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>long</span> mid) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        mid <span style=color:#f92672>+=</span> mid <span style=color:#f92672>-</span> h[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (mid <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1e5</span>) <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (mid <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> h[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, r <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid)) r <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> l <span style=color:#f92672>=</span> mid <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> l;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=z字形扫描>Z字形扫描<a hidden class=anchor aria-hidden=true href=#z字形扫描>#</a></h3><p><a href=https://www.acwing.com/problem/content/3211/>题目链接</a></p><h4 id=思路-29>思路<a hidden class=anchor aria-hidden=true href=#思路-29>#</a></h4><ul><li>下标之和为偶数，从下到上遍历</li><li>下标之和为奇数，从上到下遍历</li></ul><h4 id=代码-45>代码<a hidden class=anchor aria-hidden=true href=#代码-45>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>505</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> g[N][N], n;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> n; j<span style=color:#f92672>++</span>) scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>g[i][j]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; i <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> n; i <span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (i <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i; j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; j<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>if</span> (j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> j <span style=color:#f92672>&lt;=</span> n <span style=color:#f92672>&amp;&amp;</span> i <span style=color:#f92672>-</span> j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> i <span style=color:#f92672>-</span> j <span style=color:#f92672>&lt;=</span> n)
</span></span><span style=display:flex><span>					printf(<span style=color:#e6db74>&#34;%d &#34;</span>, g[j][i<span style=color:#f92672>-</span>j]);
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> n; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>if</span> (j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> j <span style=color:#f92672>&lt;=</span> n <span style=color:#f92672>&amp;&amp;</span> i <span style=color:#f92672>-</span> j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> i <span style=color:#f92672>-</span> j <span style=color:#f92672>&lt;=</span> n)
</span></span><span style=display:flex><span>					printf(<span style=color:#e6db74>&#34;%d &#34;</span>, g[j][i<span style=color:#f92672>-</span>j]);
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=动态求连续区间和-线段树>动态求连续区间和-线段树<a hidden class=anchor aria-hidden=true href=#动态求连续区间和-线段树>#</a></h3><p><a href=https://www.acwing.com/problem/content/1266/>题目链接</a></p><h4 id=线段树-代码>线段树-代码<a hidden class=anchor aria-hidden=true href=#线段树-代码>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>node</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> l, r, sum;
</span></span><span style=display:flex><span>} tree[N <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, a[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>build</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> l, <span style=color:#66d9ef>int</span> r) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (l <span style=color:#f92672>==</span> r) tree[u] <span style=color:#f92672>=</span> {l, r, a[l]};
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        build(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>, l, mid), build(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>, mid<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, r);
</span></span><span style=display:flex><span>        tree[u] <span style=color:#f92672>=</span> {l, r, tree[u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>].sum <span style=color:#f92672>+</span> tree[u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>].sum};
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>update</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> i, <span style=color:#66d9ef>int</span> v) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (tree[u].l <span style=color:#f92672>==</span> i <span style=color:#f92672>&amp;&amp;</span> tree[u].r <span style=color:#f92672>==</span> i) tree[u].sum <span style=color:#f92672>+=</span> v;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> tree[u].l <span style=color:#f92672>+</span> tree[u].r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (i <span style=color:#f92672>&lt;=</span> mid) update(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>, i, v);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> update(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>, i, v);
</span></span><span style=display:flex><span>        tree[u].sum <span style=color:#f92672>=</span> tree[u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>].sum <span style=color:#f92672>+</span> tree[u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>].sum;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>query</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> l, <span style=color:#66d9ef>int</span> r) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (tree[u].l <span style=color:#f92672>==</span> l <span style=color:#f92672>&amp;&amp;</span> tree[u].r <span style=color:#f92672>==</span> r) <span style=color:#66d9ef>return</span> tree[u].sum;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> tree[u].l <span style=color:#f92672>+</span> tree[u].r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (r <span style=color:#f92672>&lt;=</span> mid) <span style=color:#66d9ef>return</span> query(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>, l, r);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (l <span style=color:#f92672>&gt;</span> mid) <span style=color:#66d9ef>return</span> query(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>, l, r);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>return</span> query(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>, l, mid) <span style=color:#f92672>+</span> query(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>, mid<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, r);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>a[i]);
</span></span><span style=display:flex><span>    build(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> k, a, b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>k, <span style=color:#f92672>&amp;</span>a, <span style=color:#f92672>&amp;</span>b);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span>k) printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, query(<span style=color:#ae81ff>1</span>, a, b));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> update(<span style=color:#ae81ff>1</span>, a, b);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=树状数组-代码>树状数组-代码<a hidden class=anchor aria-hidden=true href=#树状数组-代码>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> C[N], n, m;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> k) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> x; i <span style=color:#f92672>&lt;=</span> n; i <span style=color:#f92672>+=</span> i <span style=color:#f92672>&amp;</span> <span style=color:#f92672>-</span>i) C[i] <span style=color:#f92672>+=</span> k;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_sum</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> s <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> x; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>-=</span> i <span style=color:#f92672>&amp;</span> <span style=color:#f92672>-</span>i) s <span style=color:#f92672>+=</span> C[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> s;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> t;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>t);
</span></span><span style=display:flex><span>        add(i, t);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> k, a, b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>k, <span style=color:#f92672>&amp;</span>a, <span style=color:#f92672>&amp;</span>b);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>k) printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, get_sum(b) <span style=color:#f92672>-</span> get_sum(a<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> add(a, b);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=奇怪的数-组合计数>奇怪的数-组合计数<a hidden class=anchor aria-hidden=true href=#奇怪的数-组合计数>#</a></h3><p><a href=https://www.acwing.com/problem/content/3198/>题目链接</a></p><h4 id=思路-30>思路<a hidden class=anchor aria-hidden=true href=#思路-30>#</a></h4><ul><li>划分为两类<ul><li>0、1：$k$位, $ 2 \le k \le n - 2 $</li><li>2、3：$n-k$位</li></ul></li><li>放0、1：第一位不能放, 剩下$n-1$位可以放$k$个0、1-> $ C_{n-1}^{k} $</li><li>0的个数：$1 \le cnt_0 \le k-1$, 共$k-1$种可能，2的个数：$1 \le cnt_2 \le n-k-1$，共$n-k-1$种可能</li><li>$ ans = \sum_{k=2}^{n-2}{C_{n-1}^{k}(k-1)(n-k-1)} $</li></ul><h4 id=代码-46>代码<a hidden class=anchor aria-hidden=true href=#代码-46>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, C[N][N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mod <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e9</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>7</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;=</span> i; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>j) C[i][j] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> C[i][j] <span style=color:#f92672>=</span> (C[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j] <span style=color:#f92672>+</span> C[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]) <span style=color:#f92672>%</span> mod;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; k <span style=color:#f92672>&lt;=</span> n <span style=color:#f92672>-</span> <span style=color:#ae81ff>2</span>; k<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> (ans <span style=color:#f92672>+</span> C[n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][k] <span style=color:#f92672>*</span> <span style=color:#ae81ff>1ll</span> <span style=color:#f92672>*</span> (k <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>%</span> mod <span style=color:#f92672>*</span> (n <span style=color:#f92672>-</span> k <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)) <span style=color:#f92672>%</span> mod;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=最优配餐-多源bfs>最优配餐-多源BFS<a hidden class=anchor aria-hidden=true href=#最优配餐-多源bfs>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/3208/>题目链接</a></p><h4 id=思路-31>思路<a hidden class=anchor aria-hidden=true href=#思路-31>#</a></h4><p>将起点都入队列进行BFS</p><h4 id=代码-47>代码<a hidden class=anchor aria-hidden=true href=#代码-47>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1005</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, k, d, dist[N][N], w[N][N];
</span></span><span style=display:flex><span>queue<span style=color:#f92672>&lt;</span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> Q;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>bfs</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> dx[]{<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>}, dy[]{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>Q.empty()) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> [x, y] <span style=color:#f92672>=</span> Q.front();
</span></span><span style=display:flex><span>        Q.pop();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> nx <span style=color:#f92672>=</span> x <span style=color:#f92672>+</span> dx[i], ny <span style=color:#f92672>=</span> y <span style=color:#f92672>+</span> dy[i];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (nx <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> nx <span style=color:#f92672>&gt;</span> n <span style=color:#f92672>||</span> ny <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> ny <span style=color:#f92672>&gt;</span> n <span style=color:#f92672>||</span> dist[nx][ny] <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>            dist[nx][ny] <span style=color:#f92672>=</span> dist[x][y] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            Q.push({nx, ny});
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m, <span style=color:#f92672>&amp;</span>k, <span style=color:#f92672>&amp;</span>d);
</span></span><span style=display:flex><span>    memset(dist, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> dist);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> x, y;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>x, <span style=color:#f92672>&amp;</span>y);
</span></span><span style=display:flex><span>        Q.push({x, y});
</span></span><span style=display:flex><span>        dist[x][y] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> c;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> k; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>x, <span style=color:#f92672>&amp;</span>y, <span style=color:#f92672>&amp;</span>c);
</span></span><span style=display:flex><span>        w[x][y] <span style=color:#f92672>+=</span> c;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> d; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>x, <span style=color:#f92672>&amp;</span>y);
</span></span><span style=display:flex><span>        dist[x][y] <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    bfs();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>long</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> n; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (w[i][j])
</span></span><span style=display:flex><span>                ans <span style=color:#f92672>+=</span> w[i][j] <span style=color:#f92672>*</span> dist[i][j] <span style=color:#f92672>*</span> <span style=color:#ae81ff>1ll</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%ld</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, ans);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=leetcode-995-k-连续位的最小翻转次数>LeetCode-995 K 连续位的最小翻转次数<a hidden class=anchor aria-hidden=true href=#leetcode-995-k-连续位的最小翻转次数>#</a></h3><p><a href=https://leetcode-cn.com/problems/minimum-number-of-k-consecutive-bit-flips/>题目链接</a></p><h4 id=思路-32>思路<a hidden class=anchor aria-hidden=true href=#思路-32>#</a></h4><p>差分数组<code>d[i]表示i位置需要翻转的次数 - i-1位置需要翻转的次数</code>
cnt表示当前位置需要翻转的次数
若<code>A[i]+cnt</code>是偶数则需要翻转：<code>cnt++, d[i+k]++</code>
若<code>i+K > n</code>则不可能</p><h4 id=代码-48>代码<a hidden class=anchor aria-hidden=true href=#代码-48>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> minKBitFlips(vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&amp;</span> A, <span style=color:#66d9ef>int</span> K) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> A.size();
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> d(n <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            cnt <span style=color:#f92672>+=</span> d[i];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>((A[i] <span style=color:#f92672>+</span> cnt) <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>)) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (i <span style=color:#f92672>+</span> K <span style=color:#f92672>&gt;</span> n) <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>                <span style=color:#f92672>++</span>cnt;
</span></span><span style=display:flex><span>                <span style=color:#f92672>++</span>ans;
</span></span><span style=display:flex><span>                d[i<span style=color:#f92672>+</span>K]<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=最小生成树>最小生成树<a hidden class=anchor aria-hidden=true href=#最小生成树>#</a></h3><p><a href=https://loj.ac/p/123>题目链接</a></p><h4 id=prim>Prim<a hidden class=anchor aria-hidden=true href=#prim>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> P <span style=color:#f92672>=</span> pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>2e5</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>vector<span style=color:#f92672>&lt;</span>P<span style=color:#f92672>&gt;</span> g[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> vis[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span>priority_queue<span style=color:#f92672>&lt;</span>P<span style=color:#f92672>&gt;</span> Q;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b, c;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>a, <span style=color:#f92672>&amp;</span>b, <span style=color:#f92672>&amp;</span>c);
</span></span><span style=display:flex><span>        g[a].push_back({b, c});
</span></span><span style=display:flex><span>        g[b].push_back({a, c});
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    Q.push({<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>});
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>long</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (true) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> [w, v] <span style=color:#f92672>=</span> Q.top();
</span></span><span style=display:flex><span>            Q.pop();
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (vis[v]) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>            vis[v] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>            ans <span style=color:#f92672>+=</span> <span style=color:#f92672>-</span>w;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>auto</span> [_v, _w] <span style=color:#f92672>:</span> g[v]) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (vis[_v]) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>                Q.push({<span style=color:#f92672>-</span>_w, _v});
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%ld</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, ans);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=kruskal>Kruskal<a hidden class=anchor aria-hidden=true href=#kruskal>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>UF</span> {
</span></span><span style=display:flex><span>	vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> id, sz;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>	UF(<span style=color:#66d9ef>int</span> N) {
</span></span><span style=display:flex><span>		id.resize(N);
</span></span><span style=display:flex><span>		sz.resize(N);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> N; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>			id[i] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>			sz[i] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>find</span>(<span style=color:#66d9ef>int</span> p) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>while</span> (p <span style=color:#f92672>!=</span> id[p]) {
</span></span><span style=display:flex><span>			id[p] <span style=color:#f92672>=</span> id[id[p]];
</span></span><span style=display:flex><span>			p <span style=color:#f92672>=</span> id[p];
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> p;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>_union</span>(<span style=color:#66d9ef>int</span> p, <span style=color:#66d9ef>int</span> q) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> find(p), j <span style=color:#f92672>=</span> find(q);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (i <span style=color:#f92672>==</span> j) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (sz[i] <span style=color:#f92672>&lt;</span> sz[j]) {
</span></span><span style=display:flex><span>			id[i] <span style=color:#f92672>=</span> j;
</span></span><span style=display:flex><span>			sz[j] <span style=color:#f92672>+=</span> sz[i];
</span></span><span style=display:flex><span>		} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>			id[j] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>			sz[i] <span style=color:#f92672>+=</span> sz[j];
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>node</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> w, u, v;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>friend</span> <span style=color:#66d9ef>bool</span> <span style=color:#66d9ef>operator</span><span style=color:#f92672>&lt;</span>(<span style=color:#66d9ef>const</span> node <span style=color:#f92672>&amp;</span>a, <span style=color:#66d9ef>const</span> node<span style=color:#f92672>&amp;</span> b) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (a.w <span style=color:#f92672>==</span> b.w) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>make_pair</span>(a.u, a.v) <span style=color:#f92672>&gt;</span> make_pair(b.u, b.v);
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> a.w <span style=color:#f92672>&gt;</span> b.w;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span>priority_queue<span style=color:#f92672>&lt;</span>node<span style=color:#f92672>&gt;</span> Q;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span>	UF uf(n);
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> a, b, c;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>		scanf(<span style=color:#e6db74>&#34;%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>a, <span style=color:#f92672>&amp;</span>b, <span style=color:#f92672>&amp;</span>c);
</span></span><span style=display:flex><span>		Q.push({c, a, b});
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>long</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>Q.empty() <span style=color:#f92672>&amp;&amp;</span> cnt <span style=color:#f92672>&lt;</span> n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>auto</span> [w, u, v] <span style=color:#f92672>=</span> Q.top();
</span></span><span style=display:flex><span>		Q.pop();
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (uf._union(u<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, v<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)) {
</span></span><span style=display:flex><span>			ans <span style=color:#f92672>+=</span> w;
</span></span><span style=display:flex><span>			<span style=color:#f92672>++</span>cnt;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	printf(<span style=color:#e6db74>&#34;%ld</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, ans);
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=单源最短路>单源最短路<a hidden class=anchor aria-hidden=true href=#单源最短路>#</a></h3><p><a href=https://loj.ac/p/119>题目链接</a></p><h4 id=代码-49>代码<a hidden class=anchor aria-hidden=true href=#代码-49>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> P <span style=color:#f92672>=</span> pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>2505</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>12500</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], e[M], ne[M], w[M], idx;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b, <span style=color:#66d9ef>int</span> c) {
</span></span><span style=display:flex><span>    e[idx] <span style=color:#f92672>=</span> b, w[idx] <span style=color:#f92672>=</span> c, ne[idx] <span style=color:#f92672>=</span> h[a], h[a] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, dist[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> st[N];
</span></span><span style=display:flex><span>priority_queue<span style=color:#f92672>&lt;</span>P<span style=color:#f92672>&gt;</span> Q;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dijkstra</span>(<span style=color:#66d9ef>int</span> s, <span style=color:#66d9ef>int</span> t) {
</span></span><span style=display:flex><span>    memset(dist, <span style=color:#ae81ff>0x3f</span>, <span style=color:#66d9ef>sizeof</span> dist);
</span></span><span style=display:flex><span>    Q.push({<span style=color:#ae81ff>0</span>, s});
</span></span><span style=display:flex><span>    dist[s] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>Q.empty()) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> [d, u] <span style=color:#f92672>=</span> Q.top();
</span></span><span style=display:flex><span>        Q.pop();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (st[u])
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        st[u] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[u]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (dist[v] <span style=color:#f92672>&gt;</span> <span style=color:#f92672>-</span>d <span style=color:#f92672>+</span> w[i]) {
</span></span><span style=display:flex><span>                dist[v] <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>d <span style=color:#f92672>+</span> w[i];
</span></span><span style=display:flex><span>                Q.push({<span style=color:#f92672>-</span>dist[v], v});
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> s, t;
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m, <span style=color:#f92672>&amp;</span>s, <span style=color:#f92672>&amp;</span>t);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b, c;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>a, <span style=color:#f92672>&amp;</span>b, <span style=color:#f92672>&amp;</span>c);
</span></span><span style=display:flex><span>        add(a, b, c);
</span></span><span style=display:flex><span>        add(b, a, c);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    dijkstra(s, t);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, dist[t]);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=网络延时-树形dp>网络延时-树形DP<a hidden class=anchor aria-hidden=true href=#网络延时-树形dp>#</a></h3><p><a href=https://www.acwing.com/problem/content/3218/>题目链接</a></p><h4 id=思路-33>思路<a hidden class=anchor aria-hidden=true href=#思路-33>#</a></h4><p>树形DP模板</p><h4 id=代码-50>代码<a hidden class=anchor aria-hidden=true href=#代码-50>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>20005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], e[N], ne[N], idx;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, f[N]; <span style=color:#75715e>// f[u]: 表示u到最远叶节点的距离。显然如果u是节点，则f[u]=0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    e[idx] <span style=color:#f92672>=</span> b, ne[idx] <span style=color:#f92672>=</span> h[a], h[a] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> u) { <span style=color:#75715e>// 求以u为根节点到叶节点的最大距离
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, b <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#75715e>// a记录u到最远叶节点的距离，b记录u到次远叶节点的距离
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[u]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>        dfs(v); <span style=color:#75715e>//求子节点j到最远叶节点的距离
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> f[v] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; <span style=color:#75715e>//u通过j能到的最远叶节点的距离
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>//更新a, b
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (t <span style=color:#f92672>&gt;=</span> a) b <span style=color:#f92672>=</span> a, a <span style=color:#f92672>=</span> t;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (t <span style=color:#f92672>&gt;</span> b) b <span style=color:#f92672>=</span> t;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    f[u] <span style=color:#f92672>=</span> a;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 最后的答案就是u所能到的最远叶节点距离和次远叶节点距离之和
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    ans <span style=color:#f92672>=</span> max(ans, a <span style=color:#f92672>+</span> b);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> j;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; i <span style=color:#f92672>&lt;=</span> n <span style=color:#f92672>+</span> m; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>j);
</span></span><span style=display:flex><span>        add(j, i); <span style=color:#75715e>// 因为是自根向下DP，所以建一条边即可
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    dfs(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=序列化二叉树>序列化二叉树<a hidden class=anchor aria-hidden=true href=#序列化二叉树>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/46/>题目链接</a></p><h4 id=代码-51>代码<a hidden class=anchor aria-hidden=true href=#代码-51>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>serialize</span>(self, root):
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>dfs_s</span>(root):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>nonlocal</span> ans
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> root:
</span></span><span style=display:flex><span>                ans <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#39;None &#39;</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>: 
</span></span><span style=display:flex><span>                ans <span style=color:#f92672>+=</span> str(root<span style=color:#f92672>.</span>val) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39; &#39;</span>
</span></span><span style=display:flex><span>            dfs_s(root<span style=color:#f92672>.</span>left)
</span></span><span style=display:flex><span>            dfs_s(root<span style=color:#f92672>.</span>right)
</span></span><span style=display:flex><span>        dfs_s(root)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>deserialize</span>(self, data):
</span></span><span style=display:flex><span>        A <span style=color:#f92672>=</span> data<span style=color:#f92672>.</span>split()
</span></span><span style=display:flex><span>        k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>dfs_d</span>():
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>nonlocal</span> A, k
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> k <span style=color:#f92672>==</span> len(A): <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> A[k] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;None&#39;</span>: 
</span></span><span style=display:flex><span>                k <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>            root <span style=color:#f92672>=</span> TreeNode(int(A[k]))
</span></span><span style=display:flex><span>            k <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            root<span style=color:#f92672>.</span>left <span style=color:#f92672>=</span> dfs_d()
</span></span><span style=display:flex><span>            root<span style=color:#f92672>.</span>right <span style=color:#f92672>=</span> dfs_d()
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> root
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> dfs_d()
</span></span></code></pre></div><h3 id=最大亦或和-线性基>最大亦或和-线性基<a hidden class=anchor aria-hidden=true href=#最大亦或和-线性基>#</a></h3><p><a href=https://www.acwing.com/problem/content/submission/3167/>题目链接</a></p><h4 id=思路-34>思路<a hidden class=anchor aria-hidden=true href=#思路-34>#</a></h4><ul><li>构造线性基的方法如下：对于集合中的每个数<code>x</code>转为二进制，从高位向低位扫，对于第<code>i</code>位是<code>1</code>的，如果<code>p[i]</code>不存在，那么<code>p[i] = x</code>结束扫描，如果存在，令<code>x = x ^ p[i]</code></li><li>查询集合内任意几个元素<code>xor</code>最大值：从高位向低位扫，若<code>xor</code>上当前扫到的<code>p[i]</code>答案变大，就把答案<code>xor</code>上<code>p[i]</code></li><li>查询原集合内任意几个元素<code>xor</code>的最小值，就是线性基集合所有元素中最小的那个</li></ul><h4 id=代码-52>代码<a hidden class=anchor aria-hidden=true href=#代码-52>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> ull <span style=color:#f92672>=</span> <span style=color:#66d9ef>unsigned</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span>;
</span></span><span style=display:flex><span>ull p[<span style=color:#ae81ff>65</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>auto</span> insert <span style=color:#f92672>=</span> [](ull x) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>63</span>; <span style=color:#f92672>~</span>i; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>(x <span style=color:#f92672>&gt;&gt;</span> i <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>)) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>p[i]) {
</span></span><span style=display:flex><span>                p[i] <span style=color:#f92672>=</span> x;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            x <span style=color:#f92672>^=</span> p[i];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>    ull x;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (n<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%lld&#34;</span>, <span style=color:#f92672>&amp;</span>x);
</span></span><span style=display:flex><span>        insert(x);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    ull ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>63</span>; <span style=color:#f92672>~</span>i; i<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> max(ans, ans <span style=color:#f92672>^</span> p[i]);
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%lld&#34;</span>, ans);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=通信网络-枚举dfs>通信网络-枚举+dfs<a hidden class=anchor aria-hidden=true href=#通信网络-枚举dfs>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/3253/>题目链接</a></p><h4 id=代码-53>代码<a hidden class=anchor aria-hidden=true href=#代码-53>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1005</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>10005</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], e[M], ne[M], idx;
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    e[idx] <span style=color:#f92672>=</span> b, ne[idx] <span style=color:#f92672>=</span> h[a], h[a] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> st[N][N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> s, <span style=color:#66d9ef>int</span> u) {
</span></span><span style=display:flex><span>    st[s][u] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[u]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (st[s][v]) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>        dfs(s, v);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>a, <span style=color:#f92672>&amp;</span>b);
</span></span><span style=display:flex><span>        add(a, b);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        dfs(i, i);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> n; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (st[i][j]) st[j][i] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (; j <span style=color:#f92672>&lt;=</span> n; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span>st[i][j]) <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (j <span style=color:#f92672>&gt;</span> n) <span style=color:#f92672>++</span>ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=压缩编码-区间dp>压缩编码-区间DP<a hidden class=anchor aria-hidden=true href=#压缩编码-区间dp>#</a></h3><h4 id=思路-35>思路<a hidden class=anchor aria-hidden=true href=#思路-35>#</a></h4><ul><li>状态表示<code>f[i][j]</code><ul><li>集合：所有将<code>[i, j]</code>合并成一堆的方案的集合</li><li>属性：最小值</li></ul></li><li>状态计算：<code>f[i][j] = min(f[i][j], f[i][k] + f[k+1][j] + s[j] - s[i-1])</code></li></ul><h4 id=代码-54>代码<a hidden class=anchor aria-hidden=true href=#代码-54>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;climits&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, f[N][N], s[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>s[i]);
</span></span><span style=display:flex><span>        s[i] <span style=color:#f92672>+=</span> s[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> len <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; len <span style=color:#f92672>&lt;=</span> n; len<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>+</span> len <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i <span style=color:#f92672>+</span> len <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            f[i][j] <span style=color:#f92672>=</span> INT_MAX;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> i; k <span style=color:#f92672>&lt;</span> j; k<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                f[i][j] <span style=color:#f92672>=</span> min(f[i][j], f[i][k] <span style=color:#f92672>+</span> f[k<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][j] <span style=color:#f92672>+</span> s[j] <span style=color:#f92672>-</span> s[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[<span style=color:#ae81ff>1</span>][n];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=杂题记录>杂题记录<a hidden class=anchor aria-hidden=true href=#杂题记录>#</a></h2><h3 id=后序遍历>后序遍历<a hidden class=anchor aria-hidden=true href=#后序遍历>#</a></h3><p><a href=https://hihocoder.com/problemset/problem/1049>题目链接</a></p><h4 id=代码-55>代码<a hidden class=anchor aria-hidden=true href=#代码-55>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;unordered_map&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;functional&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>30</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>node</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>char</span> c;
</span></span><span style=display:flex><span>    node <span style=color:#f92672>*</span>l, <span style=color:#f92672>*</span>r;
</span></span><span style=display:flex><span>    node(<span style=color:#66d9ef>char</span> _c) <span style=color:#f92672>:</span> c(_c), l(<span style=color:#66d9ef>nullptr</span>), r(<span style=color:#66d9ef>nullptr</span>) {}
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>print</span>(node <span style=color:#f92672>*</span>root) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>root) <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>    print(root<span style=color:#f92672>-&gt;</span>l);
</span></span><span style=display:flex><span>    print(root<span style=color:#f92672>-&gt;</span>r);
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%c&#34;</span>, root<span style=color:#f92672>-&gt;</span>c);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>unordered_map<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>char</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> M;
</span></span><span style=display:flex><span>string A, B;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>node<span style=color:#f92672>*</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> pl, <span style=color:#66d9ef>int</span> pr, <span style=color:#66d9ef>int</span> il, <span style=color:#66d9ef>int</span> ir) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (pl <span style=color:#f92672>&gt;</span> pr) <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nullptr</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> M[A[pl]];
</span></span><span style=display:flex><span>    node <span style=color:#f92672>*</span>root <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> node(A[pl]);
</span></span><span style=display:flex><span>    root<span style=color:#f92672>-&gt;</span>l <span style=color:#f92672>=</span> dfs(pl <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, pl <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> it <span style=color:#f92672>-</span> il <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>, il, it <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    root<span style=color:#f92672>-&gt;</span>r <span style=color:#f92672>=</span> dfs(pl <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> it <span style=color:#f92672>-</span> il, pr, it <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, ir);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> root;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    ios<span style=color:#f92672>::</span>sync_with_stdio(false), cin.tie(<span style=color:#66d9ef>nullptr</span>), cout.tie(<span style=color:#66d9ef>nullptr</span>);
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> A <span style=color:#f92672>&gt;&gt;</span> B;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> A.size();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) M[B[i]] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>auto</span> root <span style=color:#f92672>=</span> dfs(<span style=color:#ae81ff>0</span>, n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    print(root);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=树的遍历-中序后序求层次>树的遍历-中序后序求层次<a hidden class=anchor aria-hidden=true href=#树的遍历-中序后序求层次>#</a></h3><p><a href=https://www.acwing.com/problem/content/1499/>题目链接</a></p><h4 id=代码-56>代码<a hidden class=anchor aria-hidden=true href=#代码-56>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>TreeNode</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>val</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>left</span>, <span style=color:#a6e22e>right</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>after</span>, <span style=color:#a6e22e>in</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>), make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>after</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>after</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>in</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>in</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mp</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>int</span>]<span style=color:#66d9ef>int</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>in</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>mp</span>[<span style=color:#a6e22e>in</span>[<span style=color:#a6e22e>i</span>]] = <span style=color:#a6e22e>i</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>dfs</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>il</span>, <span style=color:#a6e22e>ir</span>, <span style=color:#a6e22e>al</span>, <span style=color:#a6e22e>ar</span> <span style=color:#66d9ef>int</span>) (<span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dfs</span> = <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>il</span>, <span style=color:#a6e22e>ir</span>, <span style=color:#a6e22e>al</span>, <span style=color:#a6e22e>ar</span> <span style=color:#66d9ef>int</span>) (<span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>al</span> &gt; <span style=color:#a6e22e>ar</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>idx</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>mp</span>[<span style=color:#a6e22e>after</span>[<span style=color:#a6e22e>ar</span>]]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>root</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>TreeNode</span>{
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>val</span>: <span style=color:#a6e22e>after</span>[<span style=color:#a6e22e>ar</span>],
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>left</span>: <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>il</span>, <span style=color:#a6e22e>idx</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>al</span>, <span style=color:#a6e22e>al</span><span style=color:#f92672>+</span><span style=color:#a6e22e>idx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>il</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>right</span>: <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>idx</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>ir</span>, <span style=color:#a6e22e>al</span><span style=color:#f92672>+</span><span style=color:#a6e22e>idx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>il</span>, <span style=color:#a6e22e>ar</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>root</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>root</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>que</span> <span style=color:#f92672>:=</span> make([](<span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>), <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>que</span> = append(<span style=color:#a6e22e>que</span>, <span style=color:#a6e22e>root</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> len(<span style=color:#a6e22e>que</span>) <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>front</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>que</span>[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%d &#34;</span>, <span style=color:#a6e22e>front</span>.<span style=color:#a6e22e>val</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>que</span> = <span style=color:#a6e22e>que</span>[<span style=color:#ae81ff>1</span>:]
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>front</span>.<span style=color:#a6e22e>left</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>que</span> = append(<span style=color:#a6e22e>que</span>, <span style=color:#a6e22e>front</span>.<span style=color:#a6e22e>left</span>)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>front</span>.<span style=color:#a6e22e>right</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>que</span> = append(<span style=color:#a6e22e>que</span>, <span style=color:#a6e22e>front</span>.<span style=color:#a6e22e>right</span>)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=树中的最长路>树中的最长路<a hidden class=anchor aria-hidden=true href=#树中的最长路>#</a></h3><p><a href="https://hihocoder.com/problemset/problem/1050?sid=1602976">题目链接</a></p><h4 id=代码-57>代码<a hidden class=anchor aria-hidden=true href=#代码-57>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;unordered_map&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;functional&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], e[N], ne[N], idx;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    e[idx] <span style=color:#f92672>=</span> b, ne[idx] <span style=color:#f92672>=</span> h[a], h[a] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, f[N], ans;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> u) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, b <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[u]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>        dfs(v);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> f[v] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (t <span style=color:#f92672>&gt;=</span> a) b <span style=color:#f92672>=</span> a, a <span style=color:#f92672>=</span> t;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (t <span style=color:#f92672>&gt;</span> b) b <span style=color:#f92672>=</span> t;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    f[u] <span style=color:#f92672>=</span> a;
</span></span><span style=display:flex><span>    ans <span style=color:#f92672>=</span> max(ans, a <span style=color:#f92672>+</span> b);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span><span style=color:#75715e>#ifndef ONLINE_JUDGE
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    freopen(<span style=color:#e6db74>&#34;input.txt&#34;</span>, <span style=color:#e6db74>&#34;r&#34;</span>, stdin);
</span></span><span style=display:flex><span>    freopen(<span style=color:#e6db74>&#34;output.txt&#34;</span>, <span style=color:#e6db74>&#34;w&#34;</span>, stdout);
</span></span><span style=display:flex><span><span style=color:#75715e>#endif
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    ios<span style=color:#f92672>::</span>sync_with_stdio(false), cin.tie(<span style=color:#66d9ef>nullptr</span>), cout.tie(<span style=color:#66d9ef>nullptr</span>);
</span></span><span style=display:flex><span>    memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a <span style=color:#f92672>&gt;&gt;</span> b;
</span></span><span style=display:flex><span>        add(a, b);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    dfs(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=rmq问题再临>RMQ问题再临<a hidden class=anchor aria-hidden=true href=#rmq问题再临>#</a></h3><p><a href=https://hihocoder.com/problemset/problem/1070>题目链接</a></p><h4 id=代码-58>代码<a hidden class=anchor aria-hidden=true href=#代码-58>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e4</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>node</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> l, r, minv;
</span></span><span style=display:flex><span>} tree[N <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, a[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>build</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> l, <span style=color:#66d9ef>int</span> r) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (l <span style=color:#f92672>==</span> r) tree[u] <span style=color:#f92672>=</span> {l, r, a[l]};
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        build(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>, l, mid), build(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>, mid<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, r);
</span></span><span style=display:flex><span>        tree[u] <span style=color:#f92672>=</span> {l, r, min(tree[u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>].minv, tree[u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>].minv)};
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>update</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> i, <span style=color:#66d9ef>int</span> v) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (tree[u].l <span style=color:#f92672>==</span> i <span style=color:#f92672>&amp;&amp;</span> tree[u].r <span style=color:#f92672>==</span> i)
</span></span><span style=display:flex><span>        tree[u].minv <span style=color:#f92672>=</span> v;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> tree[u].l <span style=color:#f92672>+</span> tree[u].r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (i <span style=color:#f92672>&lt;=</span> mid) update(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>, i, v);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> update(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>, i, v);
</span></span><span style=display:flex><span>        tree[u].minv <span style=color:#f92672>=</span> min(tree[u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>].minv, tree[u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>].minv);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>query</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> l, <span style=color:#66d9ef>int</span> r) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (tree[u].l <span style=color:#f92672>==</span> l <span style=color:#f92672>&amp;&amp;</span> tree[u].r <span style=color:#f92672>==</span> r) <span style=color:#66d9ef>return</span> tree[u].minv;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> tree[u].l <span style=color:#f92672>+</span> tree[u].r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (r <span style=color:#f92672>&lt;=</span> mid) <span style=color:#66d9ef>return</span> query(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>, l, r);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (l <span style=color:#f92672>&gt;</span> mid) <span style=color:#66d9ef>return</span> query(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>, l, r);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>return</span> min(query(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>, l, mid), query(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>, mid<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, r));
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    ios<span style=color:#f92672>::</span>sync_with_stdio(false);
</span></span><span style=display:flex><span>    cin.tie(<span style=color:#66d9ef>nullptr</span>), cout.tie(<span style=color:#66d9ef>nullptr</span>);
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    build(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b, c;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a <span style=color:#f92672>&gt;&gt;</span> b <span style=color:#f92672>&gt;&gt;</span> c;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>a) cout <span style=color:#f92672>&lt;&lt;</span> query(<span style=color:#ae81ff>1</span>, b, c) <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> update(<span style=color:#ae81ff>1</span>, b, c);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=无间道之并查集>无间道之并查集<a hidden class=anchor aria-hidden=true href=#无间道之并查集>#</a></h3><p><a href=https://hihocoder.com/problemset/problem/1066>题目链接</a></p><h4 id=代码-59>代码<a hidden class=anchor aria-hidden=true href=#代码-59>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>UF</span> {
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> id, sz;
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    UF(<span style=color:#66d9ef>int</span> N) {
</span></span><span style=display:flex><span>        id.resize(N), sz.resize(N);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            id[i] <span style=color:#f92672>=</span> i, sz[i] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>find</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (x <span style=color:#f92672>!=</span> id[x]) {
</span></span><span style=display:flex><span>            id[x] <span style=color:#f92672>=</span> id[id[x]];
</span></span><span style=display:flex><span>            x <span style=color:#f92672>=</span> id[x];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> x;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>is_connected</span>(<span style=color:#66d9ef>int</span> p, <span style=color:#66d9ef>int</span> q) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> find(p), j <span style=color:#f92672>=</span> find(q);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> i <span style=color:#f92672>==</span> j;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>_union</span>(<span style=color:#66d9ef>int</span> p, <span style=color:#66d9ef>int</span> q) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> find(p), j <span style=color:#f92672>=</span> find(q);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (i <span style=color:#f92672>==</span> j) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (sz[i] <span style=color:#f92672>&lt;</span> sz[j]) {
</span></span><span style=display:flex><span>            id[i] <span style=color:#f92672>=</span> j;
</span></span><span style=display:flex><span>            sz[j] <span style=color:#f92672>+=</span> sz[i];
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            id[j] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>            sz[i] <span style=color:#f92672>+=</span> sz[j];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>unordered_map<span style=color:#f92672>&lt;</span>string, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> M;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> idx;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_hash</span>(<span style=color:#66d9ef>const</span> string <span style=color:#f92672>&amp;</span>str) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (M.count(str)) <span style=color:#66d9ef>return</span> M[str];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>return</span> M[str] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    ios<span style=color:#f92672>::</span>sync_with_stdio(false);
</span></span><span style=display:flex><span>    cin.tie(<span style=color:#66d9ef>nullptr</span>), cout.tie(<span style=color:#66d9ef>nullptr</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    UF uf(n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> op;
</span></span><span style=display:flex><span>    string a, b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (n<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> op <span style=color:#f92672>&gt;&gt;</span> a <span style=color:#f92672>&gt;&gt;</span> b;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> get_hash(a), j <span style=color:#f92672>=</span> get_hash(b);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>op) uf._union(i, j);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            puts(uf.is_connected(i, j) <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;yes&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;no&#34;</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=二分图判定>二分图判定<a hidden class=anchor aria-hidden=true href=#二分图判定>#</a></h3><p><a href=https://hihocoder.com/problemset/problem/1121>题目链接</a></p><h4 id=思路-36>思路<a hidden class=anchor aria-hidden=true href=#思路-36>#</a></h4><p>染色法</p><h4 id=代码-60>代码<a hidden class=anchor aria-hidden=true href=#代码-60>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;unordered_map&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;functional&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e4</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], e[M], ne[M], idx;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    e[idx] <span style=color:#f92672>=</span> b, ne[idx] <span style=color:#f92672>=</span> h[a], h[a] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, color[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> c) {
</span></span><span style=display:flex><span>    color[u] <span style=color:#f92672>=</span> c;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[u]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (color[v]) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (color[v] <span style=color:#f92672>==</span> c) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>dfs(v, <span style=color:#ae81ff>3</span> <span style=color:#f92672>-</span> c)) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    ios<span style=color:#f92672>::</span>sync_with_stdio(false), cin.tie(<span style=color:#66d9ef>nullptr</span>), cout.tie(<span style=color:#66d9ef>nullptr</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> T;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> T;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (T<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        idx <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>        memset(color, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span> color);
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> a, b;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> a <span style=color:#f92672>&gt;&gt;</span> b;
</span></span><span style=display:flex><span>            add(a, b);
</span></span><span style=display:flex><span>            add(b, a);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>bool</span> is_break <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>color[i] <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span>dfs(i, <span style=color:#ae81ff>1</span>)) {
</span></span><span style=display:flex><span>                is_break <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        puts(is_break <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;Wrong&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Correct&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=猜字谜>猜字谜<a hidden class=anchor aria-hidden=true href=#猜字谜>#</a></h3><p><a href=https://leetcode-cn.com/problems/number-of-valid-words-for-each-puzzle/>题目链接</a></p><h4 id=代码-61>代码<a hidden class=anchor aria-hidden=true href=#代码-61>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> findNumOfValidWords(vector<span style=color:#f92672>&lt;</span>string<span style=color:#f92672>&gt;&amp;</span> words, vector<span style=color:#f92672>&lt;</span>string<span style=color:#f92672>&gt;&amp;</span> puzzles) {
</span></span><span style=display:flex><span>        unordered_map<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> mp;
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> ans(puzzles.size());
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;</span>e : words) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;</span>c : e)
</span></span><span style=display:flex><span>                t <span style=color:#f92672>|=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> (c <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> tmp <span style=color:#f92672>=</span> bitset<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>26</span><span style=color:#f92672>&gt;</span>(t);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (tmp.count() <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>7</span>) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>            mp[t]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> puzzles.size(); i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            string p <span style=color:#f92672>=</span> puzzles[i];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> mask <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>7</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                mask <span style=color:#f92672>|=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> (p[i] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> subset <span style=color:#f92672>=</span> mask;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>do</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> subset <span style=color:#f92672>|</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> (p[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>));
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (mp.count(t)) ans[i] <span style=color:#f92672>+=</span> mp[t];
</span></span><span style=display:flex><span>                subset <span style=color:#f92672>=</span> (subset <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>&amp;</span> mask;
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>while</span> (subset <span style=color:#f92672>!=</span> mask);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=至少有k个重复字符的最长子串>至少有K个重复字符的最长子串<a hidden class=anchor aria-hidden=true href=#至少有k个重复字符的最长子串>#</a></h3><p><a href=https://leetcode-cn.com/problems/longest-substring-with-at-least-k-repeating-characters/>题目链接</a></p><h4 id=code-in-golang>Code in Golang<a hidden class=anchor aria-hidden=true href=#code-in-golang>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>longestSubstring</span>(<span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>k</span> <span style=color:#66d9ef>int</span>) (<span style=color:#a6e22e>ans</span> <span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>s</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;&#34;</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cnt</span> <span style=color:#f92672>:=</span> [<span style=color:#ae81ff>26</span>]<span style=color:#66d9ef>int</span>{}
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span>(<span style=color:#a6e22e>s</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>v</span><span style=color:#f92672>-</span><span style=color:#e6db74>&#39;a&#39;</span>]<span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>split</span> <span style=color:#66d9ef>byte</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span>(<span style=color:#a6e22e>cnt</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>v</span> &gt; <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>v</span> &lt; <span style=color:#a6e22e>k</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>split</span> = <span style=color:#e6db74>&#39;a&#39;</span> <span style=color:#f92672>+</span> byte(<span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>split</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> len(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Split</span>(<span style=color:#a6e22e>s</span>, string(<span style=color:#a6e22e>split</span>)) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> = <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>ans</span>, <span style=color:#a6e22e>longestSubstring</span>(<span style=color:#a6e22e>v</span>, <span style=color:#a6e22e>k</span>))
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=code-in-python>Code in Python<a hidden class=anchor aria-hidden=true href=#code-in-python>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>longestSubstring</span>(self, s: str, k: int) <span style=color:#f92672>-&gt;</span> int:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> len(s) <span style=color:#f92672>&lt;</span> k: <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> v <span style=color:#f92672>in</span> set(s):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> s<span style=color:#f92672>.</span>count(v) <span style=color:#f92672>&lt;</span> k:
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> max(self<span style=color:#f92672>.</span>longestSubstring(t, k) <span style=color:#66d9ef>for</span> t <span style=color:#f92672>in</span> s<span style=color:#f92672>.</span>split(v))
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> len(s)
</span></span></code></pre></div><h3 id=找到-k-个最接近的元素>找到 K 个最接近的元素<a hidden class=anchor aria-hidden=true href=#找到-k-个最接近的元素>#</a></h3><h4 id=堆-nlogk做法>堆-$nlogk$做法<a hidden class=anchor aria-hidden=true href=#堆-nlogk做法>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> findClosestElements(vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&amp;</span> arr, <span style=color:#66d9ef>int</span> k, <span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>        priority_queue<span style=color:#f92672>&lt;</span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> Q;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;</span>e : arr) {
</span></span><span style=display:flex><span>            Q.push({abs(e <span style=color:#f92672>-</span> x), e});
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (Q.size() <span style=color:#f92672>&gt;</span> k) Q.pop();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> ans(k);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> idx <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>Q.empty()) {
</span></span><span style=display:flex><span>            ans[idx<span style=color:#f92672>++</span>] <span style=color:#f92672>=</span> Q.top().second;
</span></span><span style=display:flex><span>            Q.pop();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        sort(ans.begin(), ans.end());
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h4 id=二分双指针-lognk做法rust>二分+双指针-$logn+k$做法(Rust)<a hidden class=anchor aria-hidden=true href=#二分双指针-lognk做法rust>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>impl</span> Solution {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>find_closest_elements</span>(arr: Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>, k: <span style=color:#66d9ef>i32</span>, x: <span style=color:#66d9ef>i32</span>) -&gt; Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> n: <span style=color:#66d9ef>i32</span> <span style=color:#f92672>=</span> arr.len() <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>i32</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> l: <span style=color:#66d9ef>i32</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> r: <span style=color:#66d9ef>i32</span> <span style=color:#f92672>=</span> n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> l <span style=color:#f92672>&lt;</span> r {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> mid: <span style=color:#66d9ef>usize</span> <span style=color:#f92672>=</span> ((l <span style=color:#f92672>+</span> r) <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> arr[mid] <span style=color:#f92672>&gt;=</span> x {
</span></span><span style=display:flex><span>                r <span style=color:#f92672>=</span> mid <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>i32</span>;
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                l <span style=color:#f92672>=</span> (mid <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>i32</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> r <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> a <span style=color:#f92672>=</span> (<span style=color:#66d9ef>i32</span>::abs(arr[(r<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>] <span style=color:#f92672>-</span> x), arr[(r<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>]);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> b <span style=color:#f92672>=</span> (<span style=color:#66d9ef>i32</span>::abs(arr[r <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>] <span style=color:#f92672>-</span> x), arr[r <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>]);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> a <span style=color:#f92672>&lt;</span> b {
</span></span><span style=display:flex><span>                r <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> i: <span style=color:#66d9ef>i32</span> <span style=color:#f92672>=</span> r;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> j: <span style=color:#66d9ef>i32</span> <span style=color:#f92672>=</span> r;
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> u <span style=color:#66d9ef>in</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>..</span>k<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> ((i <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>                j <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> j <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&gt;=</span> n {
</span></span><span style=display:flex><span>                i <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>let</span> a <span style=color:#f92672>=</span> (<span style=color:#66d9ef>i32</span>::abs(arr[(i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>] <span style=color:#f92672>-</span> x), arr[(i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>]);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>let</span> b <span style=color:#f92672>=</span> (<span style=color:#66d9ef>i32</span>::abs(arr[(j<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>] <span style=color:#f92672>-</span> x), arr[(j<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>]);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> a <span style=color:#f92672>&lt;</span> b {
</span></span><span style=display:flex><span>                    i <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>                } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                    j <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> ans <span style=color:#f92672>=</span> Vec::new();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> u <span style=color:#66d9ef>in</span> i<span style=color:#f92672>..</span>j<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>            ans.push(arr[u <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>]);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=二维区域和检索---矩阵不可变>二维区域和检索 - 矩阵不可变<a hidden class=anchor aria-hidden=true href=#二维区域和检索---矩阵不可变>#</a></h3><p><a href=https://leetcode-cn.com/problems/range-sum-query-2d-immutable/>题目链接</a></p><h4 id=思路-37>思路<a hidden class=anchor aria-hidden=true href=#思路-37>#</a></h4><h5 id=二位前缀和>二位前缀和<a hidden class=anchor aria-hidden=true href=#二位前缀和>#</a></h5><ul><li>构造: <code>S[i][j] = a[i][j] + S[i-1][j] + S[i][j-1] - S[i-1][j-1]</code></li><li>计算: <code>ans = S[x2][y2] - S[x1-1][y2] - S[x2][y1-1] + S[x1-1][y1-1]</code></li></ul><h4 id=代码-62>代码<a hidden class=anchor aria-hidden=true href=#代码-62>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>NumMatrix</span> {
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> C;
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    NumMatrix(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;&amp;</span> matrix) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (matrix.empty()) <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> matrix.size(), m <span style=color:#f92672>=</span> matrix[<span style=color:#ae81ff>0</span>].size();
</span></span><span style=display:flex><span>        C <span style=color:#f92672>=</span> vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span>(n<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>(m<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> m; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                C[i][j] <span style=color:#f92672>=</span> matrix[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> C[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j] <span style=color:#f92672>+</span> C[i][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> C[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>sumRegion</span>(<span style=color:#66d9ef>int</span> row1, <span style=color:#66d9ef>int</span> col1, <span style=color:#66d9ef>int</span> row2, <span style=color:#66d9ef>int</span> col2) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> sum <span style=color:#f92672>=</span> C[row2<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][col2<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> C[row1<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][col2<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> C[row2<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][col1<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> C[row1<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][col1<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> sum;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=比特位计数-动态规划>比特位计数-动态规划<a hidden class=anchor aria-hidden=true href=#比特位计数-动态规划>#</a></h3><p><a href=https://leetcode-cn.com/problems/counting-bits/>题目链接</a></p><h4 id=思路-38>思路<a hidden class=anchor aria-hidden=true href=#思路-38>#</a></h4><ul><li><code>y=x & (x - 1)</code>: y为将x的最低设置位从1变成0之后的数</li><li>状态定义：<code>f[i]</code>: i的比特位中1的个数</li><li>状态计算: <code>f[i] = f[i & (i-1)]</code></li></ul><h4 id=代码-63>代码<a hidden class=anchor aria-hidden=true href=#代码-63>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> countBits(<span style=color:#66d9ef>int</span> num) {
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> f(num<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> num; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            f[i] <span style=color:#f92672>=</span> f[i<span style=color:#f92672>&amp;</span>(i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> f;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>countBits</span>(self, num: int) <span style=color:#f92672>-&gt;</span> List[int]:
</span></span><span style=display:flex><span>        f <span style=color:#f92672>=</span> [<span style=color:#ae81ff>0</span>] <span style=color:#f92672>*</span> (num <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> i  <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>1</span>, num <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>            f[i] <span style=color:#f92672>=</span> f[i <span style=color:#f92672>&amp;</span> (i <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> f
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> <span style=color:#a6e22e>countBits</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> num<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> f <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[</span>num<span style=color:#f92672>+</span>1<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 1<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;=</span> num<span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span>
</span></span><span style=display:flex><span>            f<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> f<span style=color:#f92672>[</span>i <span style=color:#f92672>&amp;</span> <span style=color:#f92672>(</span>i <span style=color:#f92672>-</span> 1<span style=color:#f92672>)]</span> <span style=color:#f92672>+</span> 1<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> f<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>countBits</span>(<span style=color:#a6e22e>num</span> <span style=color:#66d9ef>int</span>) []<span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>num</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>num</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>&amp;</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>f</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=俄罗斯套娃信封问题-lis>俄罗斯套娃信封问题-LIS<a hidden class=anchor aria-hidden=true href=#俄罗斯套娃信封问题-lis>#</a></h3><p><a href=https://leetcode-cn.com/problems/russian-doll-envelopes/>题目链接</a></p><h4 id=解题思路>解题思路<a hidden class=anchor aria-hidden=true href=#解题思路>#</a></h4><p>LIS变形</p><h4 id=代码-64>代码<a hidden class=anchor aria-hidden=true href=#代码-64>#</a></h4><h5 id=on2>$O(n^2)$<a hidden class=anchor aria-hidden=true href=#on2>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> maxEnvelopes(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;&amp;</span> E) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (E.empty()) <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        sort(begin(E), end(E), [](vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> a, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> b) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> (a[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;</span> b[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>||</span> (a[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> b[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&amp;&amp;</span> a[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&gt;</span> b[<span style=color:#ae81ff>1</span>]));
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> E.size();
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> f(n);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            f[i] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> i; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (E[i][<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&gt;</span> E[j][<span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>                    f[i] <span style=color:#f92672>=</span> max(f[i], f[j] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>max_element</span>(begin(f), end(f));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h5 id=onlogn>$O(nlogn)$<a hidden class=anchor aria-hidden=true href=#onlogn>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> maxEnvelopes(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;&amp;</span> E) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (E.empty()) <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>		sort(begin(E), end(E), [](vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> a, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> b) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> (a[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;</span> b[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>||</span> (a[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> b[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&amp;&amp;</span> a[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&gt;</span> b[<span style=color:#ae81ff>1</span>]));
</span></span><span style=display:flex><span>		});
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> E.size();
</span></span><span style=display:flex><span>		vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> f;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> lower_bound(begin(f), end(f), E[i], [](vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> a, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> b) {<span style=color:#66d9ef>return</span> a[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&lt;</span> b[<span style=color:#ae81ff>1</span>];});
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> (it <span style=color:#f92672>==</span> f.end()) f.push_back(E[i]);
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>else</span> <span style=color:#f92672>*</span>it <span style=color:#f92672>=</span> E[i];
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> f.size(); i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>			cout <span style=color:#f92672>&lt;&lt;</span> f[i][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> f[i][<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> f.size();
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=用栈实现队列-双栈>用栈实现队列-双栈<a hidden class=anchor aria-hidden=true href=#用栈实现队列-双栈>#</a></h3><p><a href=https://leetcode-cn.com/problems/implement-queue-using-stacks>题目链接</a></p><h4 id=思路-39>思路<a hidden class=anchor aria-hidden=true href=#思路-39>#</a></h4><ul><li>双栈实现队列<ul><li>当<code>peek()</code>和<code>pop()</code>时，如果输出栈为空，则将输入栈内容依次弹出，并压入输出栈
代码</li></ul></li></ul><h4 id=代码-65>代码<a hidden class=anchor aria-hidden=true href=#代码-65>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyQueue</span> {
</span></span><span style=display:flex><span>    stack<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> _in, out;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>work</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>_in.empty()) {
</span></span><span style=display:flex><span>            out.push(_in.top());
</span></span><span style=display:flex><span>            _in.pop();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** _initialize your data structure here. */</span>
</span></span><span style=display:flex><span>    MyQueue() {
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** Push element x to the back of queue. */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>push</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>        _in.push(x);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** Removes the element from _in front of queue and returns that element. */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>pop</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (out.empty()) work();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> res <span style=color:#f92672>=</span> out.top();
</span></span><span style=display:flex><span>        out.pop();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> res;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** Get the front element. */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>peek</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (out.empty()) work();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> res <span style=color:#f92672>=</span> out.top();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> res;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** Returns whether the queue is empty. */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>empty</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> _in.empty() <span style=color:#f92672>&amp;&amp;</span> out.empty();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Your MyQueue object will be _instantiated and called as such:
</span></span></span><span style=display:flex><span><span style=color:#75715e> * MyQueue* obj = new MyQueue();
</span></span></span><span style=display:flex><span><span style=color:#75715e> * obj-&gt;push(x);
</span></span></span><span style=display:flex><span><span style=color:#75715e> * _int param_2 = obj-&gt;pop();
</span></span></span><span style=display:flex><span><span style=color:#75715e> * _int param_3 = obj-&gt;peek();
</span></span></span><span style=display:flex><span><span style=color:#75715e> * bool param_4 = obj-&gt;empty();
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span></code></pre></div><h3 id=下一个更大元素-单调栈>下一个更大元素-单调栈<a hidden class=anchor aria-hidden=true href=#下一个更大元素-单调栈>#</a></h3><p><a href=https://leetcode-cn.com/problems/next-greater-element-ii/submissions/>题目链接</a></p><h4 id=思路-40>思路<a hidden class=anchor aria-hidden=true href=#思路-40>#</a></h4><ul><li>单调栈内对应元素单调不增</li><li>当遇到一个比当前栈顶元素大的元素，则出栈，并且出栈元素下一个更大元素为当前元素</li><li>因为环，所以将下标映射至<code>1..2n-1</code></li></ul><h4 id=代码-66>代码<a hidden class=anchor aria-hidden=true href=#代码-66>#</a></h4><h5 id=c>C++<a hidden class=anchor aria-hidden=true href=#c>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> nextGreaterElements(vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&amp;</span> nums) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> nums.size();
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> ans(n, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>        stack<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> the_stack;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>the_stack.empty() <span style=color:#f92672>&amp;&amp;</span> nums[i <span style=color:#f92672>%</span> n] <span style=color:#f92672>&gt;</span> nums[the_stack.top()]) {
</span></span><span style=display:flex><span>                ans[the_stack.top()] <span style=color:#f92672>=</span> nums[i <span style=color:#f92672>%</span> n];
</span></span><span style=display:flex><span>                the_stack.pop();
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            the_stack.push(i <span style=color:#f92672>%</span> n);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h5 id=java>Java<a hidden class=anchor aria-hidden=true href=#java>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> <span style=color:#a6e22e>nextGreaterElements</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> nums<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>final</span> var n <span style=color:#f92672>=</span> nums<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        var ans <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[</span>n<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>        Arrays<span style=color:#f92672>.</span><span style=color:#a6e22e>fill</span><span style=color:#f92672>(</span>ans<span style=color:#f92672>,</span> <span style=color:#f92672>-</span>1<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        Stack<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> S <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Stack<span style=color:#f92672>&lt;&gt;();</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> 2 <span style=color:#f92672>*</span> n<span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> <span style=color:#f92672>(!</span>S<span style=color:#f92672>.</span><span style=color:#a6e22e>isEmpty</span><span style=color:#f92672>()</span> <span style=color:#f92672>&amp;&amp;</span> nums<span style=color:#f92672>[</span>S<span style=color:#f92672>.</span><span style=color:#a6e22e>peek</span><span style=color:#f92672>()]</span> <span style=color:#f92672>&lt;</span> nums<span style=color:#f92672>[</span>i <span style=color:#f92672>%</span> n<span style=color:#f92672>])</span>
</span></span><span style=display:flex><span>                ans<span style=color:#f92672>[</span>S<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>()]</span> <span style=color:#f92672>=</span> nums<span style=color:#f92672>[</span>i <span style=color:#f92672>%</span> n<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>            S<span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span>i <span style=color:#f92672>%</span> n<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><h5 id=python3>Python3<a hidden class=anchor aria-hidden=true href=#python3>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>nextGreaterElements</span>(self, nums: List[int]) <span style=color:#f92672>-&gt;</span> List[int]:
</span></span><span style=display:flex><span>        n <span style=color:#f92672>=</span> len(nums)
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> n
</span></span><span style=display:flex><span>        the_stack <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> n):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> the_stack <span style=color:#f92672>and</span> (nums[i <span style=color:#f92672>%</span> n] <span style=color:#f92672>&gt;</span> nums[the_stack[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]]):
</span></span><span style=display:flex><span>                ans[the_stack<span style=color:#f92672>.</span>pop()] <span style=color:#f92672>=</span> nums[i <span style=color:#f92672>%</span> n]
</span></span><span style=display:flex><span>            the_stack<span style=color:#f92672>.</span>append(i <span style=color:#f92672>%</span> n)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans
</span></span></code></pre></div><h5 id=golang>Golang<a hidden class=anchor aria-hidden=true href=#golang>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>nextGreaterElements</span>(<span style=color:#a6e22e>nums</span> []<span style=color:#66d9ef>int</span>) []<span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>nums</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span>(<span style=color:#a6e22e>ans</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stack</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{}
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> len(<span style=color:#a6e22e>stack</span>) &gt; <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>n</span>] &gt; <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>stack</span>[len(<span style=color:#a6e22e>stack</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>ans</span>[<span style=color:#a6e22e>stack</span>[len(<span style=color:#a6e22e>stack</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]] = <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>n</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>stack</span> = <span style=color:#a6e22e>stack</span>[:len(<span style=color:#a6e22e>stack</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>stack</span> = append(<span style=color:#a6e22e>stack</span>, <span style=color:#a6e22e>i</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=分割回文串>分割回文串<a hidden class=anchor aria-hidden=true href=#分割回文串>#</a></h3><p><a href=https://leetcode-cn.com/problems/palindrome-partitioning/>题目链接</a></p><h4 id=思路-41>思路<a hidden class=anchor aria-hidden=true href=#思路-41>#</a></h4><h5 id=dfs--dp预处理>dfs + DP预处理<a hidden class=anchor aria-hidden=true href=#dfs--dp预处理>#</a></h5><p><code>f[i][j] = f[i+1][j-1] && (s[i] == s[j])</code></p><h4 id=代码-67>代码<a hidden class=anchor aria-hidden=true href=#代码-67>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span>string<span style=color:#f92672>&gt;&gt;</span> partition(string s) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> s.length();
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span>string<span style=color:#f92672>&gt;</span> tmp;
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span>string<span style=color:#f92672>&gt;&gt;</span> ans;
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>bool</span><span style=color:#f92672>&gt;&gt;</span> f(n, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>bool</span><span style=color:#f92672>&gt;</span>(n, true));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;</span> n; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                f[i][j] <span style=color:#f92672>=</span> f[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>&amp;&amp;</span> (s[i] <span style=color:#f92672>==</span> s[j]);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        function<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>void</span>(<span style=color:#66d9ef>int</span>)<span style=color:#f92672>&gt;</span> dfs <span style=color:#f92672>=</span> [<span style=color:#f92672>&amp;</span>](<span style=color:#66d9ef>int</span> i) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (i <span style=color:#f92672>&gt;=</span> n) {
</span></span><span style=display:flex><span>                ans.push_back(tmp);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i; j <span style=color:#f92672>&lt;</span> n; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (f[i][j]) {
</span></span><span style=display:flex><span>                    tmp.push_back(s.substr(i, j <span style=color:#f92672>-</span> i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>));
</span></span><span style=display:flex><span>                    dfs(j<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>                    tmp.pop_back();
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        dfs(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=从第一个节点出发到最后一个节点的受限路径数-记忆化搜索>从第一个节点出发到最后一个节点的受限路径数-记忆化搜索<a hidden class=anchor aria-hidden=true href=#从第一个节点出发到最后一个节点的受限路径数-记忆化搜索>#</a></h3><p><a href=https://leetcode-cn.com/problems/number-of-restricted-paths-from-first-to-last-node/>题目链接</a></p><h4 id=思路-42>思路<a hidden class=anchor aria-hidden=true href=#思路-42>#</a></h4><p>单源最短路+记忆化搜索</p><h4 id=代码-68>代码<a hidden class=anchor aria-hidden=true href=#代码-68>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>2e4</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>8e4</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], e[M], ne[M], w[M], idx;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b, <span style=color:#66d9ef>int</span> c) {
</span></span><span style=display:flex><span>    e[idx] <span style=color:#f92672>=</span> b, w[idx] <span style=color:#f92672>=</span> c, ne[idx] <span style=color:#f92672>=</span> h[a], h[a] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> countRestrictedPaths(<span style=color:#66d9ef>int</span> n, vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;&amp;</span> edges) {
</span></span><span style=display:flex><span>        idx <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;</span>e : edges) {
</span></span><span style=display:flex><span>            add(e[<span style=color:#ae81ff>0</span>], e[<span style=color:#ae81ff>1</span>], e[<span style=color:#ae81ff>2</span>]);
</span></span><span style=display:flex><span>            add(e[<span style=color:#ae81ff>1</span>], e[<span style=color:#ae81ff>0</span>], e[<span style=color:#ae81ff>2</span>]);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> dist(n <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, INT_MAX);
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>bool</span><span style=color:#f92672>&gt;</span> st(n <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, false);
</span></span><span style=display:flex><span>        priority_queue<span style=color:#f92672>&lt;</span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> Q;
</span></span><span style=display:flex><span>        Q.push({<span style=color:#ae81ff>0</span>, n});
</span></span><span style=display:flex><span>        dist[n] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>Q.empty()) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> [wgt, u] <span style=color:#f92672>=</span> Q.top();
</span></span><span style=display:flex><span>            Q.pop();
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (st[u]) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>            st[u] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>            dist[u] <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>wgt;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[u]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (<span style=color:#f92672>-</span>wgt <span style=color:#f92672>+</span> w[i] <span style=color:#f92672>&lt;</span> dist[v]) {
</span></span><span style=display:flex><span>                    dist[v] <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>wgt <span style=color:#f92672>+</span> w[i];
</span></span><span style=display:flex><span>                    Q.push({<span style=color:#f92672>-</span>dist[v], v});
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mod <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e9</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>7</span>;
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> f(n <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, INT_MAX);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        function<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>(<span style=color:#66d9ef>int</span>)<span style=color:#f92672>&gt;</span> dfs <span style=color:#f92672>=</span> [<span style=color:#f92672>&amp;</span>](<span style=color:#66d9ef>int</span> u) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (u <span style=color:#f92672>==</span> n) <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (f[u] <span style=color:#f92672>!=</span> INT_MAX) <span style=color:#66d9ef>return</span> f[u];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[u]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (dist[u] <span style=color:#f92672>&gt;</span> dist[v])
</span></span><span style=display:flex><span>                    ans <span style=color:#f92672>=</span> (ans <span style=color:#f92672>+</span> dfs(v)) <span style=color:#f92672>%</span> mod;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> f[u] <span style=color:#f92672>=</span> ans;
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=公共钥匙盒-模拟>公共钥匙盒-模拟<a hidden class=anchor aria-hidden=true href=#公共钥匙盒-模拟>#</a></h3><p><a href=https://www.acwing.com/problem/content/3251/>题目链接</a></p><h4 id=代码-69>代码<a hidden class=anchor aria-hidden=true href=#代码-69>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;tuple&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1005</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> T[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, k, a[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	ios<span style=color:#f92672>::</span>sync_with_stdio(false);
</span></span><span style=display:flex><span>	cin.tie(<span style=color:#66d9ef>nullptr</span>), cout.tie(<span style=color:#66d9ef>nullptr</span>);
</span></span><span style=display:flex><span>	priority_queue<span style=color:#f92672>&lt;</span>tuple<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>bool</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> Q;
</span></span><span style=display:flex><span>	cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> k;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> w, s, c;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>		a[i] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (k<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>		cin <span style=color:#f92672>&gt;&gt;</span> w <span style=color:#f92672>&gt;&gt;</span> s <span style=color:#f92672>&gt;&gt;</span> c;
</span></span><span style=display:flex><span>		T[w] <span style=color:#f92672>=</span> {s, c};
</span></span><span style=display:flex><span>		Q.push({ <span style=color:#f92672>-</span>s, false, <span style=color:#f92672>-</span>w});
</span></span><span style=display:flex><span>		Q.push({ <span style=color:#f92672>-</span>(s <span style=color:#f92672>+</span> c), true, <span style=color:#f92672>-</span>w});
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (Q.size()) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> Q.top();
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>auto</span> t <span style=color:#f92672>=</span> get<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>0</span><span style=color:#f92672>&gt;</span>(it);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>auto</span> b <span style=color:#f92672>=</span> get<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>&gt;</span>(it);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>auto</span> w <span style=color:#f92672>=</span> get<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>2</span><span style=color:#f92672>&gt;</span>(it);
</span></span><span style=display:flex><span>		Q.pop();
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>b) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>if</span> (a[i] <span style=color:#f92672>==</span> <span style=color:#f92672>-</span>w) {
</span></span><span style=display:flex><span>					a[i] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>					<span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>a[i]) {
</span></span><span style=display:flex><span>					a[i] <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>w;
</span></span><span style=display:flex><span>					<span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>		cout <span style=color:#f92672>&lt;&lt;</span> a[i] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=基本计算器-栈>基本计算器-栈<a hidden class=anchor aria-hidden=true href=#基本计算器-栈>#</a></h3><p><a href=https://leetcode-cn.com/problems/basic-calculator/>题目链接</a></p><h4 id=代码-70>代码<a hidden class=anchor aria-hidden=true href=#代码-70>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> calculate(string s) {
</span></span><span style=display:flex><span>        stack<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> sign;
</span></span><span style=display:flex><span>        sign.push(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> cur <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> s.length();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (s[i] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39; &#39;</span>) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>if</span> (s[i] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;+&#39;</span>) cur <span style=color:#f92672>=</span> sign.top();
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>if</span> (s[i] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;-&#39;</span>) cur <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>sign.top();
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>if</span> (s[i] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;(&#39;</span>) sign.push(cur);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>if</span> (s[i] <span style=color:#f92672>==</span> <span style=color:#960050;background-color:#1e0010>&#39;</span>)<span style=color:#960050;background-color:#1e0010>&#39;</span>) sign.pop();
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> sum <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>while</span> (i <span style=color:#f92672>&lt;</span> n <span style=color:#f92672>&amp;&amp;</span> s[i] <span style=color:#f92672>&gt;=</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>&amp;&amp;</span> s[i] <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;9&#39;</span>) {
</span></span><span style=display:flex><span>                    sum <span style=color:#f92672>=</span> sum <span style=color:#f92672>*</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>+</span> (s[i] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>);
</span></span><span style=display:flex><span>                    <span style=color:#f92672>++</span>i;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                <span style=color:#f92672>--</span>i;
</span></span><span style=display:flex><span>                ans <span style=color:#f92672>+=</span> sum <span style=color:#f92672>*</span> cur;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=基本计算器ii-栈>基本计算器II-栈<a hidden class=anchor aria-hidden=true href=#基本计算器ii-栈>#</a></h3><p><a href=https://leetcode-cn.com/problems/basic-calculator-ii/>题目链接</a></p><h4 id=思路-43>思路<a hidden class=anchor aria-hidden=true href=#思路-43>#</a></h4><ul><li>如果数字前是+, 将数字压栈</li><li>如果数字前是-, 将数字相反数压栈</li><li>如果数字前是*, 将栈顶元素乘以数字</li><li>如果数字前是/, 将栈顶元素除以数字</li></ul><h4 id=代码-71>代码<a hidden class=anchor aria-hidden=true href=#代码-71>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>calculate</span>(<span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stack</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{}
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>num</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pre</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#39;+&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span>(<span style=color:#a6e22e>s</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>&gt;=</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;9&#39;</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>num</span> = <span style=color:#a6e22e>num</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>+</span> int(<span style=color:#a6e22e>v</span> <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (!(<span style=color:#a6e22e>v</span> <span style=color:#f92672>&gt;=</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;9&#39;</span>) <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39; &#39;</span>) <span style=color:#f92672>||</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>==</span> len(<span style=color:#a6e22e>s</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>pre</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;+&#39;</span>: <span style=color:#a6e22e>stack</span> = append(<span style=color:#a6e22e>stack</span>, <span style=color:#a6e22e>num</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;-&#39;</span>: <span style=color:#a6e22e>stack</span> = append(<span style=color:#a6e22e>stack</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>num</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;*&#39;</span>: <span style=color:#a6e22e>stack</span>[len(<span style=color:#a6e22e>stack</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>*=</span> <span style=color:#a6e22e>num</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;/&#39;</span>: <span style=color:#a6e22e>stack</span>[len(<span style=color:#a6e22e>stack</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>/=</span> <span style=color:#a6e22e>num</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pre</span> = <span style=color:#a6e22e>v</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>num</span> = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span>(<span style=color:#a6e22e>stack</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>v</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=验证二叉树的前序序列化>验证二叉树的前序序列化<a hidden class=anchor aria-hidden=true href=#验证二叉树的前序序列化>#</a></h3><p><a href=https://leetcode-cn.com/problems/verify-preorder-serialization-of-a-binary-tree/>题目链接</a></p><h4 id=解题思路-1>解题思路<a hidden class=anchor aria-hidden=true href=#解题思路-1>#</a></h4><p>遍历过程中：</p><ul><li>根结点提供两个出度</li><li>除了根结点以外的非空结点提供一个入度数、两个出度</li><li>空结点提供一个入度</li></ul><p>还没遍历结束时候满足：入度 &lt; 出度</p><h4 id=代码-72>代码<a hidden class=anchor aria-hidden=true href=#代码-72>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>isValidSerialization</span>(<span style=color:#a6e22e>preorder</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>preorder</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;#&#34;</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>res</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Split</span>(<span style=color:#a6e22e>preorder</span>, <span style=color:#e6db74>&#34;,&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>in</span>, <span style=color:#a6e22e>out</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span>(<span style=color:#a6e22e>res</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>res</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;#&#34;</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>out</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>res</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;#&#34;</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>in</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>in</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>out</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>!=</span> len(<span style=color:#a6e22e>res</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>out</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>in</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>in</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>out</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=设计哈希集合>设计哈希集合<a hidden class=anchor aria-hidden=true href=#设计哈希集合>#</a></h3><p><a href=https://leetcode-cn.com/problems/design-hashset/>题目链接</a></p><h4 id=思路-44>思路<a hidden class=anchor aria-hidden=true href=#思路-44>#</a></h4><p>拉链法</p><h4 id=代码-73>代码<a hidden class=anchor aria-hidden=true href=#代码-73>#</a></h4><h5 id=c-1>C++<a hidden class=anchor aria-hidden=true href=#c-1>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>constexpr</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>10007</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyHashSet</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> h[N], e[N], ne[N], idx;
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** Initialize your data structure here. */</span>
</span></span><span style=display:flex><span>    MyHashSet() {
</span></span><span style=display:flex><span>        idx <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> key) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>contains(key)) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> key <span style=color:#f92672>%</span> N;
</span></span><span style=display:flex><span>            e[idx] <span style=color:#f92672>=</span> key;
</span></span><span style=display:flex><span>            ne[idx] <span style=color:#f92672>=</span> h[k];
</span></span><span style=display:flex><span>            h[k] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>remove</span>(<span style=color:#66d9ef>int</span> key) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> key <span style=color:#f92672>%</span> N;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (h[k] <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (e[h[k]] <span style=color:#f92672>==</span> key) <span style=color:#75715e>// 第一个结点就是
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            h[k] <span style=color:#f92672>=</span> ne[h[k]];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[k]; <span style=color:#f92672>~</span>i <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>~</span>ne[i]; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (e[ne[i]] <span style=color:#f92672>==</span> key) {
</span></span><span style=display:flex><span>                ne[i] <span style=color:#f92672>=</span> ne[ne[i]];
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** Returns true if this set contains the specified element */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>contains</span>(<span style=color:#66d9ef>int</span> key) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> key <span style=color:#f92672>%</span> N;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[k]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (e[i] <span style=color:#f92672>==</span> key) <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h5 id=golang-1>Golang<a hidden class=anchor aria-hidden=true href=#golang-1>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>N</span> = <span style=color:#ae81ff>10007</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>MyHashSet</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>h</span> []<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>e</span> []<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ne</span> []<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>idx</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Initialize your data structure here. */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Constructor</span>() <span style=color:#a6e22e>MyHashSet</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>t</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>N</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span>(<span style=color:#a6e22e>t</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>t</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>MyHashSet</span>{<span style=color:#a6e22e>t</span>, make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>N</span>), make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>N</span>), <span style=color:#ae81ff>0</span>}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MyHashSet</span>) <span style=color:#a6e22e>Add</span>(<span style=color:#a6e22e>key</span> <span style=color:#66d9ef>int</span>)  {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>Contains</span>(<span style=color:#a6e22e>key</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>key</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>N</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>idx</span>] = <span style=color:#a6e22e>key</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>idx</span>] = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>idx</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>idx</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MyHashSet</span>) <span style=color:#a6e22e>Remove</span>(<span style=color:#a6e22e>key</span> <span style=color:#66d9ef>int</span>)  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>key</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>N</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>] <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]] <span style=color:#f92672>==</span> <span style=color:#a6e22e>key</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]; <span style=color:#a6e22e>i</span> <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>]] <span style=color:#f92672>==</span> <span style=color:#a6e22e>key</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>]]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Returns true if this set contains the specified element */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MyHashSet</span>) <span style=color:#a6e22e>Contains</span>(<span style=color:#a6e22e>key</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>key</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>N</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]; <span style=color:#a6e22e>i</span> <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>key</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=设计哈希映射>设计哈希映射<a hidden class=anchor aria-hidden=true href=#设计哈希映射>#</a></h3><p><a href=https://leetcode-cn.com/problems/design-hashmap/>题目链接</a></p><h4 id=思路-45>思路<a hidden class=anchor aria-hidden=true href=#思路-45>#</a></h4><p>拉链法</p><h4 id=代码-74>代码<a hidden class=anchor aria-hidden=true href=#代码-74>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>N</span> = <span style=color:#ae81ff>10007</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Pair</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>k</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>v</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>MyHashMap</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>h</span> []<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>e</span> []<span style=color:#a6e22e>Pair</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ne</span> []<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>idx</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Initialize your data structure here. */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Constructor</span>() <span style=color:#a6e22e>MyHashMap</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>h</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>N</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span>(<span style=color:#a6e22e>h</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>MyHashMap</span>{<span style=color:#a6e22e>h</span>, make([]<span style=color:#a6e22e>Pair</span>, <span style=color:#a6e22e>N</span>), make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>N</span>), <span style=color:#ae81ff>0</span>}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** value will always be non-negative. */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MyHashMap</span>) <span style=color:#a6e22e>Put</span>(<span style=color:#a6e22e>key</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>value</span> <span style=color:#66d9ef>int</span>)  {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>key</span>) <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>key</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>N</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>idx</span>] = <span style=color:#a6e22e>Pair</span>{<span style=color:#a6e22e>key</span>, <span style=color:#a6e22e>value</span>}
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>idx</span>] = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>idx</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>idx</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>key</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>N</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]; <span style=color:#a6e22e>i</span> <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>k</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>key</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>v</span> = <span style=color:#a6e22e>value</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Returns the value to which the specified key is mapped, or -1 if this map contains no mapping for the key */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MyHashMap</span>) <span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>key</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>key</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>N</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]; <span style=color:#a6e22e>i</span> <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>k</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>key</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>v</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Removes the mapping of the specified value key if this map contains a mapping for the key */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MyHashMap</span>) <span style=color:#a6e22e>Remove</span>(<span style=color:#a6e22e>key</span> <span style=color:#66d9ef>int</span>)  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>key</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>N</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>] <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]].<span style=color:#a6e22e>k</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>key</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]; <span style=color:#a6e22e>i</span> <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>]].<span style=color:#a6e22e>k</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>key</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>]]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=不同的子序列-dp>不同的子序列-DP<a hidden class=anchor aria-hidden=true href=#不同的子序列-dp>#</a></h3><h4 id=思路-46>思路<a hidden class=anchor aria-hidden=true href=#思路-46>#</a></h4><p>$$
f[i][j] =
\begin{cases}
f[i+1][j+1] + f[i+1][j], &s[i] = t[j]& \cr
f[i+1][j], &s[i] \ne t[j]
\end{cases}
$$</p><h4 id=代码-75>代码<a hidden class=anchor aria-hidden=true href=#代码-75>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>numDistinct</span>(<span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>t</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>m</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>s</span>), len(<span style=color:#a6e22e>t</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>n</span> &lt; <span style=color:#a6e22e>m</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> make([][]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>f</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] = make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>m</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>m</span>] = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>--</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>m</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>--</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>t</span>[<span style=color:#a6e22e>j</span>] {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span>]
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span>]
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=反转链表ii>反转链表II<a hidden class=anchor aria-hidden=true href=#反转链表ii>#</a></h3><p><a href=https://leetcode-cn.com/problems/reverse-linked-list-ii/>题目链接</a></p><h4 id=思路-47>思路<a hidden class=anchor aria-hidden=true href=#思路-47>#</a></h4><ul><li>创建头结点</li><li><code>a := m-1</code></li><li>将<code>[m+1,n]</code>指针反转</li><li><code>a->next->next = n+1</code></li><li><code>a->next = n</code></li></ul><h4 id=代码-76>代码<a hidden class=anchor aria-hidden=true href=#代码-76>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>reverseBetween</span>(<span style=color:#a6e22e>head</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span>, <span style=color:#a6e22e>left</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>right</span> <span style=color:#66d9ef>int</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dummy</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>ListNode</span>{<span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>head</span>}
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>dummy</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>left</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>a</span> = <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Next</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pre</span>, <span style=color:#a6e22e>cur</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Next</span>, <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Next</span>.<span style=color:#a6e22e>Next</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>right</span><span style=color:#f92672>-</span><span style=color:#a6e22e>left</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>tmp</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cur</span>.<span style=color:#a6e22e>Next</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cur</span>.<span style=color:#a6e22e>Next</span> = <span style=color:#a6e22e>pre</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>pre</span> = <span style=color:#a6e22e>cur</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cur</span> = <span style=color:#a6e22e>tmp</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Next</span>.<span style=color:#a6e22e>Next</span> = <span style=color:#a6e22e>cur</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Next</span> = <span style=color:#a6e22e>pre</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>dummy</span>.<span style=color:#a6e22e>Next</span>    
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=反转链表>反转链表<a hidden class=anchor aria-hidden=true href=#反转链表>#</a></h3><p><a href=https://www.acwing.com/problem/content/33/>题目链接</a></p><h4 id=迭代法>迭代法<a hidden class=anchor aria-hidden=true href=#迭代法>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>reverseList</span>(<span style=color:#a6e22e>head</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>pre</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cur</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>head</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>cur</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>tmp</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cur</span>.<span style=color:#a6e22e>Next</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cur</span>.<span style=color:#a6e22e>Next</span> = <span style=color:#a6e22e>pre</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>pre</span> = <span style=color:#a6e22e>cur</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cur</span> = <span style=color:#a6e22e>tmp</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>pre</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=递归法>递归法<a hidden class=anchor aria-hidden=true href=#递归法>#</a></h4><h5 id=思路-48>思路<a hidden class=anchor aria-hidden=true href=#思路-48>#</a></h5><ul><li>首先我们先考虑 reverseList 函数能做什么，它可以翻转一个链表，并返回新链表的头节点，也就是原链表的尾节点。</li><li>所以我们可以先递归处理 reverseList(head->next)，这样我们可以将以head->next为头节点的链表翻转，并得到原链表的尾节点tail，此时head->next是新链表的尾节点，我们令它的next指针指向head，并将head->next指向空即可将整个链表翻转，且新链表的头节点是tail</li></ul><h5 id=代码-77>代码<a hidden class=anchor aria-hidden=true href=#代码-77>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>reverseList</span>(<span style=color:#a6e22e>head</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>head</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>head</span>.<span style=color:#a6e22e>Next</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>head</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>tail</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>reverseList</span>(<span style=color:#a6e22e>head</span>.<span style=color:#a6e22e>Next</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>head</span>.<span style=color:#a6e22e>Next</span>.<span style=color:#a6e22e>Next</span> = <span style=color:#a6e22e>head</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>head</span>.<span style=color:#a6e22e>Next</span> = <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>tail</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=表达式求值-栈>表达式求值-栈<a hidden class=anchor aria-hidden=true href=#表达式求值-栈>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/3305/>题目链接</a></p><h4 id=思路-49>思路<a hidden class=anchor aria-hidden=true href=#思路-49>#</a></h4><ul><li>使用两个栈，一个存操作数，另一个存运算符</li><li>遇到左括号入栈，遇到右括号进行计算直到栈顶为左括号</li></ul><h4 id=代码-78>代码<a hidden class=anchor aria-hidden=true href=#代码-78>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;unordered_map&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stack&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	string str;
</span></span><span style=display:flex><span>	cin <span style=color:#f92672>&gt;&gt;</span> str;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> str.length();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	stack<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> stk;
</span></span><span style=display:flex><span>	stack<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>char</span><span style=color:#f92672>&gt;</span> op;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>auto</span> calculate <span style=color:#f92672>=</span> [<span style=color:#f92672>&amp;</span>]() {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> stk.top();
</span></span><span style=display:flex><span>		stk.pop();
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> b <span style=color:#f92672>=</span> stk.top();
</span></span><span style=display:flex><span>		stk.pop();
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>char</span> c <span style=color:#f92672>=</span> op.top();
</span></span><span style=display:flex><span>		op.pop();
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>switch</span> (c) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;+&#39;</span><span style=color:#f92672>:</span> stk.push(b <span style=color:#f92672>+</span> a); <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;-&#39;</span><span style=color:#f92672>:</span> stk.push(b <span style=color:#f92672>-</span> a); <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;*&#39;</span><span style=color:#f92672>:</span> stk.push(b <span style=color:#f92672>*</span> a); <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;/&#39;</span><span style=color:#f92672>:</span> stk.push(b <span style=color:#f92672>/</span> a); <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	unordered_map<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>char</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> mp <span style=color:#f92672>=</span> {{<span style=color:#e6db74>&#39;+&#39;</span>, <span style=color:#ae81ff>1</span>}, {<span style=color:#e6db74>&#39;-&#39;</span>, <span style=color:#ae81ff>1</span>}, {<span style=color:#e6db74>&#39;*&#39;</span>, <span style=color:#ae81ff>2</span>}, {<span style=color:#e6db74>&#39;/&#39;</span>, <span style=color:#ae81ff>2</span>}};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>auto</span> c <span style=color:#f92672>=</span> str[i];
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (isdigit(c)) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>int</span> num <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>while</span> (j <span style=color:#f92672>&lt;</span> n <span style=color:#f92672>&amp;&amp;</span> isdigit(str[j])) {
</span></span><span style=display:flex><span>				num <span style=color:#f92672>=</span> num <span style=color:#f92672>*</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>+</span> str[j] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>;
</span></span><span style=display:flex><span>				j<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			stk.push(num);
</span></span><span style=display:flex><span>			i <span style=color:#f92672>=</span> j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>		} <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (c <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;(&#39;</span>) {
</span></span><span style=display:flex><span>			op.push(c);
</span></span><span style=display:flex><span>		} <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (c <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;)&#39;</span>) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>while</span> (op.size() <span style=color:#f92672>&amp;&amp;</span> op.top() <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;(&#39;</span>) {
</span></span><span style=display:flex><span>				calculate();
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			op.pop();
</span></span><span style=display:flex><span>		} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>while</span> (op.size() <span style=color:#f92672>&amp;&amp;</span> mp[op.top()] <span style=color:#f92672>&gt;=</span> mp[c]) {
</span></span><span style=display:flex><span>				calculate();
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			op.push(c);
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (op.size()) {
</span></span><span style=display:flex><span>		calculate();
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	cout <span style=color:#f92672>&lt;&lt;</span> stk.top() <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=矩阵置零>矩阵置零<a hidden class=anchor aria-hidden=true href=#矩阵置零>#</a></h3><p><a href=https://leetcode-cn.com/problems/set-matrix-zeroes/>题目链接</a></p><h4 id=思路-50>思路<a hidden class=anchor aria-hidden=true href=#思路-50>#</a></h4><ul><li>用两个变量记录第一行和第一列是否有0。</li><li>遍历整个矩阵，用矩阵的第一行和第一列记录对应的行和列是否有0。</li><li>把含有0的行和列都置成0。</li></ul><h4 id=代码-79>代码<a hidden class=anchor aria-hidden=true href=#代码-79>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>setZeroes</span>(<span style=color:#a6e22e>matrix</span> [][]<span style=color:#66d9ef>int</span>)  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>m</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>matrix</span>), len(<span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>r0</span>, <span style=color:#a6e22e>c0</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 第0行是否应该置为0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>0</span>][<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>r0</span> = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 第0列是否应该置为0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>c0</span> = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span> &lt; <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>0</span>] = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>0</span>][<span style=color:#a6e22e>j</span>] = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// matrix[0][i]表示第i列是否该置为0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// matrix[i][0]表示第i行是否该置为0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// 把含有0的行和列都置成0 用第0行和第0列标记
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>0</span>][<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>j</span>][<span style=color:#a6e22e>i</span>] = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span> &lt; <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>r0</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>0</span>][<span style=color:#a6e22e>i</span>] = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>c0</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>0</span>] = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=不用加减乘除做加法>不用加减乘除做加法<a hidden class=anchor aria-hidden=true href=#不用加减乘除做加法>#</a></h3><p><a href=https://www.acwing.com/problem/content/81/>题目链接</a></p><h4 id=思路-51>思路<a hidden class=anchor aria-hidden=true href=#思路-51>#</a></h4><ul><li>两个整数做异或运算，得到不进位加法的运算结果</li><li>两个整数做与运算，然后左移一位，得到进位的运算结果</li><li>将上面得到的两个结果相加，即重复上述步骤直到进位的结果为0</li></ul><h4 id=代码-80>代码<a hidden class=anchor aria-hidden=true href=#代码-80>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>num1</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>num2</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>num2</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>sum</span>, <span style=color:#a6e22e>carry</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>num1</span> ^ <span style=color:#a6e22e>num2</span>, (<span style=color:#a6e22e>num1</span> <span style=color:#f92672>&amp;</span> <span style=color:#a6e22e>num2</span>) <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>num1</span>, <span style=color:#a6e22e>num2</span> = <span style=color:#a6e22e>sum</span>, <span style=color:#a6e22e>carry</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>num1</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=132模式-单调栈>132模式-单调栈<a hidden class=anchor aria-hidden=true href=#132模式-单调栈>#</a></h3><p><a href=https://leetcode-cn.com/problems/132-pattern/>题目链接</a></p><h4 id=思路-52>思路<a hidden class=anchor aria-hidden=true href=#思路-52>#</a></h4><ul><li>从右到左维护一个单调递减的栈</li><li>维护一个次大值(初始值为INT_MIN)</li><li>如果当前的值小于次大值则找到132子序列</li></ul><h4 id=代码-81>代码<a hidden class=anchor aria-hidden=true href=#代码-81>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>find132pattern</span>(<span style=color:#a6e22e>nums</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>nums</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>stk</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>second</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>math</span>.<span style=color:#a6e22e>MinInt64</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>--</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>] &lt; <span style=color:#a6e22e>second</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> len(<span style=color:#a6e22e>stk</span>) &gt; <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>stk</span>[len(<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] &lt; <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>second</span> = <span style=color:#a6e22e>stk</span>[len(<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>stk</span> = <span style=color:#a6e22e>stk</span>[:len(<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>stk</span> = append(<span style=color:#a6e22e>stk</span>, <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=直方图中最大矩形-单调栈>直方图中最大矩形-单调栈<a hidden class=anchor aria-hidden=true href=#直方图中最大矩形-单调栈>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/133/>题目链接</a></p><h4 id=思路-53>思路<a hidden class=anchor aria-hidden=true href=#思路-53>#</a></h4><p>单调栈可以解决：左边比当前值大或小的第一个数</p><h4 id=代码-82>代码<a hidden class=anchor aria-hidden=true href=#代码-82>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>constexpr</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>100005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, h[N], l[N], r[N], stk[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>work</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) 
</span></span><span style=display:flex><span>		scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>h[i]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 设置边界为-1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	h[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> h[n<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 寻找左边界
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	stk[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> tt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>while</span> (h[stk[tt]] <span style=color:#f92672>&gt;=</span> h[i]) {
</span></span><span style=display:flex><span>			tt<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		l[i] <span style=color:#f92672>=</span> stk[tt];
</span></span><span style=display:flex><span>		stk[<span style=color:#f92672>++</span>tt] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 寻找左边界
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	stk[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> n<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>	tt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>while</span> (h[stk[tt]] <span style=color:#f92672>&gt;=</span> h[i]) {
</span></span><span style=display:flex><span>			tt<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		r[i] <span style=color:#f92672>=</span> stk[tt];
</span></span><span style=display:flex><span>		stk[<span style=color:#f92672>++</span>tt] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>		ans <span style=color:#f92672>=</span> max(ans, h[i] <span style=color:#f92672>*</span> <span style=color:#ae81ff>1ll</span> <span style=color:#f92672>*</span> (r[i]<span style=color:#f92672>-</span>l[i]<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>));
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	printf(<span style=color:#e6db74>&#34;%lld</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, ans);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>n)) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>n) <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>		work();
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=删除排序链表中的重复元素>删除排序链表中的重复元素<a hidden class=anchor aria-hidden=true href=#删除排序链表中的重复元素>#</a></h3><p><a href=https://leetcode-cn.com/problems/remove-duplicates-from-sorted-list-ii/>题目链接</a></p><h4 id=思路-54>思路<a hidden class=anchor aria-hidden=true href=#思路-54>#</a></h4><ul><li><code>pre</code>保存当前结点前驱结点</li><li>找到右边第一个不相等的结点<code>right</code></li><li>如果<code>cur.Next == right</code>则不用删，否则<code>pre.Next = right</code>删除</li></ul><h4 id=代码-83>代码<a hidden class=anchor aria-hidden=true href=#代码-83>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>deleteDuplicates</span>(<span style=color:#a6e22e>head</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>head</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>head</span>.<span style=color:#a6e22e>Next</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>head</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pre</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>ListNode</span>{<span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>head</span>}
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span>, <span style=color:#a6e22e>cur</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>pre</span>, <span style=color:#a6e22e>head</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>cur</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>right</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cur</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>right</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>right</span>.<span style=color:#a6e22e>Val</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>cur</span>.<span style=color:#a6e22e>Val</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>right</span> = <span style=color:#a6e22e>right</span>.<span style=color:#a6e22e>Next</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>cur</span>.<span style=color:#a6e22e>Next</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>right</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pre</span> = <span style=color:#a6e22e>cur</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pre</span>.<span style=color:#a6e22e>Next</span> = <span style=color:#a6e22e>right</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cur</span> = <span style=color:#a6e22e>right</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>.<span style=color:#a6e22e>Next</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=可达性统计-拓扑排序>可达性统计-拓扑排序<a hidden class=anchor aria-hidden=true href=#可达性统计-拓扑排序>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/166/>题目链接</a></p><h4 id=思路-55>思路<a hidden class=anchor aria-hidden=true href=#思路-55>#</a></h4><ul><li>从x出发能够到达的点，是从“x的各个后续节点y”出发能够到达的点的并集，再加上x点本身</li><li>可以求出拓扑序，按照拓扑序逆序进行计算</li></ul><h4 id=代码-84>代码<a hidden class=anchor aria-hidden=true href=#代码-84>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bitset&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>30005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], ne[N], e[N], idx, d[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>	e[idx] <span style=color:#f92672>=</span> b, ne[idx] <span style=color:#f92672>=</span> h[a], h[a] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> seq[N], cnt;
</span></span><span style=display:flex><span>bitset<span style=color:#f92672>&lt;</span>N<span style=color:#f92672>&gt;</span> f[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>toposort</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> que[N];
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> hh <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, tt <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>d[i]) que[<span style=color:#f92672>++</span>tt] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (hh <span style=color:#f92672>&lt;=</span> tt) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> front <span style=color:#f92672>=</span> que[hh<span style=color:#f92672>++</span>];
</span></span><span style=display:flex><span>		seq[cnt<span style=color:#f92672>++</span>] <span style=color:#f92672>=</span> front;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[front]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> (<span style=color:#f92672>--</span>d[j] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>				que[<span style=color:#f92672>++</span>tt] <span style=color:#f92672>=</span> j;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>	scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> a, b;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>		scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>a, <span style=color:#f92672>&amp;</span>b);
</span></span><span style=display:flex><span>		add(a, b);
</span></span><span style=display:flex><span>		d[b]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	toposort();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#f92672>~</span>i; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> seq[i];
</span></span><span style=display:flex><span>		f[j][j] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> h[j]; <span style=color:#f92672>~</span>k; k <span style=color:#f92672>=</span> ne[k]) {
</span></span><span style=display:flex><span>			f[j] <span style=color:#f92672>|=</span> f[e[k]];
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>		printf(<span style=color:#e6db74>&#34;%lld</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, f[i].count());
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=二叉树的下一个结点>二叉树的下一个结点<a hidden class=anchor aria-hidden=true href=#二叉树的下一个结点>#</a></h3><p><a href=https://www.acwing.com/problem/content/31/>题目链接</a></p><h4 id=思路-56>思路<a hidden class=anchor aria-hidden=true href=#思路-56>#</a></h4><ol><li>若当前结点有右儿子，则右子树中最左侧的结点就是当前结点的后继</li><li>如果当前没有右儿子，则要沿着<code>father</code>域一直向上找，找到第一个是其<code>father</code>左儿子的结点，该结点的<code>father</code>就是当前结点的后继</li></ol><h4 id=代码-85>代码<a hidden class=anchor aria-hidden=true href=#代码-85>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>inorderSuccessor</span>(<span style=color:#a6e22e>p</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Right</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>p</span> = <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Right</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Left</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>p</span> = <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Left</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>p</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Father</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>p</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Father</span>.<span style=color:#a6e22e>Right</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>p</span> = <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Father</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Father</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=二叉搜索树迭代器-中序遍历非递归>二叉搜索树迭代器-中序遍历非递归<a hidden class=anchor aria-hidden=true href=#二叉搜索树迭代器-中序遍历非递归>#</a></h3><p><a href=https://leetcode-cn.com/problems/binary-search-tree-iterator/>题目链接</a></p><h4 id=思路-57>思路<a hidden class=anchor aria-hidden=true href=#思路-57>#</a></h4><ul><li>将根节点的左链入栈</li><li>当取出一个元素后，如果这个结点有右子树，则将其右子树的左链入栈</li></ul><h4 id=代码-86>代码<a hidden class=anchor aria-hidden=true href=#代码-86>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>BSTIterator</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stk</span> []<span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Constructor</span>(<span style=color:#a6e22e>root</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>) <span style=color:#a6e22e>BSTIterator</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stk</span> <span style=color:#f92672>:=</span> make([](<span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>), <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>root</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>stk</span> = append(<span style=color:#a6e22e>stk</span>, <span style=color:#a6e22e>root</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>root</span> = <span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>Left</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>BSTIterator</span>{<span style=color:#a6e22e>stk</span>}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>BSTIterator</span>) <span style=color:#a6e22e>Next</span>() <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>root</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>stk</span>[len(<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>stk</span> = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>stk</span>[:len(<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ret</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>Val</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>root</span> = <span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>Right</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>root</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>stk</span> = append(<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>stk</span>, <span style=color:#a6e22e>root</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>root</span> = <span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>Left</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ret</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>BSTIterator</span>) <span style=color:#a6e22e>HasNext</span>() <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> len(<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>stk</span>) &gt; <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=翻转单词顺序>翻转单词顺序<a hidden class=anchor aria-hidden=true href=#翻转单词顺序>#</a></h3><p><a href=https://www.acwing.com/problem/content/73/>题目链接</a></p><h4 id=思路-58>思路<a hidden class=anchor aria-hidden=true href=#思路-58>#</a></h4><ol><li>将整个字符串翻转</li><li>翻转每个单词</li></ol><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(1)$</td></tr></tbody></table><h4 id=代码-87>代码<a hidden class=anchor aria-hidden=true href=#代码-87>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    string reverseWords(string s) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> s.length();
</span></span><span style=display:flex><span>        reverse(begin(s), end(s));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> (j <span style=color:#f92672>&lt;</span> n <span style=color:#f92672>&amp;&amp;</span> s[j] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39; &#39;</span>) <span style=color:#f92672>++</span>j;
</span></span><span style=display:flex><span>            reverse(begin(s) <span style=color:#f92672>+</span> i, begin(s) <span style=color:#f92672>+</span> j);
</span></span><span style=display:flex><span>            i <span style=color:#f92672>=</span> j;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> s;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=搜索二维矩阵-二分>搜索二维矩阵-二分<a hidden class=anchor aria-hidden=true href=#搜索二维矩阵-二分>#</a></h3><p><a href=https://leetcode-cn.com/problems/search-a-2d-matrix/>题目链接</a></p><h4 id=代码-88>代码<a hidden class=anchor aria-hidden=true href=#代码-88>#</a></h4><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(log(n^2)) = O(logn)$</td><td>$O(1)$</td></tr></tbody></table><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>searchMatrix</span>(<span style=color:#a6e22e>M</span> [][]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>target</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>m</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>M</span>), len(<span style=color:#a6e22e>M</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>l</span>, <span style=color:#a6e22e>r</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>n</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>m</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>l</span> &lt; <span style=color:#a6e22e>r</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>mid</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>l</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>mid</span><span style=color:#f92672>/</span><span style=color:#a6e22e>m</span>][<span style=color:#a6e22e>mid</span><span style=color:#f92672>%</span><span style=color:#a6e22e>m</span>] <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>target</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>l</span> = <span style=color:#a6e22e>mid</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>r</span> = <span style=color:#a6e22e>mid</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>l</span><span style=color:#f92672>/</span><span style=color:#a6e22e>m</span>][<span style=color:#a6e22e>l</span><span style=color:#f92672>%</span><span style=color:#a6e22e>m</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>target</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=二维数组中的查找>二维数组中的查找<a hidden class=anchor aria-hidden=true href=#二维数组中的查找>#</a></h3><p><a href=https://leetcode-cn.com/problems/er-wei-shu-zu-zhong-de-cha-zhao-lcof/>题目链接</a></p><h4 id=思路-59>思路<a hidden class=anchor aria-hidden=true href=#思路-59>#</a></h4><p>我们可以发现：<code>x</code>左边的数都小于等于<code>x</code>，<code>x</code>下边的数都大于等于<code>x</code></p><ol><li>如果 <code>x</code> 等于<code>target</code>，则说明我们找到了目标值，返回<code>true</code>；</li><li>如果 <code>x</code> 小于<code>target</code>，则 <code>x</code> 左边的数一定都小于<code>target</code>，我们可以直接排除当前一整行的数</li><li>如果 <code>x</code> 大于<code>target</code>，则 <code>x</code> 下边的数一定都大于<code>target</code>，我们可以直接排序当前一整列的数</li></ol><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(m+n)$</td><td>$O(1)$</td></tr></tbody></table><h4 id=代码-89>代码<a hidden class=anchor aria-hidden=true href=#代码-89>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>findNumberIn2DArray</span>(<span style=color:#a6e22e>M</span> [][]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>target</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> len(<span style=color:#a6e22e>M</span>) <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>, len(<span style=color:#a6e22e>M</span>[<span style=color:#ae81ff>0</span>]) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> &lt; len(<span style=color:#a6e22e>M</span>) <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>target</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] &lt; <span style=color:#a6e22e>target</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>j</span><span style=color:#f92672>--</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=子集ii>子集II<a hidden class=anchor aria-hidden=true href=#子集ii>#</a></h3><h4 id=思路-60>思路<a hidden class=anchor aria-hidden=true href=#思路-60>#</a></h4><ul><li>先排序，把所有相同的元素放在一起，之后统计相同元素个数，对于每个相同元素可以选择的次数为0-t(t表示元素出现次数)</li><li>将所有元素的所有次数可能相互组合即可得到所有解集</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n2^n)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-90>代码<a hidden class=anchor aria-hidden=true href=#代码-90>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> subsetsWithDup(vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&amp;</span> nums) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> nums.size();
</span></span><span style=display:flex><span>        sort(begin(nums), end(nums));
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> tmp;
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> ans;
</span></span><span style=display:flex><span>        function<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>void</span>(<span style=color:#66d9ef>int</span>)<span style=color:#f92672>&gt;</span> dfs <span style=color:#f92672>=</span> [<span style=color:#f92672>&amp;</span>](<span style=color:#66d9ef>int</span> u){
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (u <span style=color:#f92672>&gt;=</span> n) {
</span></span><span style=display:flex><span>                ans.emplace_back(tmp);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> (u <span style=color:#f92672>+</span> k <span style=color:#f92672>&lt;</span> n <span style=color:#f92672>&amp;&amp;</span> nums[u] <span style=color:#f92672>==</span> nums[u<span style=color:#f92672>+</span>k]) k<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;=</span> k; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                dfs(u <span style=color:#f92672>+</span> k);
</span></span><span style=display:flex><span>                tmp.emplace_back(nums[u]);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;=</span> k; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                tmp.pop_back();
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        dfs(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=递归实现组合型枚举>递归实现组合型枚举<a hidden class=anchor aria-hidden=true href=#递归实现组合型枚举>#</a></h3><p><a href=https://www.acwing.com/problem/content/95/>题目链接</a></p><h4 id=思路-61>思路<a hidden class=anchor aria-hidden=true href=#思路-61>#</a></h4><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(2^n)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-91>代码<a hidden class=anchor aria-hidden=true href=#代码-91>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>30</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> path[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// u是层数，start是起始值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> start) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (u <span style=color:#f92672>&gt;</span> m) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> m; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> path[i] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span>;
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> start; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        path[u] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>        dfs(u <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>        path[u] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    dfs(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=直方图的水量-单调栈dp>直方图的水量-单调栈|DP<a hidden class=anchor aria-hidden=true href=#直方图的水量-单调栈dp>#</a></h3><p><a href=https://leetcode-cn.com/problems/volume-of-histogram-lcci/>题目链接</a></p><h4 id=单调栈>单调栈<a hidden class=anchor aria-hidden=true href=#单调栈>#</a></h4><h5 id=思路-62>思路<a hidden class=anchor aria-hidden=true href=#思路-62>#</a></h5><ul><li>维护一个单调栈（严格递减），那么一定有<code>height[t] > height[left]</code>(left是栈顶下面的元素)</li><li>若<code>height[i] > height[t]</code>则可形成一个盛水区域，宽度为<code>i-left-1</code>，高度为<code>min(height[i], height[left])-height[t]</code></li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(n)$</td></tr></tbody></table><h5 id=代码-92>代码<a hidden class=anchor aria-hidden=true href=#代码-92>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>trap</span>(<span style=color:#a6e22e>height</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stk</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>height</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> len(<span style=color:#a6e22e>stk</span>) &gt; <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>&gt;=</span> <span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>stk</span>[len(<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>top</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>stk</span>[len(<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>stk</span> = <span style=color:#a6e22e>stk</span>[:len(<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> len(<span style=color:#a6e22e>stk</span>) <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>left</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>stk</span>[len(<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>ans</span> <span style=color:#f92672>+=</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>left</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> (<span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>left</span>])<span style=color:#f92672>-</span><span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>top</span>])
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>stk</span> = append(<span style=color:#a6e22e>stk</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &lt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=dp>DP<a hidden class=anchor aria-hidden=true href=#dp>#</a></h4><h5 id=思路-63>思路<a hidden class=anchor aria-hidden=true href=#思路-63>#</a></h5><p>对于下标 <code>i</code>，水能到达的最大高度等于下标 <code>i</code> 两边的最大高度的最小值，下标 <code>i</code> 处能接的水的量等于下标 <code>i</code> 处的水能到达的最大高度减去 <code>height[i]</code>。</p><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(n)$</td></tr></tbody></table><h5 id=代码-93>代码<a hidden class=anchor aria-hidden=true href=#代码-93>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>trap</span>(<span style=color:#a6e22e>height</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>height</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>left</span>, <span style=color:#a6e22e>right</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>), make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>left</span>[<span style=color:#ae81ff>0</span>] = <span style=color:#a6e22e>height</span>[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>left</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>left</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>], <span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>right</span>[<span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] = <span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>--</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>right</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>right</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>], <span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>height</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>left</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>right</span>[<span style=color:#a6e22e>i</span>]) <span style=color:#f92672>-</span> <span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &lt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=雨-最短路变形>雨-最短路变形<a hidden class=anchor aria-hidden=true href=#雨-最短路变形>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/594/>题目链接</a></p><h4 id=思路-64>思路<a hidden class=anchor aria-hidden=true href=#思路-64>#</a></h4><ul><li>将海水抽象为一个源点</li><li>求海水到每个点所经过的点的最大权值的最短路</li></ul><h4 id=代码-94>代码<a hidden class=anchor aria-hidden=true href=#代码-94>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span>  (
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;container/heap&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Node</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>x</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>y</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>d</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>NodeHeap</span> []<span style=color:#a6e22e>Node</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>n</span> <span style=color:#a6e22e>NodeHeap</span>) <span style=color:#a6e22e>Len</span>() <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> len(<span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>n</span> <span style=color:#a6e22e>NodeHeap</span>) <span style=color:#a6e22e>Swap</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span> <span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>n</span>[<span style=color:#a6e22e>j</span>] = <span style=color:#a6e22e>n</span>[<span style=color:#a6e22e>j</span>], <span style=color:#a6e22e>n</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>n</span> <span style=color:#a6e22e>NodeHeap</span>) <span style=color:#a6e22e>Less</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>n</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>d</span> &lt; <span style=color:#a6e22e>n</span>[<span style=color:#a6e22e>j</span>].<span style=color:#a6e22e>d</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>n</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>NodeHeap</span>) <span style=color:#a6e22e>Push</span>(<span style=color:#a6e22e>h</span> <span style=color:#66d9ef>interface</span>{}) {
</span></span><span style=display:flex><span>    <span style=color:#f92672>*</span><span style=color:#a6e22e>n</span> = append(<span style=color:#f92672>*</span><span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>h</span>.(<span style=color:#a6e22e>Node</span>))
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>n</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>NodeHeap</span>) <span style=color:#a6e22e>Pop</span>() (<span style=color:#a6e22e>x</span> <span style=color:#66d9ef>interface</span>{}) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>x</span> = (<span style=color:#f92672>*</span><span style=color:#a6e22e>n</span>)[len(<span style=color:#f92672>*</span><span style=color:#a6e22e>n</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>    <span style=color:#f92672>*</span><span style=color:#a6e22e>n</span> = (<span style=color:#f92672>*</span><span style=color:#a6e22e>n</span>)[:len(<span style=color:#f92672>*</span><span style=color:#a6e22e>n</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>T</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>T</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>m</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>C</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>C</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>T</span>; <span style=color:#a6e22e>C</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>m</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>h</span> <span style=color:#f92672>:=</span> make([][]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>dist</span> <span style=color:#f92672>:=</span> make([][]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>st</span> <span style=color:#f92672>:=</span> make([][]<span style=color:#66d9ef>bool</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>i</span>] = make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>m</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>st</span>[<span style=color:#a6e22e>i</span>] = make([]<span style=color:#66d9ef>bool</span>, <span style=color:#a6e22e>m</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>dist</span>[<span style=color:#a6e22e>i</span>] = make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>m</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>])
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>dist</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = int(^uint(<span style=color:#ae81ff>0</span>)<span style=color:#f92672>&gt;&gt;</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>hp</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>NodeHeap</span>{}
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>heap</span>.<span style=color:#a6e22e>Init</span>(<span style=color:#a6e22e>hp</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>heap</span>.<span style=color:#a6e22e>Push</span>(<span style=color:#a6e22e>hp</span>, <span style=color:#a6e22e>Node</span>{<span style=color:#a6e22e>i</span>, <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>1</span>]})
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>dist</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>1</span>] = <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>heap</span>.<span style=color:#a6e22e>Push</span>(<span style=color:#a6e22e>hp</span>, <span style=color:#a6e22e>Node</span>{<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>m</span>, <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>m</span>]})
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>dist</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>m</span>] = <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>m</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>heap</span>.<span style=color:#a6e22e>Push</span>(<span style=color:#a6e22e>hp</span>, <span style=color:#a6e22e>Node</span>{<span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>i</span>]})
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>dist</span>[<span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>heap</span>.<span style=color:#a6e22e>Push</span>(<span style=color:#a6e22e>hp</span>, <span style=color:#a6e22e>Node</span>{<span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>n</span>][<span style=color:#a6e22e>i</span>]})
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>dist</span>[<span style=color:#a6e22e>n</span>][<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>n</span>][<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>dx</span>, <span style=color:#a6e22e>dy</span> <span style=color:#f92672>:=</span> [<span style=color:#ae81ff>4</span>]<span style=color:#66d9ef>int</span>{<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>}, [<span style=color:#ae81ff>4</span>]<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>}
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>hp</span>.<span style=color:#a6e22e>Len</span>() &gt; <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>top</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>heap</span>.<span style=color:#a6e22e>Pop</span>(<span style=color:#a6e22e>hp</span>).(<span style=color:#a6e22e>Node</span>)
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>st</span>[<span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>x</span>][<span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>y</span>] = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>ans</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>d</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>x</span>][<span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>y</span>]
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>dx</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>nx</span>, <span style=color:#a6e22e>ny</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>dx</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>dy</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>                
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nx</span> &lt; <span style=color:#ae81ff>1</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>nx</span> &gt; <span style=color:#a6e22e>n</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>ny</span> &lt; <span style=color:#ae81ff>1</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>ny</span> &gt; <span style=color:#a6e22e>m</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>st</span>[<span style=color:#a6e22e>nx</span>][<span style=color:#a6e22e>ny</span>] {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>dist</span>[<span style=color:#a6e22e>nx</span>][<span style=color:#a6e22e>ny</span>] &gt; <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>d</span>, <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>nx</span>][<span style=color:#a6e22e>ny</span>]) {
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>dist</span>[<span style=color:#a6e22e>nx</span>][<span style=color:#a6e22e>ny</span>] = <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>d</span>, <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>nx</span>][<span style=color:#a6e22e>ny</span>])
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>heap</span>.<span style=color:#a6e22e>Push</span>(<span style=color:#a6e22e>hp</span>, <span style=color:#a6e22e>Node</span>{<span style=color:#a6e22e>nx</span>, <span style=color:#a6e22e>ny</span>, <span style=color:#a6e22e>dist</span>[<span style=color:#a6e22e>nx</span>][<span style=color:#a6e22e>ny</span>]})
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Case #%d: %d\n&#34;</span>, <span style=color:#a6e22e>C</span>, <span style=color:#a6e22e>ans</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) (<span style=color:#a6e22e>x</span> <span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>x</span> = <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>x</span> = <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=密码脱落-lcs>密码脱落-LCS<a hidden class=anchor aria-hidden=true href=#密码脱落-lcs>#</a></h3><p><a href=https://www.acwing.com/problem/content/1224/>题目链接</a></p><h4 id=思路-65>思路<a hidden class=anchor aria-hidden=true href=#思路-65>#</a></h4><p>求字符串及其翻转串的LCS长度</p><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n^2)$</td><td>$O(n^2)$</td></tr></tbody></table><h4 id=代码-95>代码<a hidden class=anchor aria-hidden=true href=#代码-95>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>reverse</span>(<span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>) (<span style=color:#a6e22e>res</span> <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> []rune(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>a</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>j</span>; <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span> = <span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>j</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>j</span>] = <span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>j</span>], <span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> string(<span style=color:#a6e22e>a</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scanf</span>(<span style=color:#e6db74>&#34;%s&#34;</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>a</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>a</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>b</span> = <span style=color:#a6e22e>reverse</span>(<span style=color:#a6e22e>a</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> make([][]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>f</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] = make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>b</span>[<span style=color:#a6e22e>j</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span>], <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>n</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>n</span>][<span style=color:#a6e22e>n</span>])
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=森林中的兔子>森林中的兔子<a hidden class=anchor aria-hidden=true href=#森林中的兔子>#</a></h3><p><a href=https://leetcode-cn.com/problems/rabbits-in-forest/>题目链接</a></p><h4 id=思路-66>思路<a hidden class=anchor aria-hidden=true href=#思路-66>#</a></h4><ul><li>统计每种$x$出现的次数</li><li>若$x$出现了$k$次为了使得兔子数量最小，则兔子种类数为 $\lceil \frac{k}{x+1} \rceil$, 且每种兔子数量为$x+1$</li><li>则兔子总数为$\sum_i^n{ \lceil \frac{k_i}{x_i+1} \rceil \times (x_i+1)}$</li><li>例如有13只兔子回答5，则至少有六只同一种类兔子记为红色，还有六只另一种类记为蓝色，还剩下一只兔子回答5，则必然还有五只兔子与这一只兔子颜色相同记为白色。综上有$\lceil \frac{13}{5+1} \rceil \times (5+1) = 18$只兔子。</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-96>代码<a hidden class=anchor aria-hidden=true href=#代码-96>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>numRabbits</span>(<span style=color:#a6e22e>answers</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mp</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>int</span>]<span style=color:#66d9ef>int</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>answers</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>mp</span>[<span style=color:#a6e22e>answers</span>[<span style=color:#a6e22e>i</span>]]<span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ret</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>mp</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ret</span> <span style=color:#f92672>+=</span> (<span style=color:#a6e22e>v</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>k</span>) <span style=color:#f92672>/</span> (<span style=color:#a6e22e>k</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> (<span style=color:#a6e22e>k</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ret</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=石子合并-区间dp>石子合并-区间DP<a hidden class=anchor aria-hidden=true href=#石子合并-区间dp>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/284/>题目链接</a></p><h4 id=思路-67>思路<a hidden class=anchor aria-hidden=true href=#思路-67>#</a></h4><ul><li>$f[i][j]$表示将表示将 $i$ 到 $j$ 合并成一堆的方案的集合，属性是最小值</li><li>$f[i][j]=min_{i≤k≤j−1}\{f[i][k]+f[k+1][j]+s[j]−s[i−1]\}$</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n^3)$</td><td>$O(n^2)$</td></tr></tbody></table><h4 id=代码-97>代码<a hidden class=anchor aria-hidden=true href=#代码-97>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>N</span> = <span style=color:#ae81ff>305</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>s</span> [<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>f</span> [<span style=color:#a6e22e>N</span>][<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>+=</span> <span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>len</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>len</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>len</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>len</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>len</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = int(^uint(<span style=color:#ae81ff>0</span>) <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>i</span>; <span style=color:#a6e22e>k</span> &lt; <span style=color:#a6e22e>j</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>], <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>k</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>j</span>] <span style=color:#f92672>-</span> <span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>n</span>])
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &lt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=环形石子合并>环形石子合并<a hidden class=anchor aria-hidden=true href=#环形石子合并>#</a></h4><p><a href=https://loj.ac/p/10147>题目链接</a></p><h5 id=思路-68>思路<a hidden class=anchor aria-hidden=true href=#思路-68>#</a></h5><ul><li>破环成链</li><li>求所有区间长度为n的链形石子合并</li><li>枚举长度为n的区间，取max</li></ul><h5 id=代码-98>代码<a hidden class=anchor aria-hidden=true href=#代码-98>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> (
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>N</span>       = <span style=color:#ae81ff>405</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>INT_MAX</span> = int(^uint(<span style=color:#ae81ff>0</span>) <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>INT_MIN</span> = <span style=color:#f92672>-</span><span style=color:#a6e22e>INT_MAX</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> (
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>f</span> [<span style=color:#a6e22e>N</span>][<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>g</span> [<span style=color:#a6e22e>N</span>][<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>s</span> [<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>a</span> [<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#a6e22e>n</span>] = <span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>l</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>l</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#a6e22e>l</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>], <span style=color:#a6e22e>g</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = <span style=color:#a6e22e>INT_MAX</span>, <span style=color:#a6e22e>INT_MIN</span>
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>i</span>; <span style=color:#a6e22e>k</span> &lt; <span style=color:#a6e22e>j</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>], <span style=color:#a6e22e>g</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>], <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>k</span>]<span style=color:#f92672>+</span><span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span>]<span style=color:#f92672>+</span><span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>j</span>]<span style=color:#f92672>-</span><span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]), <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>g</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>], <span style=color:#a6e22e>g</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>k</span>]<span style=color:#f92672>+</span><span style=color:#a6e22e>g</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span>]<span style=color:#f92672>+</span><span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>j</span>]<span style=color:#f92672>-</span><span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>minv</span>, <span style=color:#a6e22e>maxv</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>INT_MAX</span>, <span style=color:#a6e22e>INT_MIN</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>minv</span> = <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>minv</span>, <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>maxv</span> = <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>maxv</span>, <span style=color:#a6e22e>g</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>minv</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>maxv</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &lt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=合并两个有序数组>合并两个有序数组<a hidden class=anchor aria-hidden=true href=#合并两个有序数组>#</a></h3><p><a href=https://leetcode-cn.com/problems/merge-sorted-array/submissions/>题目链接</a></p><h4 id=解题思路-2>解题思路<a hidden class=anchor aria-hidden=true href=#解题思路-2>#</a></h4><ul><li>指针从后往前移动</li><li>每次将较大值插到后面</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(m+n)$</td><td>$O(1)$</td></tr></tbody></table><h4 id=代码-99>代码<a hidden class=anchor aria-hidden=true href=#代码-99>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>merge</span>(<span style=color:#a6e22e>A</span> []<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>m</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>B</span> []<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>)  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>m</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>m</span><span style=color:#f92672>+</span><span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>k</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>--</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>j</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>j</span><span style=color:#f92672>--</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>i</span><span style=color:#f92672>--</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>i</span>] &gt; <span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>j</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>i</span><span style=color:#f92672>--</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>j</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>j</span><span style=color:#f92672>--</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=删除有序数组中的重复项ii>删除有序数组中的重复项II<a hidden class=anchor aria-hidden=true href=#删除有序数组中的重复项ii>#</a></h3><p><a href=https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array-ii/>题目链接</a></p><h4 id=思路-69>思路<a hidden class=anchor aria-hidden=true href=#思路-69>#</a></h4><ol><li><code>k</code>指向新数组的末尾</li><li>遍历数组，若当前元素不等于<code>nums[k-2]</code>则插入新数组的末尾</li></ol><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(1)$</td></tr></tbody></table><h4 id=代码-100>代码<a hidden class=anchor aria-hidden=true href=#代码-100>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>removeDuplicates</span>(<span style=color:#a6e22e>nums</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>nums</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>2</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>n</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>!=</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>k</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=搜索旋转排序数组ii-二分>搜索旋转排序数组II-二分<a hidden class=anchor aria-hidden=true href=#搜索旋转排序数组ii-二分>#</a></h3><p><a href=https://leetcode-cn.com/problems/search-in-rotated-sorted-array-ii/>题目链接</a></p><h4 id=思路-70>思路<a hidden class=anchor aria-hidden=true href=#思路-70>#</a></h4><ul><li><code>nums[l] == nums[mid]</code>：不能确定哪一个区间是有序的，<code>l++</code></li><li><code>nums[l] &lt; nums[mid]</code>：左区间是有序的</li><li><code>nums[l] > nums[mid]</code>：右区间是有序的</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(1)$</td></tr></tbody></table><h4 id=代码-101>代码<a hidden class=anchor aria-hidden=true href=#代码-101>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>search</span>(<span style=color:#a6e22e>nums</span> []<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>target</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>nums</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>l</span>, <span style=color:#a6e22e>r</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>r</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>mid</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>l</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>r</span>) <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>mid</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>target</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>l</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>mid</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>l</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>l</span>] &lt; <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>mid</span>] {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>l</span>] <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>target</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>target</span> &lt; <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>mid</span>] {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>r</span> = <span style=color:#a6e22e>mid</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>l</span> = <span style=color:#a6e22e>mid</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>mid</span>] &lt; <span style=color:#a6e22e>target</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>target</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>r</span>] {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>l</span> = <span style=color:#a6e22e>mid</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>r</span> = <span style=color:#a6e22e>mid</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=0到n-1中缺失的数字-二分>0到n-1中缺失的数字-二分<a hidden class=anchor aria-hidden=true href=#0到n-1中缺失的数字-二分>#</a></h3><p><a href=https://www.acwing.com/problem/content/64/>题目链接</a></p><h4 id=思路-71>思路<a hidden class=anchor aria-hidden=true href=#思路-71>#</a></h4><p>&lt;img src=&ldquo;<a href=https://cdn.acwing.com/media/article/image/2019/05/31/1_37a28f4683-%E7%BC%BA%E5%A4%B1%E6%95%B0%E5%AD%97.png%22>https://cdn.acwing.com/media/article/image/2019/05/31/1_37a28f4683-%E7%BC%BA%E5%A4%B1%E6%95%B0%E5%AD%97.png"</a> position=&ldquo;center&rdquo; style=&ldquo;zoom: 80% ;&rdquo;</p><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(logn)$</td><td>$O(1)$</td></tr></tbody></table><h4 id=代码-102>代码<a hidden class=anchor aria-hidden=true href=#代码-102>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#a6e22e>public</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>getMissingNumber</span>(<span style=color:#a6e22e>vector</span>&lt;<span style=color:#66d9ef>int</span>&gt;<span style=color:#f92672>&amp;</span> <span style=color:#a6e22e>nums</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>n</span> = <span style=color:#a6e22e>nums</span>.<span style=color:#a6e22e>size</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (!<span style=color:#a6e22e>n</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>n</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>l</span> = <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>r</span> = <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>while</span> (<span style=color:#a6e22e>l</span> &lt; <span style=color:#a6e22e>r</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>mid</span> = (<span style=color:#a6e22e>l</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>r</span>) <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>mid</span>] <span style=color:#f92672>!=</span> <span style=color:#a6e22e>mid</span>) {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>r</span> = <span style=color:#a6e22e>mid</span>;
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>l</span> = <span style=color:#a6e22e>mid</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>l</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=移去k位数字-贪心>移去K位数字-贪心<a hidden class=anchor aria-hidden=true href=#移去k位数字-贪心>#</a></h3><p><a href=https://www.acwing.com/problem/content/1455/>题目链接</a></p><h4 id=思路-72>思路<a hidden class=anchor aria-hidden=true href=#思路-72>#</a></h4><ul><li>如果字符串已经是有序的，则应该删除后$k$位</li><li>如果出现逆序，则应该把前一个元素删除</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(1)$</td></tr></tbody></table><h4 id=代码-103>代码<a hidden class=anchor aria-hidden=true href=#代码-103>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>k</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>s</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>k</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;0&#34;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>s</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> &gt; <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>ans</span>[len(<span style=color:#a6e22e>ans</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] &gt; byte(<span style=color:#a6e22e>v</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>ans</span> = <span style=color:#a6e22e>ans</span>[:len(<span style=color:#a6e22e>ans</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>k</span><span style=color:#f92672>--</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> <span style=color:#f92672>+=</span> string(<span style=color:#a6e22e>v</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> &gt; <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> = <span style=color:#a6e22e>ans</span>[:len(<span style=color:#a6e22e>ans</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>k</span><span style=color:#f92672>--</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> &lt; len(<span style=color:#a6e22e>ans</span>) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>ans</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;0&#39;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>ans</span>[<span style=color:#a6e22e>i</span>:])
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=二叉搜索树节点最小距离>二叉搜索树节点最小距离<a hidden class=anchor aria-hidden=true href=#二叉搜索树节点最小距离>#</a></h3><p><a href=https://leetcode-cn.com/problems/minimum-distance-between-bst-nodes/>题目链接</a></p><h4 id=思路-73>思路<a hidden class=anchor aria-hidden=true href=#思路-73>#</a></h4><p>二叉搜索树中序遍历有序</p><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(1)$</td></tr></tbody></table><h4 id=代码-104>代码<a hidden class=anchor aria-hidden=true href=#代码-104>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>MAX</span> <span style=color:#66d9ef>int</span> = int(^uint(<span style=color:#ae81ff>0</span>) <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>minDiffInBST</span>(<span style=color:#a6e22e>root</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>) (<span style=color:#a6e22e>ans</span> <span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span> = <span style=color:#a6e22e>MAX</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>last</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>is_first</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>dfs</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>root</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dfs</span> = <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>root</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>root</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>Left</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (!<span style=color:#a6e22e>is_first</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>is_first</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>ans</span> = <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>ans</span>, <span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>Val</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>last</span>)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>last</span> = <span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>Val</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>Right</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>root</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &lt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=实现trie树>实现Trie树<a hidden class=anchor aria-hidden=true href=#实现trie树>#</a></h3><h4 id=思路-74>思路<a hidden class=anchor aria-hidden=true href=#思路-74>#</a></h4><ul><li>字典树</li></ul><h4 id=代码-105>代码<a hidden class=anchor aria-hidden=true href=#代码-105>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Trie</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>son</span> [<span style=color:#ae81ff>26</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>isEnd</span> <span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Initialize your data structure here. */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Constructor</span>() <span style=color:#a6e22e>Trie</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>Trie</span>{}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>) <span style=color:#a6e22e>query</span>(<span style=color:#a6e22e>word</span> <span style=color:#66d9ef>string</span>) (<span style=color:#a6e22e>res</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>node</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>word</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>t</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>t</span>] <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>res</span> = <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>node</span> = <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>t</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>res</span> = <span style=color:#a6e22e>node</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Inserts a word into the trie. */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>) <span style=color:#a6e22e>Insert</span>(<span style=color:#a6e22e>word</span> <span style=color:#66d9ef>string</span>)  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>node</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>word</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>t</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>t</span>] <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>t</span>] = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>Trie</span>{}
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>node</span> = <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>t</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>isEnd</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Returns if the word is in the trie. */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>) <span style=color:#a6e22e>Search</span>(<span style=color:#a6e22e>word</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>node</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>query</span>(<span style=color:#a6e22e>word</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>node</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>isEnd</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Returns if there is any word in the trie that starts with the given prefix. */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>) <span style=color:#a6e22e>StartsWith</span>(<span style=color:#a6e22e>prefix</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>query</span>(<span style=color:#a6e22e>prefix</span>) <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=前缀统计-trie>前缀统计-Trie<a hidden class=anchor aria-hidden=true href=#前缀统计-trie>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/144/>题目链接</a></p><h4 id=链表代码>链表代码<a hidden class=anchor aria-hidden=true href=#链表代码>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Trie</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>son</span> [<span style=color:#ae81ff>26</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>isEnd</span> <span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cnt</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>NewTrie</span>() <span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>Trie</span>{}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>) <span style=color:#a6e22e>insert</span>(<span style=color:#a6e22e>word</span> <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>node</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>t</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>word</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>c</span>] <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>c</span>] = <span style=color:#a6e22e>NewTrie</span>()
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>node</span> = <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>c</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>cnt</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>isEnd</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>) <span style=color:#a6e22e>query</span>(<span style=color:#a6e22e>word</span> <span style=color:#66d9ef>string</span>) (<span style=color:#a6e22e>ans</span> <span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>node</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>t</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>word</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>c</span>] <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>node</span> = <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>c</span>]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>cnt</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>m</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>m</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>t</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>NewTrie</span>()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>insert</span>(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>query</span>(<span style=color:#a6e22e>s</span>))
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=数组代码>数组代码<a hidden class=anchor aria-hidden=true href=#数组代码>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>N</span> = <span style=color:#ae81ff>1e6</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> (
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>m</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>son</span> [<span style=color:#a6e22e>N</span>][<span style=color:#ae81ff>26</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>idx</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cnt</span> [<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>insert</span>(<span style=color:#a6e22e>word</span> <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>word</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>t</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>p</span>][<span style=color:#a6e22e>t</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>idx</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>p</span>][<span style=color:#a6e22e>t</span>] = <span style=color:#a6e22e>idx</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>p</span> = <span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>p</span>][<span style=color:#a6e22e>t</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>p</span>]<span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>query</span>(<span style=color:#a6e22e>word</span> <span style=color:#66d9ef>string</span>) (<span style=color:#a6e22e>ans</span> <span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>word</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>t</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>p</span>][<span style=color:#a6e22e>t</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>p</span> = <span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>p</span>][<span style=color:#a6e22e>t</span>]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>p</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>m</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>insert</span>(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>query</span>(<span style=color:#a6e22e>s</span>))
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=打家劫舍ii-dp>打家劫舍II-DP<a hidden class=anchor aria-hidden=true href=#打家劫舍ii-dp>#</a></h3><h4 id=解题思路-3>解题思路<a hidden class=anchor aria-hidden=true href=#解题思路-3>#</a></h4><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-106>代码<a hidden class=anchor aria-hidden=true href=#代码-106>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>rob</span>(<span style=color:#a6e22e>nums</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>nums</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>nums</span>[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> make([][<span style=color:#ae81ff>2</span>]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>], <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>1</span>] = <span style=color:#a6e22e>math</span>.<span style=color:#a6e22e>MinInt64</span>, <span style=color:#a6e22e>nums</span>[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>0</span>] = <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>], <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>1</span>] = <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>res</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>], <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>1</span>] = <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>math</span>.<span style=color:#a6e22e>MinInt64</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>0</span>] = <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>], <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>1</span>] = <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>res</span>, <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>], <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>1</span>]))
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=扰乱字符串-dp>扰乱字符串-DP<a hidden class=anchor aria-hidden=true href=#扰乱字符串-dp>#</a></h3><p><a href=https://leetcode-cn.com/problems/scramble-string/>题目链接</a></p><h4 id=思路-75>思路<a hidden class=anchor aria-hidden=true href=#思路-75>#</a></h4><ul><li>状态表示<code>f[i][j][k]</code><ul><li>集合：<code>s1[i..i+k-1]</code>和<code>s2[j..j+k-1]</code>所有匹配的方案的集合</li><li>属性：集合是否为空集</li></ul></li><li>状态计算：<code>f[i][j][k]</code>按<code>s1</code>第一段的长度划分成<code>k-1</code>类，有两种匹配方案<ol><li><code>f[i][j][u] && f[i+u][j+u][k-u]</code></li><li><code>f[i][j+k-u][u] && f[i+u][j][k-u]</code></li></ol></li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n^4)$</td><td>$O(n^3)$</td></tr></tbody></table><h4 id=代码-107>代码<a hidden class=anchor aria-hidden=true href=#代码-107>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>isScramble</span>(<span style=color:#a6e22e>s1</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>s2</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>s1</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> make([][][]<span style=color:#66d9ef>bool</span>, <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>f</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] = make([][]<span style=color:#66d9ef>bool</span>, <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = make([]<span style=color:#66d9ef>bool</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>k</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#a6e22e>k</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>+</span><span style=color:#a6e22e>k</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>s1</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>s2</span>[<span style=color:#a6e22e>j</span>] {
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>][<span style=color:#a6e22e>k</span>] = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>u</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>u</span> &lt; <span style=color:#a6e22e>k</span>; <span style=color:#a6e22e>u</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>][<span style=color:#a6e22e>u</span>] <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#a6e22e>u</span>][<span style=color:#a6e22e>j</span><span style=color:#f92672>+</span><span style=color:#a6e22e>u</span>][<span style=color:#a6e22e>k</span><span style=color:#f92672>-</span><span style=color:#a6e22e>u</span>] <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>                           <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span><span style=color:#f92672>+</span><span style=color:#a6e22e>k</span><span style=color:#f92672>-</span><span style=color:#a6e22e>u</span>][<span style=color:#a6e22e>u</span>] <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#a6e22e>u</span>][<span style=color:#a6e22e>j</span>][<span style=color:#a6e22e>k</span><span style=color:#f92672>-</span><span style=color:#a6e22e>u</span>] {
</span></span><span style=display:flex><span>                            <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>][<span style=color:#a6e22e>k</span>] = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>][<span style=color:#a6e22e>n</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=重复元素iii-滑动窗口>重复元素III-滑动窗口<a hidden class=anchor aria-hidden=true href=#重复元素iii-滑动窗口>#</a></h3><p><a href=https://leetcode-cn.com/problems/contains-duplicate-iii/>题目链接</a></p><h4 id=思路-76>思路<a hidden class=anchor aria-hidden=true href=#思路-76>#</a></h4><ul><li>有序集合中查找大于等于 <code>x - t</code> 的最小的元素 <code>y</code>，如果 <code>y</code> 存在，且 <code>y &lt;= x + t</code>则存在</li><li>有序集合中元素数量超过了 <code>k</code>，将有序集合中最早被插入的元素删除即可</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(nlogk)$</td><td>$O(k)$</td></tr></tbody></table><h4 id=代码-108>代码<a hidden class=anchor aria-hidden=true href=#代码-108>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> containsNearbyAlmostDuplicate(vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&amp;</span> nums, <span style=color:#66d9ef>int</span> k, <span style=color:#66d9ef>int</span> t) {
</span></span><span style=display:flex><span>        set<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>long</span><span style=color:#f92672>&gt;</span> st;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> nums.size();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> st.lower_bound(nums[i]<span style=color:#f92672>*</span><span style=color:#ae81ff>1l</span><span style=color:#f92672>-</span>t);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (it <span style=color:#f92672>!=</span> end(st) <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>*</span>it <span style=color:#f92672>&lt;=</span> nums[i]<span style=color:#f92672>*</span><span style=color:#ae81ff>1l</span><span style=color:#f92672>+</span>t) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            st.insert(nums[i]);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (i<span style=color:#f92672>-</span>k <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>                st.erase(nums[i<span style=color:#f92672>-</span>k]);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=解码方法-dp>解码方法-dp<a hidden class=anchor aria-hidden=true href=#解码方法-dp>#</a></h3><p><a href=https://leetcode-cn.com/problems/decode-ways/>题目链接</a></p><h4 id=思路-77>思路<a hidden class=anchor aria-hidden=true href=#思路-77>#</a></h4><ul><li>状态表示：$f[i]$表示前 $i$ 个数字共有多少种解码方式。</li><li>状态转移：<ol><li>如果第 $i$ 个数字不是$0$，则 $i$ 个数字可以单独解码成一个字母，此时的方案数等于用前 $i−1$ 个数字解码的方案数，即 $f[i−1]$</li><li>如果第 $i−1$个数字和第 $i$个数字组成的两位数在 $10$ 到 $26$ 之间，则可以将这两位数字解码成一个字符，此时的方案数等于用前 $i−2$ 个数字解码的方案数，即 $f[i−2]$</li></ol></li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-109>代码<a hidden class=anchor aria-hidden=true href=#代码-109>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>numDecodings</span>(<span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>] = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;0&#39;</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>+=</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>i</span> &gt; <span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>t</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>t</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>t</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>26</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>+=</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>]
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>n</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=矩形区域不超过-k-的最大数值和-前缀和>矩形区域不超过 K 的最大数值和-前缀和<a hidden class=anchor aria-hidden=true href=#矩形区域不超过-k-的最大数值和-前缀和>#</a></h3><p><a href=https://leetcode-cn.com/problems/max-sum-of-rectangle-no-larger-than-k/>题目链接</a></p><h4 id=思路-78>思路<a hidden class=anchor aria-hidden=true href=#思路-78>#</a></h4><ul><li>二重循环枚举矩形的上边界和下边界，时间复杂度<code>O(n^2)</code></li><li>在一维数组求和不超过K的最大子数组的和，我们可以在<code>O(nlogn)</code>的时间复杂度内求解。我们知道可以使用前缀和求解子区间和：<code>sum(A[i:j])=preSum[j]−preSum[i−1]</code>。那么对于每一个<code>preSum[j]</code>，我们可以将遇到过的前缀后存入一个set中，再从set中找到一个大于等于<code>preSum[j]−k</code>的最小值，这样他们的差值就是小于等于kk的最大值。这种查找的时间复杂度是<code>logn</code>的，总共需要查找<code>n</code>次，所以总共的时间复杂度为<code>O(nlogn)</code></li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(m^2nlogn)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-110>代码<a hidden class=anchor aria-hidden=true href=#代码-110>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> maxSumSubmatrix(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;&amp;</span> A, <span style=color:#66d9ef>int</span> k) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> m <span style=color:#f92672>=</span> A.size(), n <span style=color:#f92672>=</span> A[<span style=color:#ae81ff>0</span>].size();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> INT_MIN;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> sum(n);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i; j <span style=color:#f92672>&lt;</span> m; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; k <span style=color:#f92672>&lt;</span> n; k<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                    sum[k] <span style=color:#f92672>+=</span> A[j][k];
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                set<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> st{<span style=color:#ae81ff>0</span>};
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> s <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;</span>e : sum) {
</span></span><span style=display:flex><span>                    s <span style=color:#f92672>+=</span> e;
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> st.lower_bound(s <span style=color:#f92672>-</span> k);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> (it <span style=color:#f92672>!=</span> st.end()) {
</span></span><span style=display:flex><span>                        ans <span style=color:#f92672>=</span> max(ans, s <span style=color:#f92672>-</span> <span style=color:#f92672>*</span>it);
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                    st.insert(s);
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=最大整除子集-dp>最大整除子集-dp<a hidden class=anchor aria-hidden=true href=#最大整除子集-dp>#</a></h3><p><a href=https://leetcode-cn.com/problems/largest-divisible-subset/>题目链接</a></p><h4 id=解题思路-4>解题思路<a hidden class=anchor aria-hidden=true href=#解题思路-4>#</a></h4><ul><li>前提：升序</li><li>状态集合：$f[i]$表示最大元素为$nums[i]$的有效解子集</li><li>属性：有效子集大小</li><li>状态计算：$f[i]=max(f[i], f[j]+1), j=0..i-1$</li><li>倒序遍历$f$找到集合元素</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n^2)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-111>代码<a hidden class=anchor aria-hidden=true href=#代码-111>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>largestDivisibleSubset</span>(<span style=color:#a6e22e>nums</span> []<span style=color:#66d9ef>int</span>) []<span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sort</span>.<span style=color:#a6e22e>Ints</span>(<span style=color:#a6e22e>nums</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>nums</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>f</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>maxLen</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>f</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> &lt; <span style=color:#a6e22e>i</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>%</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>j</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>j</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>maxLen</span> = <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>maxLen</span>, <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>maxLen</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>end</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>maxLen</span> &gt; <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>--</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>maxLen</span> <span style=color:#f92672>&amp;&amp;</span> (<span style=color:#a6e22e>end</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>ans</span>[<span style=color:#a6e22e>maxLen</span>] <span style=color:#f92672>%</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>ans</span>[<span style=color:#a6e22e>maxLen</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] = <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>end</span> = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>maxLen</span><span style=color:#f92672>--</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=整数拆分-完全背包>整数拆分-完全背包<a hidden class=anchor aria-hidden=true href=#整数拆分-完全背包>#</a></h3><p><a href=https://www.acwing.com/problem/content/3385/>题目链接</a></p><h4 id=思路-79>思路<a hidden class=anchor aria-hidden=true href=#思路-79>#</a></h4><p>完全背包</p><ul><li>状态表示：$f[i]$表示$i$的不同拆分方式数</li><li>状态计算：$f[i]=f[j]+f[j-2^i], 0 \le 2^i \le n$</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(nlogn)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-112>代码<a hidden class=anchor aria-hidden=true href=#代码-112>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> (
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>N</span> = <span style=color:#ae81ff>1e6</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mod</span> = <span style=color:#ae81ff>1e9</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> (
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> [<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>] = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;&lt;</span><span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;&lt;</span><span style=color:#a6e22e>i</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>j</span>] = (<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>j</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>j</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;&lt;</span><span style=color:#a6e22e>i</span>]) <span style=color:#f92672>%</span> <span style=color:#a6e22e>mod</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>n</span>])
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=组合总和iv-dp>组合总和IV-DP<a hidden class=anchor aria-hidden=true href=#组合总和iv-dp>#</a></h3><p><a href=https://leetcode-cn.com/problems/combination-sum-iv/>题目链接</a></p><h4 id=思路-80>思路<a hidden class=anchor aria-hidden=true href=#思路-80>#</a></h4><p>考虑顺序背包->先枚举体积，再枚举物品</p><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(mn)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-113>代码<a hidden class=anchor aria-hidden=true href=#代码-113>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>combinationSum4</span>(<span style=color:#a6e22e>nums</span> []<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>target</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>target</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>] = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>target</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>nums</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>&gt;=</span> <span style=color:#a6e22e>v</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>+=</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#a6e22e>v</span>]
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>target</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=最大的和-前缀和滑动窗口>最大的和-前缀和&滑动窗口<a hidden class=anchor aria-hidden=true href=#最大的和-前缀和滑动窗口>#</a></h3><p><a href=https://www.acwing.com/problem/content/3496/>题目连接</a></p><h4 id=代码-114>代码<a hidden class=anchor aria-hidden=true href=#代码-114>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>N</span> = <span style=color:#ae81ff>1e5</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> (
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>k</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>A</span> [<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>B</span> [<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>k</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sum</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>sum</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>sum</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>&gt;=</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>&amp;&amp;</span> !<span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#a6e22e>k</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>sum</span> <span style=color:#f92672>-=</span> <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#a6e22e>k</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> = <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>ans</span>, <span style=color:#a6e22e>sum</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>ans</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=八数码-a>八数码-A*<a hidden class=anchor aria-hidden=true href=#八数码-a>#</a></h3><p><a href=https://www.acwing.com/problem/content/description/181/>题目链接</a></p><h4 id=代码-115>代码<a hidden class=anchor aria-hidden=true href=#代码-115>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;string&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;unordered_map&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> dx[] <span style=color:#f92672>=</span> {<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>}, dy[] <span style=color:#f92672>=</span> {<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> string go <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;urdl&#34;</span>;
</span></span><span style=display:flex><span>string s, t <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;12345678x&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_f</span>(<span style=color:#66d9ef>const</span> string <span style=color:#f92672>&amp;</span>sts, <span style=color:#66d9ef>int</span> g) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> f <span style=color:#f92672>=</span> g;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (sts[i] <span style=color:#f92672>!=</span> t[i]) {
</span></span><span style=display:flex><span>            f<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> f;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>unordered_map<span style=color:#f92672>&lt;</span>string, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> mp;
</span></span><span style=display:flex><span>priority_queue<span style=color:#f92672>&lt;</span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, string<span style=color:#f92672>&gt;&gt;</span> que;
</span></span><span style=display:flex><span>unordered_map<span style=color:#f92672>&lt;</span>string, pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>char</span>, string<span style=color:#f92672>&gt;&gt;</span> path;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_x</span>(<span style=color:#66d9ef>const</span> string <span style=color:#f92672>&amp;</span>sts) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (sts[i] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;x&#39;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> i;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>const</span> string <span style=color:#f92672>&amp;</span>tmp) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>path.count(tmp))
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>    dfs(path[tmp].second);
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%c&#34;</span>, path[tmp].first);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>const</span> string <span style=color:#f92672>&amp;</span>tmp) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (tmp[i] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;x&#39;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (tmp[j] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;x&#39;</span> <span style=color:#f92672>&amp;&amp;</span> tmp[i] <span style=color:#f92672>&gt;</span> tmp[j])
</span></span><span style=display:flex><span>                cnt<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (cnt <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>bfs</span>() {
</span></span><span style=display:flex><span>    que.push({<span style=color:#ae81ff>0</span>, s});
</span></span><span style=display:flex><span>    mp[s] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>check(s)) {
</span></span><span style=display:flex><span>        puts(<span style=color:#e6db74>&#34;unsolvable&#34;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (que.size()) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> [_, sts] <span style=color:#f92672>=</span> que.top();
</span></span><span style=display:flex><span>        que.pop();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (sts <span style=color:#f92672>==</span> t) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> idx <span style=color:#f92672>=</span> get_x(sts);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> x <span style=color:#f92672>=</span> idx <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>, y <span style=color:#f92672>=</span> idx <span style=color:#f92672>%</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> cp <span style=color:#f92672>=</span> sts;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> nx <span style=color:#f92672>=</span> x <span style=color:#f92672>+</span> dx[i], ny <span style=color:#f92672>=</span> y <span style=color:#f92672>+</span> dy[i];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (nx <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> nx <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>&amp;&amp;</span> ny <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> ny <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>2</span>) {
</span></span><span style=display:flex><span>                swap(cp[nx <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>+</span> ny], cp[idx]);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (mp.count(cp))
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>                path[cp] <span style=color:#f92672>=</span> {go[i], sts};
</span></span><span style=display:flex><span>                mp[cp] <span style=color:#f92672>=</span> mp[sts] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>                que.push({<span style=color:#f92672>-</span>get_f(cp, mp[cp]), cp});
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    dfs(t);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>char</span> tmp;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> tmp;
</span></span><span style=display:flex><span>        s <span style=color:#f92672>+=</span> tmp;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    bfs();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=最长递增子序列的个数-lis>最长递增子序列的个数-LIS<a hidden class=anchor aria-hidden=true href=#最长递增子序列的个数-lis>#</a></h3><p><a href=https://leetcode-cn.com/problems/number-of-longest-increasing-subsequence/>题目链接</a></p><h4 id=代码-116>代码<a hidden class=anchor aria-hidden=true href=#代码-116>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>findNumberOfLIS</span>(<span style=color:#a6e22e>nums</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>nums</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dp</span>, <span style=color:#a6e22e>cnt</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>), make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>maxLen</span>, <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>nums</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> &lt; <span style=color:#a6e22e>i</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>] &gt; <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>j</span>] {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>j</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> &gt; <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>j</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>j</span>]
</span></span><span style=display:flex><span>                } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>j</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>+=</span> <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>j</span>]
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>maxLen</span> &lt; <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>maxLen</span> = <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>ans</span> = <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>maxLen</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>ans</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=牛的学术圈子i-二分>牛的学术圈子I-二分<a hidden class=anchor aria-hidden=true href=#牛的学术圈子i-二分>#</a></h3><p><a href=https://www.acwing.com/problem/content/3748/>题目链接</a></p><h4 id=代码-117>代码<a hidden class=anchor aria-hidden=true href=#代码-117>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;vector&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;climits&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> std<span style=color:#f92672>::</span>cin;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, l;
</span></span><span style=display:flex><span>std<span style=color:#f92672>::</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> cite;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> <span style=color:#f92672>&amp;</span>mid) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;</span>e : cite) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (e <span style=color:#f92672>&gt;=</span> mid) {
</span></span><span style=display:flex><span>            cnt<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> cnt <span style=color:#f92672>&gt;=</span> mid;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>binary_search</span>(<span style=color:#66d9ef>int</span> l, <span style=color:#66d9ef>int</span> r) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> mid <span style=color:#f92672>=</span> (l <span style=color:#f92672>+</span> r <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid)) {
</span></span><span style=display:flex><span>            l <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            r <span style=color:#f92672>=</span> mid <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> l;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> l;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    cite.resize(n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> max_cite <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> min_cite <span style=color:#f92672>=</span> INT_MAX;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;&amp;</span> e : cite) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> e;
</span></span><span style=display:flex><span>        max_cite <span style=color:#f92672>=</span> std<span style=color:#f92672>::</span>max(max_cite, e);
</span></span><span style=display:flex><span>        min_cite <span style=color:#f92672>=</span> std<span style=color:#f92672>::</span>min(min_cite, e);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>auto</span> res <span style=color:#f92672>=</span> binary_search(min_cite, max_cite);
</span></span><span style=display:flex><span>    sort(begin(cite), end(cite));
</span></span><span style=display:flex><span>    max_cite <span style=color:#f92672>+=</span> l;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> cite.rbegin(); it <span style=color:#f92672>!=</span> cite.rend(); it<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (l <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>*</span>it <span style=color:#f92672>&lt;=</span> res) {
</span></span><span style=display:flex><span>            (<span style=color:#f92672>*</span>it)<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>            l<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    res <span style=color:#f92672>=</span> binary_search(min_cite, max_cite);
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, res);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=牛年-同余>牛年-同余<a hidden class=anchor aria-hidden=true href=#牛年-同余>#</a></h3><p><a href=https://www.acwing.com/problem/content/3373/>题目链接</a></p><h4 id=代码-118>代码<a hidden class=anchor aria-hidden=true href=#代码-118>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;array&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;string&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;unordered_map&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> std<span style=color:#f92672>::</span>cin;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> std<span style=color:#f92672>::</span>unordered_map<span style=color:#f92672>&lt;</span>std<span style=color:#f92672>::</span>string, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> zodiac_map <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    {<span style=color:#e6db74>&#34;Ox&#34;</span>, <span style=color:#ae81ff>0</span>},      {<span style=color:#e6db74>&#34;Tiger&#34;</span>, <span style=color:#ae81ff>1</span>}, {<span style=color:#e6db74>&#34;Rabbit&#34;</span>, <span style=color:#ae81ff>2</span>}, {<span style=color:#e6db74>&#34;Dragon&#34;</span>, <span style=color:#ae81ff>3</span>},
</span></span><span style=display:flex><span>    {<span style=color:#e6db74>&#34;Snake&#34;</span>, <span style=color:#ae81ff>4</span>},   {<span style=color:#e6db74>&#34;Horse&#34;</span>, <span style=color:#ae81ff>5</span>}, {<span style=color:#e6db74>&#34;Goat&#34;</span>, <span style=color:#ae81ff>6</span>},   {<span style=color:#e6db74>&#34;Monkey&#34;</span>, <span style=color:#ae81ff>7</span>},
</span></span><span style=display:flex><span>    {<span style=color:#e6db74>&#34;Rooster&#34;</span>, <span style=color:#ae81ff>8</span>}, {<span style=color:#e6db74>&#34;Dog&#34;</span>, <span style=color:#ae81ff>9</span>},   {<span style=color:#e6db74>&#34;Pig&#34;</span>, <span style=color:#ae81ff>10</span>},   {<span style=color:#e6db74>&#34;Rat&#34;</span>, <span style=color:#ae81ff>11</span>},
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>std<span style=color:#f92672>::</span>unordered_map<span style=color:#f92672>&lt;</span>std<span style=color:#f92672>::</span>string, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> year;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    year[<span style=color:#e6db74>&#34;Bessie&#34;</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; <span style=color:#f92672>++</span>i) {
</span></span><span style=display:flex><span>        std<span style=color:#f92672>::</span>array<span style=color:#f92672>&lt;</span>std<span style=color:#f92672>::</span>string, <span style=color:#ae81ff>8</span><span style=color:#f92672>&gt;</span> strs;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;&amp;</span>str : strs) {
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> str;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (strs[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;previous&#34;</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> x <span style=color:#f92672>=</span> year[strs[<span style=color:#ae81ff>7</span>]];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> zodiac <span style=color:#f92672>=</span> zodiac_map.find(strs[<span style=color:#ae81ff>4</span>])<span style=color:#f92672>-&gt;</span>second;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> r <span style=color:#f92672>=</span> ((x <span style=color:#f92672>-</span> zodiac) <span style=color:#f92672>%</span> <span style=color:#ae81ff>12</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>12</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>12</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (r <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>                r <span style=color:#f92672>=</span> <span style=color:#ae81ff>12</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            year[strs[<span style=color:#ae81ff>0</span>]] <span style=color:#f92672>=</span> x <span style=color:#f92672>-</span> r;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> x <span style=color:#f92672>=</span> year[strs[<span style=color:#ae81ff>7</span>]];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> zodiac <span style=color:#f92672>=</span> zodiac_map.find(strs[<span style=color:#ae81ff>4</span>])<span style=color:#f92672>-&gt;</span>second;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> r <span style=color:#f92672>=</span> ((zodiac <span style=color:#f92672>-</span> x) <span style=color:#f92672>%</span> <span style=color:#ae81ff>12</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>12</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>12</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (r <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>                r <span style=color:#f92672>=</span> <span style=color:#ae81ff>12</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            year[strs[<span style=color:#ae81ff>0</span>]] <span style=color:#f92672>=</span> x <span style=color:#f92672>+</span> r;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, std<span style=color:#f92672>::</span>abs(year[<span style=color:#e6db74>&#34;Elsie&#34;</span>]));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=找出缺失的观测数据>找出缺失的观测数据<a hidden class=anchor aria-hidden=true href=#找出缺失的观测数据>#</a></h3><p><a href=https://leetcode-cn.com/problems/find-missing-observations/>题目链接</a></p><h4 id=代码-119>代码<a hidden class=anchor aria-hidden=true href=#代码-119>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>impl</span> Solution {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>missing_rolls</span>(rolls: Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>, mean: <span style=color:#66d9ef>i32</span>, n: <span style=color:#66d9ef>i32</span>) -&gt; Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> m <span style=color:#f92672>=</span> rolls.len() <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>i32</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> left <span style=color:#f92672>=</span> mean <span style=color:#f92672>*</span> (m <span style=color:#f92672>+</span> n) <span style=color:#f92672>-</span> rolls.iter().sum::<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> ave <span style=color:#f92672>=</span> left <span style=color:#f92672>/</span> n;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> remainder <span style=color:#f92672>=</span> left <span style=color:#f92672>%</span> n;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> ave <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> ave <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>6</span> <span style=color:#f92672>||</span> ave <span style=color:#f92672>==</span> <span style=color:#ae81ff>6</span> <span style=color:#f92672>&amp;&amp;</span> remainder <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> vec![];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> res <span style=color:#f92672>=</span> vec![ave; n <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> item <span style=color:#66d9ef>in</span> res.iter_mut().take(remainder <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>) {
</span></span><span style=display:flex><span>            <span style=color:#f92672>*</span>item <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        res
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>missingRolls</span>(<span style=color:#a6e22e>rolls</span>: <span style=color:#66d9ef>number</span>[], <span style=color:#a6e22e>mean</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>n</span>: <span style=color:#66d9ef>number</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span>[] {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>m</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rolls</span>.<span style=color:#a6e22e>length</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>left</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>mean</span> <span style=color:#f92672>*</span> (<span style=color:#a6e22e>m</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>n</span>) <span style=color:#f92672>-</span> <span style=color:#a6e22e>rolls</span>.<span style=color:#a6e22e>reduce</span>((<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>b</span>)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>ave</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>left</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>remainder</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>left</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>n</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>ave</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>ave</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>6</span> <span style=color:#f92672>||</span> (<span style=color:#a6e22e>ave</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>6</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>remainder</span> <span style=color:#f92672>!==</span> <span style=color:#ae81ff>0</span>))
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> []
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>missing</span> <span style=color:#f92672>=</span> Array.<span style=color:#66d9ef>from</span>({ <span style=color:#a6e22e>length</span>: <span style=color:#66d9ef>n</span> }, (<span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>i</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>ave</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>remainder</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>1</span> : <span style=color:#66d9ef>0</span>))
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>missing</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=如果相邻两个颜色均相同则删除当前颜色>如果相邻两个颜色均相同则删除当前颜色<a hidden class=anchor aria-hidden=true href=#如果相邻两个颜色均相同则删除当前颜色>#</a></h3><p><a href=https://leetcode-cn.com/problems/remove-colored-pieces-if-both-neighbors-are-the-same-color/>题目链接</a></p><h4 id=代码-120>代码<a hidden class=anchor aria-hidden=true href=#代码-120>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> winnerOfGame(string colors) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> freq[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> {<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>};
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>char</span> cur <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;C&#39;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>char</span> c : colors) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (c <span style=color:#f92672>!=</span> cur) {
</span></span><span style=display:flex><span>                cur <span style=color:#f92672>=</span> c;
</span></span><span style=display:flex><span>                cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (cnt<span style=color:#f92672>++</span>; cnt <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>3</span>) {
</span></span><span style=display:flex><span>                <span style=color:#f92672>++</span>freq[cur <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;A&#39;</span>];
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }            
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> freq[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&gt;</span> freq[<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=考试的最大困扰度>考试的最大困扰度<a hidden class=anchor aria-hidden=true href=#考试的最大困扰度>#</a></h3><p><a href=https://leetcode-cn.com/problems/maximize-the-confusion-of-an-exam/>题目链接</a></p><h4 id=思路-81>思路<a hidden class=anchor aria-hidden=true href=#思路-81>#</a></h4><p><strong>双指针</strong></p><ul><li>枚举右指针，计算 <code>answer_key[left, right]</code> 中另一个字符出现的次数 $s$</li><li>当 $s$ 大于 $k$，左端点右移</li><li>维护最大窗口长度</li></ul><h4 id=代码-121>代码<a hidden class=anchor aria-hidden=true href=#代码-121>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>impl</span> Solution {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>max_consecutive_answers</span>(answer_key: String, k: <span style=color:#66d9ef>i32</span>) -&gt; <span style=color:#66d9ef>i32</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> answer_key <span style=color:#f92672>=</span> answer_key.chars().collect::<span style=color:#f92672>&lt;</span>Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>char</span><span style=color:#f92672>&gt;&gt;</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>help</span>(answer_key: <span style=color:#66d9ef>&amp;</span>[<span style=color:#66d9ef>char</span>], k: <span style=color:#66d9ef>i32</span>, ch: <span style=color:#66d9ef>char</span>) -&gt; <span style=color:#66d9ef>i32</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> s <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> left <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> max <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> right <span style=color:#66d9ef>in</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>..</span>answer_key.len() {
</span></span><span style=display:flex><span>                s <span style=color:#f92672>+=</span> (answer_key[right] <span style=color:#f92672>==</span> ch) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>i32</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>while</span> s <span style=color:#f92672>&gt;</span> k {
</span></span><span style=display:flex><span>                    s <span style=color:#f92672>-=</span> (answer_key[left] <span style=color:#f92672>==</span> ch) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>i32</span>;
</span></span><span style=display:flex><span>                    left <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                max <span style=color:#f92672>=</span> max.max((right <span style=color:#f92672>-</span> left <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>i32</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            max
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        help(<span style=color:#f92672>&amp;</span>answer_key, k, <span style=color:#e6db74>&#39;T&#39;</span>).max(help(<span style=color:#f92672>&amp;</span>answer_key, k, <span style=color:#e6db74>&#39;F&#39;</span>))
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=区域和检索-数组可修改>区域和检索-数组可修改<a hidden class=anchor aria-hidden=true href=#区域和检索-数组可修改>#</a></h3><p><a href=https://leetcode-cn.com/problems/range-sum-query-mutable/>题目链接</a></p><h4 id=思路-82>思路<a hidden class=anchor aria-hidden=true href=#思路-82>#</a></h4><p><strong>线段树</strong>裸题</p><h4 id=代码-122>代码<a hidden class=anchor aria-hidden=true href=#代码-122>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>use</span> std::ops::{Add, AddAssign};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>/// This stucture implements a segmented tree that
</span></span></span><span style=display:flex><span><span style=color:#e6db74>/// can efficiently answer range queries on arrays.
</span></span></span><span style=display:flex><span><span style=color:#e6db74></span><span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>SegmentTree</span><span style=color:#f92672>&lt;</span>T: Default <span style=color:#f92672>+</span> Add <span style=color:#f92672>+</span> Copy<span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>    len: <span style=color:#66d9ef>usize</span>,
</span></span><span style=display:flex><span>    buf: Vec<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>impl</span><span style=color:#f92672>&lt;</span>T: Default <span style=color:#f92672>+</span> Add<span style=color:#f92672>&lt;</span>Output <span style=color:#f92672>=</span> T<span style=color:#f92672>&gt;</span> <span style=color:#f92672>+</span> AddAssign <span style=color:#f92672>+</span> Copy<span style=color:#f92672>&gt;</span> SegmentTree<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>/// function to build the tree
</span></span></span><span style=display:flex><span><span style=color:#e6db74></span>    <span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>from_vec</span>(arr: <span style=color:#66d9ef>&amp;</span>[T]) -&gt; <span style=color:#a6e22e>Self</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> len <span style=color:#f92672>=</span> arr.len();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> buf: Vec<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> <span style=color:#f92672>=</span> vec![T::default(); <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> len];
</span></span><span style=display:flex><span>        buf[len<span style=color:#f92672>..</span>(len <span style=color:#f92672>+</span> len)].clone_from_slice(<span style=color:#f92672>&amp;</span>arr[<span style=color:#ae81ff>0</span><span style=color:#f92672>..</span>len]);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> i <span style=color:#66d9ef>in</span> (<span style=color:#ae81ff>1</span><span style=color:#f92672>..</span>len).rev() {
</span></span><span style=display:flex><span>            buf[i] <span style=color:#f92672>=</span> buf[<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> i] <span style=color:#f92672>+</span> buf[<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        SegmentTree { len, buf }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>/// function to get sum on interval [l, r]
</span></span></span><span style=display:flex><span><span style=color:#e6db74></span>    <span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>query</span>(<span style=color:#f92672>&amp;</span>self, <span style=color:#66d9ef>mut</span> l: <span style=color:#66d9ef>usize</span>, <span style=color:#66d9ef>mut</span> r: <span style=color:#66d9ef>usize</span>) -&gt; <span style=color:#a6e22e>T</span> {
</span></span><span style=display:flex><span>        l <span style=color:#f92672>+=</span> self.len;
</span></span><span style=display:flex><span>        r <span style=color:#f92672>+=</span> self.len;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> res <span style=color:#f92672>=</span> T::default();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> l <span style=color:#f92672>&lt;=</span> r {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> l <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>                res <span style=color:#f92672>+=</span> self.buf[l];
</span></span><span style=display:flex><span>                l <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> r <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>                res <span style=color:#f92672>+=</span> self.buf[r];
</span></span><span style=display:flex><span>                r <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            l <span style=color:#f92672>/=</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>            r <span style=color:#f92672>/=</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        res
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>/// function to update a tree node
</span></span></span><span style=display:flex><span><span style=color:#e6db74></span>    <span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>update</span>(<span style=color:#f92672>&amp;</span><span style=color:#66d9ef>mut</span> self, <span style=color:#66d9ef>mut</span> idx: <span style=color:#66d9ef>usize</span>, val: <span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>        idx <span style=color:#f92672>+=</span> self.len;
</span></span><span style=display:flex><span>        self.buf[idx] <span style=color:#f92672>=</span> val;
</span></span><span style=display:flex><span>        idx <span style=color:#f92672>/=</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> idx <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            self.buf[idx] <span style=color:#f92672>=</span> self.buf[<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> idx] <span style=color:#f92672>+</span> self.buf[<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> idx <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>            idx <span style=color:#f92672>/=</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>NumArray</span> {
</span></span><span style=display:flex><span>    segment_tree: <span style=color:#a6e22e>SegmentTree</span><span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>impl</span> NumArray {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>new</span>(nums: Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>) -&gt; <span style=color:#a6e22e>Self</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> segment_tree <span style=color:#f92672>=</span> SegmentTree::from_vec(<span style=color:#f92672>&amp;</span>nums);
</span></span><span style=display:flex><span>        NumArray { segment_tree }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>update</span>(<span style=color:#f92672>&amp;</span><span style=color:#66d9ef>mut</span> self, index: <span style=color:#66d9ef>i32</span>, val: <span style=color:#66d9ef>i32</span>) {
</span></span><span style=display:flex><span>        self.segment_tree.update(index <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>, val);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>sum_range</span>(<span style=color:#f92672>&amp;</span>self, left: <span style=color:#66d9ef>i32</span>, right: <span style=color:#66d9ef>i32</span>) -&gt; <span style=color:#66d9ef>i32</span> {
</span></span><span style=display:flex><span>        self.segment_tree.query(left <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>, right <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=两棵二叉搜索树中的所有元素>两棵二叉搜索树中的所有元素<a hidden class=anchor aria-hidden=true href=#两棵二叉搜索树中的所有元素>#</a></h3><p><a href=https://leetcode-cn.com/problems/all-elements-in-two-binary-search-trees/>题目链接</a></p><h4 id=思路-83>思路<a hidden class=anchor aria-hidden=true href=#思路-83>#</a></h4><p>中序遍历 + 归并</p><h4 id=代码-123>代码<a hidden class=anchor aria-hidden=true href=#代码-123>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>use</span> std::cell::RefCell;
</span></span><span style=display:flex><span><span style=color:#66d9ef>use</span> std::rc::Rc;
</span></span><span style=display:flex><span><span style=color:#66d9ef>impl</span> Solution {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>get_all_elements</span>(
</span></span><span style=display:flex><span>        root1: Option<span style=color:#f92672>&lt;</span>Rc<span style=color:#f92672>&lt;</span>RefCell<span style=color:#f92672>&lt;</span>TreeNode<span style=color:#f92672>&gt;&gt;&gt;</span>,
</span></span><span style=display:flex><span>        root2: Option<span style=color:#f92672>&lt;</span>Rc<span style=color:#f92672>&lt;</span>RefCell<span style=color:#f92672>&lt;</span>TreeNode<span style=color:#f92672>&gt;&gt;&gt;</span>,
</span></span><span style=display:flex><span>    ) -&gt; Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>dfs</span>(root: Option<span style=color:#f92672>&lt;</span>Rc<span style=color:#f92672>&lt;</span>RefCell<span style=color:#f92672>&lt;</span>TreeNode<span style=color:#f92672>&gt;&gt;&gt;</span>, res: <span style=color:#66d9ef>&amp;</span><span style=color:#a6e22e>mut</span> Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>let</span> Some(node) <span style=color:#f92672>=</span> root {
</span></span><span style=display:flex><span>                dfs(node.borrow().left.clone(), res);
</span></span><span style=display:flex><span>                res.push(node.borrow().val);
</span></span><span style=display:flex><span>                dfs(node.borrow().right.clone(), res);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> res1 <span style=color:#f92672>=</span> vec![];
</span></span><span style=display:flex><span>        dfs(root1, <span style=color:#f92672>&amp;</span><span style=color:#66d9ef>mut</span> res1);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> res2 <span style=color:#f92672>=</span> vec![];
</span></span><span style=display:flex><span>        dfs(root2, <span style=color:#f92672>&amp;</span><span style=color:#66d9ef>mut</span> res2);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> merged <span style=color:#f92672>=</span> vec![<span style=color:#ae81ff>0</span>; res1.len() <span style=color:#f92672>+</span> res2.len()];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> i <span style=color:#f92672>&lt;</span> res1.len() <span style=color:#f92672>&amp;&amp;</span> j <span style=color:#f92672>&lt;</span> res2.len() {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> res1[i] <span style=color:#f92672>&lt;</span> res2[j] {
</span></span><span style=display:flex><span>                merged[k] <span style=color:#f92672>=</span> res1[i];
</span></span><span style=display:flex><span>                i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                merged[k] <span style=color:#f92672>=</span> res2[j];
</span></span><span style=display:flex><span>                j <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            k <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> i <span style=color:#f92672>&lt;</span> res1.len() {
</span></span><span style=display:flex><span>            merged[k] <span style=color:#f92672>=</span> res1[i];
</span></span><span style=display:flex><span>            i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            k <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> j <span style=color:#f92672>&lt;</span> res2.len() {
</span></span><span style=display:flex><span>            merged[k] <span style=color:#f92672>=</span> res2[j];
</span></span><span style=display:flex><span>            j <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            k <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        merged
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getAllElements</span>(<span style=color:#a6e22e>root1</span>: <span style=color:#66d9ef>TreeNode</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>null</span>, <span style=color:#a6e22e>root2</span>: <span style=color:#66d9ef>TreeNode</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>null</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span>[] {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>root</span>: <span style=color:#66d9ef>TreeNode</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>null</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span>[] {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>root</span> <span style=color:#f92672>===</span> <span style=color:#66d9ef>null</span>) <span style=color:#66d9ef>return</span> []
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>left</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>left</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>right</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>right</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> [...<span style=color:#a6e22e>left</span>, <span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>val</span>, ...<span style=color:#a6e22e>right</span>]
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>arr1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>root1</span>)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>arr2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>root2</span>)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>while</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>arr1</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>arr2</span>.<span style=color:#a6e22e>length</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>arr1</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>arr2</span>[<span style=color:#a6e22e>j</span>]) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>arr1</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>arr2</span>[<span style=color:#a6e22e>j</span>])
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>while</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>arr1</span>.<span style=color:#a6e22e>length</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>arr1</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>while</span> (<span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>arr2</span>.<span style=color:#a6e22e>length</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>arr2</span>[<span style=color:#a6e22e>j</span>])
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>arr</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=最近的请求次数>最近的请求次数<a hidden class=anchor aria-hidden=true href=#最近的请求次数>#</a></h3><p><a href=https://leetcode-cn.com/problems/number-of-recent-calls/>题目链接</a></p><h4 id=思路-84>思路<a hidden class=anchor aria-hidden=true href=#思路-84>#</a></h4><p>使用队列来维护最近 $3000$ 个请求的时间</p><h4 id=代码-124>代码<a hidden class=anchor aria-hidden=true href=#代码-124>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>use</span> std::collections::VecDeque;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>RecentCounter</span> {
</span></span><span style=display:flex><span>    pings: <span style=color:#a6e22e>VecDeque</span><span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>impl</span> RecentCounter {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>new</span>() -&gt; <span style=color:#a6e22e>Self</span> {
</span></span><span style=display:flex><span>        Self {
</span></span><span style=display:flex><span>            pings: <span style=color:#a6e22e>VecDeque</span>::new(),
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>ping</span>(<span style=color:#f92672>&amp;</span><span style=color:#66d9ef>mut</span> self, t: <span style=color:#66d9ef>i32</span>) -&gt; <span style=color:#66d9ef>i32</span> {
</span></span><span style=display:flex><span>        self.pings.push_back(t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>let</span> Some(x) <span style=color:#f92672>=</span> self.pings.front() {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> x <span style=color:#f92672>+</span> <span style=color:#ae81ff>3000</span> <span style=color:#f92672>&lt;</span> t {
</span></span><span style=display:flex><span>                self.pings.pop_front();
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        self.pings.len() <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>i32</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>RecentCounter</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pings</span>: <span style=color:#66d9ef>number</span>[] <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>constructor</span>() { }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ping</span>(<span style=color:#a6e22e>t</span>: <span style=color:#66d9ef>number</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pings</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>t</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pings</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>t</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>3000</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pings</span>.<span style=color:#a6e22e>shift</span>()
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pings</span>.<span style=color:#a6e22e>length</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://fffzlfk.github.io/tags/c++/>C++</a></li><li><a href=https://fffzlfk.github.io/tags/golang/>Golang</a></li></ul><nav class=paginav><a class=prev href=https://fffzlfk.github.io/posts/python%E8%A3%85%E9%A5%B0%E5%99%A8/><span class=title>« Prev</span><br><span>Python装饰器</span></a>
<a class=next href=https://fffzlfk.github.io/posts/sql/><span class=title>Next »</span><br><span>SQL</span></a></nav></footer><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//https-fffzlfk-github-io.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2022 <a href=https://fffzlfk.github.io>fffzlfk's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>