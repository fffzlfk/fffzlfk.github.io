<!doctype html><html class="not-ready lg:text-base" style=--bg:#faf8f1 lang=zh-cn dir=ltr><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>每日一题 - fffzlfk's Blog</title>
<meta name=theme-color><meta name=description content="Algorithms Problems"><meta name=author content="fffzlfk"><link rel="preload stylesheet" as=style href=https://fffzlfk.github.io/main.min.css><link rel=preload as=image href=https://fffzlfk.github.io/theme.svg><link rel=preload as=image href="https://avatars.githubusercontent.com/u/44939690?v=4"><link rel=preload as=image href=https://fffzlfk.github.io/github.svg><link rel=preload as=image href=https://fffzlfk.github.io/instagram.svg><link rel=preload as=image href=https://fffzlfk.github.io/rss.svg><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css integrity=sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js integrity=sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",()=>renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1}))</script><link rel=icon href=https://fffzlfk.github.io/favicon.ico><link rel=apple-touch-icon href=https://fffzlfk.github.io/apple-touch-icon.png><meta name=generator content="Hugo 0.147.4"><meta itemprop=name content="每日一题"><meta itemprop=description content="Algorithms Problems"><meta itemprop=datePublished content="2021-01-10T00:00:00+00:00"><meta itemprop=dateModified content="2021-01-10T00:00:00+00:00"><meta itemprop=wordCount content="19513"><meta itemprop=keywords content="C++,Golang"><meta property="og:url" content="https://fffzlfk.github.io/posts/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/"><meta property="og:site_name" content="fffzlfk's Blog"><meta property="og:title" content="每日一题"><meta property="og:description" content="Algorithms Problems"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-01-10T00:00:00+00:00"><meta property="article:modified_time" content="2021-01-10T00:00:00+00:00"><meta property="article:tag" content="C++"><meta property="article:tag" content="Golang"><meta name=twitter:card content="summary"><meta name=twitter:title content="每日一题"><meta name=twitter:description content="Algorithms Problems"><link rel=canonical href=https://fffzlfk.github.io/posts/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/></head><body class="bg-(--bg) text-black antialiased duration-200 ease-out [-webkit-tap-highlight-color:transparent] dark:text-white"><header class="mx-auto flex h-[4.5rem] max-w-(--w) px-8 whitespace-nowrap lg:justify-center"><div class="relative z-50 flex items-center ltr:mr-auto rtl:ml-auto"><a class="-translate-y-[1px] text-2xl font-medium" href=https://fffzlfk.github.io/>fffzlfk's Blog</a><div class="btn-dark text-[0px] ltr:ml-4 rtl:mr-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.svg)_left_center/cover_no-repeat] dark:invert dark:[background-position:right]" role=button aria-label=Dark></div></div><div class="btn-menu relative z-50 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden ltr:-mr-8 rtl:-ml-8" role=button aria-label=Menu></div><script>const htmlClass=document.documentElement.classList;setTimeout(()=>{htmlClass.remove("not-ready")},10);const btnMenu=document.querySelector(".btn-menu");btnMenu.addEventListener("click",()=>{htmlClass.toggle("open")});const metaTheme=document.querySelector('meta[name="theme-color"]'),lightBg="#faf8f1".replace(/"/g,""),setDark=e=>{metaTheme.setAttribute("content",e?"#000":lightBg),htmlClass[e?"add":"remove"]("dark"),localStorage.setItem("dark",e)},darkScheme=window.matchMedia("(prefers-color-scheme: dark)");if(htmlClass.contains("dark"))setDark(!0);else{const e=localStorage.getItem("dark");setDark(e?e==="true":darkScheme.matches)}darkScheme.addEventListener("change",e=>{setDark(e.matches)});const btnDark=document.querySelector(".btn-dark");btnDark.addEventListener("click",()=>{setDark(localStorage.getItem("dark")!=="true")})</script><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full flex-col justify-center bg-(--bg) pb-16 duration-200 select-none lg:static lg:h-auto lg:flex-row lg:bg-transparent! lg:pb-0 lg:transition-none"><nav class="mt-12 flex justify-center space-x-10 lg:mt-0 lg:items-center ltr:lg:ml-14 rtl:space-x-reverse rtl:lg:mr-14 dark:invert"><a class="h-7 w-7 text-[0px] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./github.svg) href=https://github.com/fffzlfk target=_blank rel=me>github</a>
<a class="h-7 w-7 text-[0px] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./instagram.svg) href=https://instagram.com/fffzlfk target=_blank rel=me>instagram</a>
<a class="h-7 w-7 text-[0px] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./rss.svg) href=https://fffzlfk.github.io/index.xml target=_blank rel=alternate>rss</a></nav></div></header><main class="prose prose-neutral dark:prose-invert relative mx-auto min-h-[calc(100vh-9rem)] max-w-(--w) px-8 pt-14 pb-16"><article><header class=mb-14><h1 class="my-0! pb-2.5">每日一题</h1><div class="text-xs antialiased opacity-60"><time>Jan 10, 2021</time></div></header><section><h2 id=week-1>Week 1</h2><h3 id=货仓选址>货仓选址</h3><p><a href=https://www.acwing.com/problem/content/description/106/>题目链接</a></p><h4 id=思路>思路</h4><p>绝对值不等式：$|a_1 - x| + |a_2 - x| + |a_3 - x| + &mldr; + |a_n - x| \ge |a_n-a_1| + |a_{n-1}-a_{2}|+&mldr; $
结论：当n为奇数，x应在中位数；当n为偶数时，x应在中间两个数之间。</p><h4 id=代码>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>100005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> a[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>    sort(a, a <span style=color:#f92672>+</span> n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) ans <span style=color:#f92672>+=</span> abs(a[i]<span style=color:#f92672>-</span>a[n<span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>]);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=数字三角形-dp>数字三角形-DP</h3><p><a href=https://www.acwing.com/problem/content/900/>题目链接</a></p><h4 id=思路-1>思路</h4><p>从下到上，$ f[i][j] = max(f[i+1][j]+w[i][j], f[i+1][j+1]+w[i][j]) $</p><h4 id=代码-1>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>505</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[N][N], w[N][N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> i; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> w[i][j];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        f[n][i] <span style=color:#f92672>=</span> w[n][i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; i<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> i; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            f[i][j] <span style=color:#f92672>=</span> max(f[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][j]<span style=color:#f92672>+</span>w[i][j], f[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>]<span style=color:#f92672>+</span>w[i][j]);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=简化等价变换版代码>简化(等价变换)版代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>505</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[N][N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> i; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> f[i][j];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; i<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> i; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            f[i][j] <span style=color:#f92672>+=</span> max(f[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][j], f[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=week-2>Week 2</h2><h3 id=蛇形矩阵>蛇形矩阵</h3><p><a href=https://www.acwing.com/problem/content/description/758/>题目链接</a></p><h4 id=代码-2>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>105</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> dx[]{<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>}, dy[]{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> q[N][N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> x <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, y <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, d <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n <span style=color:#f92672>*</span> m; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        q[x][y] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> x <span style=color:#f92672>+</span> dx[d], b <span style=color:#f92672>=</span> y <span style=color:#f92672>+</span> dy[d];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (a <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> a <span style=color:#f92672>&gt;=</span> n <span style=color:#f92672>||</span> b <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> b <span style=color:#f92672>&gt;=</span> m <span style=color:#f92672>||</span> q[a][b]) {
</span></span><span style=display:flex><span>            d <span style=color:#f92672>=</span> (d <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>            a <span style=color:#f92672>=</span> x <span style=color:#f92672>+</span> dx[d], b <span style=color:#f92672>=</span> y <span style=color:#f92672>+</span> dy[d];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        x <span style=color:#f92672>=</span> a, y <span style=color:#f92672>=</span> b;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> m; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> q[i][j] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39; &#39;</span>;
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=红与黑-flood-fill算法>红与黑-Flood Fill算法</h3><p><a href=https://www.acwing.com/problem/content/description/1115/>题目链接</a></p><h4 id=思路-2>思路</h4><p>Flood-Fill</p><ul><li>BFS（最短距离）</li></ul><pre tabindex=0><code>while 队列为空
{
    取出队头t
    枚举t的4个邻格
    if 格子是陆地并且未开发
        标记为已被开发
        插入队列
}
</code></pre><ul><li>DFS（更方便）</li></ul><pre tabindex=0><code>dfs(x, y)
{
    将(x, y)标记为已开发
    枚举(x, y)的四个邻格
    if 格子是陆地并且未开发
        dfs该格子
}
</code></pre><h4 id=代码-3>代码</h4><h5 id=bfs>BFS</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define x first
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define y second
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>typedef</span> pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> PII;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>25</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> g[N][N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>bfs</span>(<span style=color:#66d9ef>int</span> sx, <span style=color:#66d9ef>int</span> sy) {
</span></span><span style=display:flex><span>	queue<span style=color:#f92672>&lt;</span>PII<span style=color:#f92672>&gt;</span> Q;
</span></span><span style=display:flex><span>	Q.push({sx, sy});
</span></span><span style=display:flex><span>	g[sx][sy] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;#&#39;</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> dx[]{<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>}, dy[]{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>Q.empty()) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>auto</span> t <span style=color:#f92672>=</span> Q.front();
</span></span><span style=display:flex><span>		Q.pop();
</span></span><span style=display:flex><span>		res<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>int</span> nx <span style=color:#f92672>=</span> t.x <span style=color:#f92672>+</span> dx[i], ny <span style=color:#f92672>=</span> t.y <span style=color:#f92672>+</span> dy[i];
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> (nx <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> nx <span style=color:#f92672>&gt;=</span> n <span style=color:#f92672>||</span> ny <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> ny <span style=color:#f92672>&gt;=</span> m <span style=color:#f92672>||</span> g[nx][ny] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;.&#39;</span>) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>			g[nx][ny] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;#&#39;</span>;
</span></span><span style=display:flex><span>			Q.emplace(nx, ny);
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> res;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (cin <span style=color:#f92672>&gt;&gt;</span> m <span style=color:#f92672>&gt;&gt;</span> n , n <span style=color:#f92672>||</span> m) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>			cin <span style=color:#f92672>&gt;&gt;</span> g[i];
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> x, y;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> m; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>if</span> (g[i][j] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;@&#39;</span>) {
</span></span><span style=display:flex><span>					x <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>					y <span style=color:#f92672>=</span> j;
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		cout <span style=color:#f92672>&lt;&lt;</span> bfs(x, y) <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>	}	
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h5 id=dfs>DFS</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>25</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> g[N][N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> dx[]{<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>}, dy[]{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y) {
</span></span><span style=display:flex><span>    g[x][y] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;#&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> nx <span style=color:#f92672>=</span> x <span style=color:#f92672>+</span> dx[i], ny <span style=color:#f92672>=</span> y <span style=color:#f92672>+</span> dy[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (nx <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> nx <span style=color:#f92672>&gt;=</span> n <span style=color:#f92672>||</span> ny <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> ny <span style=color:#f92672>&gt;=</span> m <span style=color:#f92672>||</span> g[nx][ny] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;.&#39;</span>) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>        res <span style=color:#f92672>+=</span> dfs(nx, ny);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> res;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (cin <span style=color:#f92672>&gt;&gt;</span> m <span style=color:#f92672>&gt;&gt;</span> n, n <span style=color:#f92672>||</span> m) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> x, y;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> g[i];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> m; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>             <span style=color:#66d9ef>if</span> (g[i][j] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;@&#39;</span>) {
</span></span><span style=display:flex><span>                 x <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>                 y <span style=color:#f92672>=</span> j;
</span></span><span style=display:flex><span>             }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> dfs(x, y) <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=回文平方>回文平方</h3><p><a href=https://www.acwing.com/problem/content/1348/>题目链接</a></p><h4 id=代码-4>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> <span style=color:#a6e22e>get</span>(<span style=color:#66d9ef>int</span> n) { <span style=color:#66d9ef>return</span> n <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>9</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>+</span> n : <span style=color:#e6db74>&#39;A&#39;</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>+</span> n; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>string <span style=color:#a6e22e>base</span>(<span style=color:#66d9ef>int</span> n, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    string s <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (n) {
</span></span><span style=display:flex><span>        s <span style=color:#f92672>+=</span> get(n <span style=color:#f92672>%</span> b);
</span></span><span style=display:flex><span>        n <span style=color:#f92672>/=</span> b;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    reverse(s.begin(), s.end());
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> s;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>const</span> string <span style=color:#f92672>&amp;</span>s) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, j <span style=color:#f92672>=</span> s.length() <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> s.length(); i<span style=color:#f92672>++</span>, j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (s[i] <span style=color:#f92672>!=</span> s[j]) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> b;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>300</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> t <span style=color:#f92672>=</span> base(i <span style=color:#f92672>*</span> i, b);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(t)) {
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> base(i, b) <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> t <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=剪绳子-浮点数二分>剪绳子-浮点数二分</h3><p><a href=https://www.acwing.com/problem/content/682/>题目链接</a></p><h4 id=思路-3>思路</h4><p>二分
最优化->判定问题</p><ul><li>情况1：可以[mid, r]</li><li>情况2：不可以[l, mid)</li></ul><p>保留k位小数：r-l &lt; 1e-4</p><h4 id=代码-5>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>100005</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> w[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>double</span> mid) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cnt <span style=color:#f92672>+=</span> w[i] <span style=color:#f92672>/</span> mid;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> cnt <span style=color:#f92672>&gt;=</span> m;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> w[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.0</span>, r <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e9</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>100</span>; i<span style=color:#f92672>++</span>) { <span style=color:#75715e>// while (r-l &gt; 1e-4)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>double</span> mid <span style=color:#f92672>=</span> (l <span style=color:#f92672>+</span> r) <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid))
</span></span><span style=display:flex><span>            l <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            r <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%.2f</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, l);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=扩展题>扩展题</h4><p><a href=https://www.acwing.com/problem/content/792/>题目链接</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> n;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>double</span> mid) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> mid<span style=color:#f92672>*</span>mid<span style=color:#f92672>*</span>mid <span style=color:#f92672>&lt;</span> n;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> l <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>22.0</span>, r <span style=color:#f92672>=</span> <span style=color:#ae81ff>22.0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (r <span style=color:#f92672>-</span> l <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1e-8</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>double</span> mid <span style=color:#f92672>=</span> (l<span style=color:#f92672>+</span>r) <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid)) l <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> r <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%.6f</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, l);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=分巧克力-整数二分>分巧克力-整数二分</h3><p><a href=https://www.acwing.com/problem/content/1229/>题目链接</a></p><h4 id=思路-4>思路</h4><p>$ \sum_{i=0}^{n-1} \lfloor \frac {h_i} {mid} \rfloor \times \lfloor \frac{w_i}{mid} \rfloor\ge k $</p><ul><li>成立：$[mid, r], l = mid$</li><li>不成立：$[l, mid-1], r = mid-1 $</li></ul><h4 id=代码-6>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> ll <span style=color:#f92672>=</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], w[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, k;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>int</span> mid) {
</span></span><span style=display:flex><span>    ll s <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        s <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1LL</span> <span style=color:#f92672>*</span> (h[i]<span style=color:#f92672>/</span>mid) <span style=color:#f92672>*</span> (w[i]<span style=color:#f92672>/</span>mid);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (s <span style=color:#f92672>&gt;=</span> k) <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> k;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> h[i] <span style=color:#f92672>&gt;&gt;</span> w[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, r <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid)) l <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> r <span style=color:#f92672>=</span> mid<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> l <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=二分模板>二分模板</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>bsearch_1</span>(<span style=color:#66d9ef>int</span> l, <span style=color:#66d9ef>int</span> r) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid)) r <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> l <span style=color:#f92672>=</span> mid<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> l
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>bsearch_2</span>(<span style=color:#66d9ef>int</span> l, <span style=color:#66d9ef>int</span> r) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid)) l <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> r <span style=color:#f92672>=</span> mid<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=扩展题-1>扩展题</h4><ul><li><p>数的范围</p><p><a href=https://www.acwing.com/problem/content/791/>题目链接</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, q;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> a[<span style=color:#ae81ff>100010</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> q;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> k;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (q<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> k;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> lower_bound(a, a<span style=color:#f92672>+</span>n, k)<span style=color:#f92672>-</span>a;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> r <span style=color:#f92672>=</span> upper_bound(a, a<span style=color:#f92672>+</span>n, k)<span style=color:#f92672>-</span>a;
</span></span><span style=display:flex><span>        printf(<span style=color:#e6db74>&#34;%d &#34;</span>, a[l]<span style=color:#f92672>==</span>k<span style=color:#f92672>?</span> l : <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>        printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, a[r<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]<span style=color:#f92672>==</span>k<span style=color:#f92672>?</span> r<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>:</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li><li><p>旋转数组的最小数字-不具有单调性，但具有二段性</p><p><a href=https://www.acwing.com/problem/content/description/20/>题目链接</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> findMin(vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&amp;</span> nums) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (nums.empty()) <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> nums.size();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (n <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> nums[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> nums[n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]) n<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (nums[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;=</span> nums[n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]) <span style=color:#66d9ef>return</span> nums[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, r <span style=color:#f92672>=</span> n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (nums[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&gt;</span> nums[mid]) r <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> l <span style=color:#f92672>=</span> mid<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> nums[r];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div></li></ul><h3 id=校门外的树-区间合并>校门外的树-区间合并</h3><p><a href=https://www.acwing.com/problem/content/424/>题目链接</a></p><h4 id=思路-5>思路</h4><p>先求出所有移动树木的操作的区间的并集，那么马路上剩余部分即为最终剩下树木的部分。</p><p>区间合并算法</p><ul><li>将所有区间按左端点从小到大排序</li><li>从左到右遍历每个区间[L, R]<ul><li>$ l_i \le R $， $R = max(R, r_i) $</li><li>$ l_i > R$, 则将[L, R] 存下来，L, R&lt;- $ l_i, r_i $</li></ul></li></ul><h4 id=代码-7>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#75715e>#define x first
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define y second
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>105</span>;
</span></span><span style=display:flex><span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> seg[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> l, m;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> l <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> seg[i].x <span style=color:#f92672>&gt;&gt;</span> seg[i].y;
</span></span><span style=display:flex><span>    sort(seg, seg<span style=color:#f92672>+</span>m);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> L <span style=color:#f92672>=</span> seg[<span style=color:#ae81ff>0</span>].x, R <span style=color:#f92672>=</span> seg[<span style=color:#ae81ff>0</span>].y;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (seg[i].x <span style=color:#f92672>&lt;=</span> R) R <span style=color:#f92672>=</span> max(R, seg[i].y);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            res <span style=color:#f92672>-=</span> R <span style=color:#f92672>-</span> L <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            L <span style=color:#f92672>=</span> seg[i].x;
</span></span><span style=display:flex><span>            R <span style=color:#f92672>=</span> seg[i].y;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    res <span style=color:#f92672>-=</span> R <span style=color:#f92672>-</span> L <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> res <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=扩展题-挤牛奶>扩展题-挤牛奶</h4><p><a href=https://www.acwing.com/problem/content/1343/>题目链接</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#75715e>#define x first
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define y second
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>5005</span>;
</span></span><span style=display:flex><span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> seg[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> seg[i].x <span style=color:#f92672>&gt;&gt;</span> seg[i].y;
</span></span><span style=display:flex><span>    sort(seg, seg<span style=color:#f92672>+</span>n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> L <span style=color:#f92672>=</span> seg[<span style=color:#ae81ff>0</span>].x, R <span style=color:#f92672>=</span> seg[<span style=color:#ae81ff>0</span>].y;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, b <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (seg[i].x <span style=color:#f92672>&lt;=</span> R) R <span style=color:#f92672>=</span> max(R, seg[i].y);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>  {
</span></span><span style=display:flex><span>            b <span style=color:#f92672>=</span> max(b, seg[i].x<span style=color:#f92672>-</span>R);
</span></span><span style=display:flex><span>            a <span style=color:#f92672>=</span> max(a, R<span style=color:#f92672>-</span>L);
</span></span><span style=display:flex><span>            L <span style=color:#f92672>=</span> seg[i].x;
</span></span><span style=display:flex><span>            R <span style=color:#f92672>=</span> seg[i].y;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    a <span style=color:#f92672>=</span> max(a, R<span style=color:#f92672>-</span>L);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> a <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> b <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=奖学金>奖学金</h3><p><a href=https://www.acwing.com/problem/content/431/>题目链接</a></p><h4 id=代码-8>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>node</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> id;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> grades[<span style=color:#ae81ff>3</span>];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_sum</span>() <span style=color:#66d9ef>const</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> s <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>3</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            s <span style=color:#f92672>+=</span> grades[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> s;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>friend</span> istream<span style=color:#f92672>&amp;</span> <span style=color:#66d9ef>operator</span><span style=color:#f92672>&gt;&gt;</span>(istream<span style=color:#f92672>&amp;</span> in, node <span style=color:#f92672>&amp;</span>a) {
</span></span><span style=display:flex><span>        a.id <span style=color:#f92672>=</span> <span style=color:#f92672>++</span>cnt;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>3</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            in <span style=color:#f92672>&gt;&gt;</span> a.grades[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> in;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>friend</span> <span style=color:#66d9ef>bool</span> <span style=color:#66d9ef>operator</span><span style=color:#f92672>&lt;</span>(<span style=color:#66d9ef>const</span> node <span style=color:#f92672>&amp;</span>a, <span style=color:#66d9ef>const</span> node <span style=color:#f92672>&amp;</span>b) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> sa <span style=color:#f92672>=</span> a.get_sum(), sb <span style=color:#f92672>=</span> b.get_sum();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (sa <span style=color:#f92672>!=</span> sb) <span style=color:#66d9ef>return</span> sa <span style=color:#f92672>&lt;</span> sb;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>if</span> (a.grades[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>!=</span> b.grades[<span style=color:#ae81ff>0</span>]) <span style=color:#66d9ef>return</span> a.grades[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;</span> b.grades[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>return</span> a.id <span style=color:#f92672>&gt;</span> b.id;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>priority_queue<span style=color:#f92672>&lt;</span>node<span style=color:#f92672>&gt;</span> Q;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    node tmp;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> tmp;
</span></span><span style=display:flex><span>        Q.push(tmp);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> t <span style=color:#f92672>=</span> Q.top();
</span></span><span style=display:flex><span>        Q.pop();
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> t.id <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> t.get_sum() <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=week-3>Week 3</h2><h3 id=翻硬币-递推>翻硬币-递推</h3><p><a href=https://www.acwing.com/problem/content/1210/>题目链接</a></p><h4 id=思路-6>思路</h4><p>枚举递推：每一个操作是唯一确定的</p><h4 id=代码-9>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>string a, b;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>turn</span>(<span style=color:#66d9ef>int</span> i) { a[i] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;*&#39;</span> <span style=color:#f92672>?</span> a[i] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;o&#39;</span> <span style=color:#f92672>:</span> a[i] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;*&#39;</span>; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> a <span style=color:#f92672>&gt;&gt;</span> b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> a.length()<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (a[i] <span style=color:#f92672>!=</span> b[i]) {
</span></span><span style=display:flex><span>            turn(i);
</span></span><span style=display:flex><span>            turn(i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>            <span style=color:#f92672>++</span>res;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> res <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=扩展题-费解的开关>扩展题-费解的开关</h4><ul><li><strong>思路</strong><ul><li>枚举第一行的点击方法，共32种，完成第一行的点击后，固定第一行，</li><li>从第一行开始递推，若达到第n行不全为0，说明这种点击方式不合法。</li><li>在所有合法的点击方式中取点击次数最少的就是答案。</li><li>对第一行的32次枚举涵盖了该问题的整个状态空间，因此该做法是正确的</li><li></li><li>时间复杂度：<code>32*20*5*500 = 一百六十万</code></li><li><code>对第一行操作有32种可能 * 对前四行有20种操作可能 * 每一次操作都要改变5个灯的状态 * 最多读入的时候可能有500次light矩阵</code></li><li>最关键的两个性质</li><li>每一个位置最多只会被点击一次</li><li>如果固定了第一行，那么满足题意的点击方案最多只有一种</li></ul></li><li><strong>代码</strong><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;climits&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> s[<span style=color:#ae81ff>5</span>][<span style=color:#ae81ff>5</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>turn</span>(<span style=color:#66d9ef>int</span> i, <span style=color:#66d9ef>int</span> j) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> dx[]{<span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>}, dy[]{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; k <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; k<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> nx <span style=color:#f92672>=</span> i <span style=color:#f92672>+</span> dx[k], ny <span style=color:#f92672>=</span> j <span style=color:#f92672>+</span> dy[k];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (nx <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> nx <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>5</span> <span style=color:#f92672>||</span> ny <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> ny <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>5</span>) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>        s[nx][ny] <span style=color:#f92672>^=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>work</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> INT_MAX;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; k <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>5</span>; k<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>char</span> back[<span style=color:#ae81ff>5</span>][<span style=color:#ae81ff>5</span>];
</span></span><span style=display:flex><span>        memcpy(back, s, <span style=color:#66d9ef>sizeof</span> s);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> ((k <span style=color:#f92672>&gt;&gt;</span> j) <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>                turn(<span style=color:#ae81ff>0</span>, j);
</span></span><span style=display:flex><span>                <span style=color:#f92672>++</span>cnt;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (s[i][j] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;0&#39;</span>) {
</span></span><span style=display:flex><span>                    turn(i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, j);
</span></span><span style=display:flex><span>                    <span style=color:#f92672>++</span>cnt;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>bool</span> ok <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (s[<span style=color:#ae81ff>4</span>][j] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;0&#39;</span>) ok <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (ok) res <span style=color:#f92672>=</span> min(res, cnt);
</span></span><span style=display:flex><span>        memcpy(s, back, <span style=color:#66d9ef>sizeof</span> back);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> res <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>6</span> <span style=color:#f92672>?</span> res : <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (n<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> s[i];
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> work() <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li></ul><h3 id=找硬币>找硬币</h3><p><a href=https://www.acwing.com/problem/content/1534/>题目链接</a></p><h4 id=哈希表做法on>哈希表做法$O(n)$</h4><h5 id=思路-7>思路</h5><p>对于当前的元素t，查看之前集合中是否存在m-t，若存在则更新答案，否则添加到集合中。</p><h5 id=代码-10>代码</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;climits&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;unordered_set&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span>unordered_set<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> S;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> v1 <span style=color:#f92672>=</span> INT_MAX, v2;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (n<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a;
</span></span><span style=display:flex><span>        b <span style=color:#f92672>=</span> m <span style=color:#f92672>-</span> a;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (S.count(b)) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (a <span style=color:#f92672>&gt;</span> b) swap(a, b);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (v1 <span style=color:#f92672>&gt;</span> a) {
</span></span><span style=display:flex><span>                v1 <span style=color:#f92672>=</span> a;
</span></span><span style=display:flex><span>                v2 <span style=color:#f92672>=</span> b;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> S.insert(a);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    printf(v1 <span style=color:#f92672>==</span> INT_MAX <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;No Solution&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;%d %d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, v1, v2);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=双指针做法onlogn>双指针做法$O(nlogn)$</h4><h5 id=思路-8>思路</h5><style type=text/css>.notice{padding:18px;line-height:24px;margin-bottom:24px;border-radius:4px;color:#444;background:#e7f2fa}.notice p:last-child{margin-bottom:0}.notice-title{margin:-18px -18px 12px;padding:4px 18px;border-radius:4px 4px 0 0;font-weight:700;color:#fff;background:#6ab0de}.notice.warning .notice-title{background:rgba(217,83,79,.9)}.notice.warning{background:#fae2e2}.notice.info .notice-title{background:#f0b37e}.notice.info{background:#fff2db}.notice.note .notice-title{background:#6ab0de}.notice.note{background:#e7f2fa}.notice.tip .notice-title{background:rgba(92,184,92,.8)}.notice.tip{background:#e6f9e6}.icon-notice{display:inline-flex;align-self:center;margin-right:8px}.icon-notice img,.icon-notice svg{height:1em;width:1em;fill:currentColor}.icon-notice img,.icon-notice.baseline svg{top:.125em;position:relative}</style><div><svg width="0" height="0" display="none"><symbol id="tip-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379.0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628.0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628.0l-22.627 22.627c-6.248 6.248-6.248 16.379.0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"/></symbol><symbol id="note-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405.0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346 7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373.0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884.0-12.356 5.78-11.981 12.654z"/></symbol><symbol id="warning-notice" viewBox="0 0 576 512" preserveAspectRatio="xMidYMid meet"><path d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937.0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154.0l239.94 416.028zM288 354c-25.405.0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346 7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373.0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884.0-12.356 5.78-11.981 12.654z"/></symbol><symbol id="info-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196.0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627.0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627.0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627.0 12 5.373 12 12v1e2h12c6.627.0 12 5.373 12 12v24z"/></symbol></svg></div><div class="notice note"><p class="first notice-title"><span class="icon-notice baseline"><svg><use href="#note-notice"/></svg></span>Note</p><p>双指针算法：如果<code>i++</code>和<code>j--</code>单调性相反就能用双指针做法。</p></div><p>$a[i]+a[j] \le m \ and \ j 最大$</p><h5 id=代码-11>代码</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> a[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>    sort(a, a<span style=color:#f92672>+</span>n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, j <span style=color:#f92672>=</span> n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (i <span style=color:#f92672>&lt;</span> j <span style=color:#f92672>&amp;&amp;</span> a[i] <span style=color:#f92672>+</span> a[j] <span style=color:#f92672>&gt;</span> m) j<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (i <span style=color:#f92672>&lt;</span> j <span style=color:#f92672>&amp;&amp;</span> a[i]<span style=color:#f92672>+</span>a[j] <span style=color:#f92672>==</span> m) {
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> a[i] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> a[j] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;No Solution&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=十三号星期五>十三号星期五</h3><p><a href=https://www.acwing.com/problem/content/1343/>题目链接</a></p><h4 id=思路-9>思路</h4><ul><li>枚举每个月第一天距离1900-1-1过了多少天days</li><li>星期：$(days+12)\ mod \ 7 $</li></ul><h4 id=代码-12>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> month[] <span style=color:#f92672>=</span> {<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>28</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> weekdays[<span style=color:#ae81ff>7</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> days <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> year <span style=color:#f92672>=</span> <span style=color:#ae81ff>1900</span>; year <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1900</span><span style=color:#f92672>+</span>n; year<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>12</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            weekdays[(days <span style=color:#f92672>+</span> <span style=color:#ae81ff>12</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>7</span>]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>            days <span style=color:#f92672>+=</span> month[i];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (i <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>&amp;&amp;</span> (year <span style=color:#f92672>%</span> <span style=color:#ae81ff>4</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> year <span style=color:#f92672>%</span> <span style=color:#ae81ff>100</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> year <span style=color:#f92672>%</span> <span style=color:#ae81ff>400</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>)) days<span style=color:#f92672>++</span>; 
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>, j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>7</span>; i <span style=color:#f92672>=</span> (i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>7</span>, j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> weekdays[i] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=平方矩阵-ii>平方矩阵 II</h3><p><a href=https://www.acwing.com/problem/content/756/>题目链接</a></p><h4 id=代码-13>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (cin <span style=color:#f92672>&gt;&gt;</span> n, n) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> n; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                cout <span style=color:#f92672>&lt;&lt;</span> abs(j<span style=color:#f92672>-</span>i) <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39; &#39;</span>;
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=longest-increasing-subsequence>Longest-increasing-subsequence</h4><p><a href=https://leetcode-cn.com/problems/longest-increasing-subsequence/>题目链接</a></p><h5 id=思路-10>思路</h5><ul><li>dp[i]: 长度为i的LIS的最后一个元素的最小值</li><li>eg:[0,3,1,6,2,2,7] for each x:<ul><li>0, dp = [0]</li><li>3, dp = [0, 3]</li><li>1, dp = [0, 1]</li><li>6, dp = [0, 1, 6]</li><li>2, dp = [0, 1, 2]</li><li>2, dp = [0, 1, 2]</li><li>7, dp = [0, 1, 2, 7]</li></ul></li><li>ans = len(dp)</li></ul><h5 id=代码-14>代码</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>lengthOfLIS</span>(self, nums: List[int]) <span style=color:#f92672>-&gt;</span> int:
</span></span><span style=display:flex><span>        dp <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> x <span style=color:#f92672>in</span> nums:
</span></span><span style=display:flex><span>            i <span style=color:#f92672>=</span> bisect_left(dp, x)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> i <span style=color:#f92672>==</span> len(dp):
</span></span><span style=display:flex><span>                dp<span style=color:#f92672>.</span>append(x)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                dp[i] <span style=color:#f92672>=</span> x
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> len(dp)
</span></span></code></pre></div><h3 id=棋盘挑战-八皇后问题>棋盘挑战-八皇后问题</h3><p><a href=https://www.acwing.com/problem/content/1434/>题目链接</a></p><h4 id=思路-11>思路</h4><ul><li>如何判断某些位置能不能填：对角线用截距编号<ul><li>dg: y=x+b, b = y-x+n</li><li>udg: y=-x+b, b = y+x</li></ul></li></ul><h4 id=代码-15>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>15</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> path[N], col[N], dg[<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>N], udg[<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, ans;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (x <span style=color:#f92672>&gt;</span> n) {
</span></span><span style=display:flex><span>        ans<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (ans <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>3</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                cout <span style=color:#f92672>&lt;&lt;</span> path[i] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39; &#39;</span>;
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> y <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; y <span style=color:#f92672>&lt;=</span> n; y<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>col[y] <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span>dg[y<span style=color:#f92672>-</span>x<span style=color:#f92672>+</span>n] <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span>udg[y<span style=color:#f92672>+</span>x]) {
</span></span><span style=display:flex><span>            path[x] <span style=color:#f92672>=</span> y;
</span></span><span style=display:flex><span>            col[y] <span style=color:#f92672>=</span> dg[y<span style=color:#f92672>-</span>x<span style=color:#f92672>+</span>n] <span style=color:#f92672>=</span> udg[y<span style=color:#f92672>+</span>x] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>            dfs(x<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>            col[y] <span style=color:#f92672>=</span> dg[y<span style=color:#f92672>-</span>x<span style=color:#f92672>+</span>n] <span style=color:#f92672>=</span> udg[y<span style=color:#f92672>+</span>x] <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>            <span style=color:#75715e>// path[x] = 0;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    dfs(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=扩展题-解数独>扩展题-解数独</h4><p><a href=https://leetcode-cn.com/problems/sudoku-solver/>题目链接</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> P;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>const</span> vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>char</span><span style=color:#f92672>&gt;&gt;&amp;</span> board, <span style=color:#66d9ef>int</span> r, <span style=color:#66d9ef>int</span> c, <span style=color:#66d9ef>char</span> n) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (board[r][i] <span style=color:#f92672>==</span> n <span style=color:#f92672>||</span> board[i][c] <span style=color:#f92672>==</span> n) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>        r <span style=color:#f92672>=</span> r <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>        c <span style=color:#f92672>=</span> c <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> r; i <span style=color:#f92672>&lt;</span> r <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> c; j <span style=color:#f92672>&lt;</span> c <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (board[i][j] <span style=color:#f92672>==</span> n) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>dfs</span>(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>char</span><span style=color:#f92672>&gt;&gt;&amp;</span> board, <span style=color:#66d9ef>int</span> idx) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (idx <span style=color:#f92672>==</span> (<span style=color:#66d9ef>int</span>)P.size()) <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> r <span style=color:#f92672>=</span> P[idx].first, c <span style=color:#f92672>=</span> P[idx].second;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (check(board, r, c, i<span style=color:#f92672>+</span><span style=color:#e6db74>&#39;0&#39;</span>)) {
</span></span><span style=display:flex><span>                board[r][c] <span style=color:#f92672>=</span> i<span style=color:#f92672>+</span><span style=color:#e6db74>&#39;0&#39;</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (dfs(board, idx<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)) <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>                board[r][c] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;.&#39;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>solveSudoku</span>(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>char</span><span style=color:#f92672>&gt;&gt;&amp;</span> board) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (board[i][j] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;.&#39;</span>)
</span></span><span style=display:flex><span>                    P.emplace_back(i, j);
</span></span><span style=display:flex><span>        dfs(board, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=货币系统-完全背包>货币系统-完全背包</h3><p><a href=https://www.acwing.com/problem/content/description/1373/>题目链接</a></p><h4 id=思路-12>思路</h4><h4 id=代码-16>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> ll <span style=color:#f92672>=</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>30</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>10005</span>;
</span></span><span style=display:flex><span>ll f[N][M];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> w[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> w[i];
</span></span><span style=display:flex><span>    f[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;=</span> m; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; k <span style=color:#f92672>*</span> w[i] <span style=color:#f92672>&lt;=</span> j; k<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                f[i][j] <span style=color:#f92672>+=</span> f[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>-</span>k<span style=color:#f92672>*</span>w[i]];
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[n][m] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=时间优化>时间优化</h4><ol><li>$ f[i][j] = f[i-1][j]+f[i-1][j-w[i]]+f[i-1][j-2w[i]]+&mldr;+f[i-1][j-kw[i]] $</li><li>$ f[i][j-v] = f[i-1][j-w[i]]+f[i-1][j-2w[i]]+&mldr;+f[i-1][j-kw[i]] $</li><li>由1-2得：$ f[i][j] = f[i-1][j]+f[i][j-v] $</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> ll <span style=color:#f92672>=</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>30</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>10005</span>;
</span></span><span style=display:flex><span>ll f[N][M];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    f[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> v;
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> v;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;=</span> m; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            f[i][j] <span style=color:#f92672>=</span> f[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (j <span style=color:#f92672>&gt;=</span> v) f[i][j] <span style=color:#f92672>+=</span> f[i][j<span style=color:#f92672>-</span>v];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[n][m] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=空间优化>空间优化</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> ll <span style=color:#f92672>=</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>30</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>10005</span>;
</span></span><span style=display:flex><span>ll f[M];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    f[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> v;
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> v;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> v; j <span style=color:#f92672>&lt;=</span> m; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            f[j] <span style=color:#f92672>+=</span> f[j<span style=color:#f92672>-</span>v];
</span></span><span style=display:flex><span>            <span style=color:#75715e>// f[i][j] = f[i-1][j] + f[i][j-v]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[m] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=阶乘>阶乘</h3><p><a href=https://www.acwing.com/problem/content/1383/>题目链接</a></p><h4 id=思路-13>思路</h4><ul><li>$ n! = 2^{\alpha}*5^{\beta}*x $</li><li>$ ans = \frac{n!}{10^k}\ mod\ 10=$</li></ul><p>我们进行观察，因为0只可能由2的倍数和5的倍数相乘得到，所以在进行乘法的过程中，我们将2和5的倍数给清理掉，这样就保证了不会出现0，然后我们控制其范围，每次相乘取其个位，因为个位肯定是非零元素，十位以后的数字完全没有必要保留下来，最后，我们将多处理的2或者5重新乘回去再取余即可</p><h4 id=代码-17>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> d2 <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, d5 <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> x <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (x <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) x <span style=color:#f92672>/=</span> <span style=color:#ae81ff>2</span>, d2<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (x <span style=color:#f92672>%</span> <span style=color:#ae81ff>5</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) x <span style=color:#f92672>/=</span> <span style=color:#ae81ff>5</span>, d5<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> ans <span style=color:#f92672>*</span> x <span style=color:#f92672>%</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> d2<span style=color:#f92672>-</span>d5; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> ans <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>%</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=week-4>Week 4</h2><h3 id=滑雪场设计-枚举>滑雪场设计-枚举</h3><h4 id=思路-14>思路</h4><ul><li>最优解中，所有的高度都在$[0, 100]$之间</li><li>只需枚举所有可能的区间</li></ul><h4 id=代码-18>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;climits&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> a[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> INT_MAX;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; l <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>100</span><span style=color:#f92672>-</span><span style=color:#ae81ff>17</span>; l<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> r <span style=color:#f92672>=</span> l<span style=color:#f92672>+</span><span style=color:#ae81ff>17</span>, cost <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (a[i] <span style=color:#f92672>&lt;</span> l) cost <span style=color:#f92672>+=</span> (l<span style=color:#f92672>-</span>a[i])<span style=color:#f92672>*</span>(l<span style=color:#f92672>-</span>a[i]);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (a[i] <span style=color:#f92672>&gt;</span> r) cost <span style=color:#f92672>+=</span> (a[i]<span style=color:#f92672>-</span>r)<span style=color:#f92672>*</span>(a[i]<span style=color:#f92672>-</span>r);
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> min(ans, cost);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=整数集合划分-贪心>整数集合划分-贪心</h3><p><a href=https://www.acwing.com/activity/content/problem/content/3449/1/>题目链接</a></p><h4 id=代码-19>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> a[<span style=color:#ae81ff>100005</span>], res;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span><span style=color:#75715e>#ifndef ONLINE_JUDGE
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	freopen(<span style=color:#e6db74>&#34;input.txt&#34;</span>, <span style=color:#e6db74>&#34;r&#34;</span>, stdin);
</span></span><span style=display:flex><span>	freopen(<span style=color:#e6db74>&#34;output.txt&#34;</span>, <span style=color:#e6db74>&#34;w&#34;</span>, stdout);
</span></span><span style=display:flex><span><span style=color:#75715e>#endif
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>	cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>		cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	sort(a, a <span style=color:#f92672>+</span> n);
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (i <span style=color:#f92672>&gt;=</span> n <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>) res <span style=color:#f92672>+=</span> a[i];
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>else</span> res <span style=color:#f92672>-=</span> a[i];
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	cout <span style=color:#f92672>&lt;&lt;</span> n <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39; &#39;</span> <span style=color:#f92672>&lt;&lt;</span> res;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=扩展题-双向搜索>扩展题-双向搜索</h4><p><a href=https://www.acwing.com/problem/content/description/173/>题目链接</a></p><ul><li><p>思路</p><ul><li>先搜索前<code>N/2</code>个物品可以凑出来的所有重量，存到数组中去</li><li>对所有重量排序，判重</li><li>在搜索后一半物品可以凑出来的所有重量<code>y</code>，在前一半物品搜索出来的重量二分出一个<code>y</code>，使得<code>x+y&lt;=w</code>, <code>x+y</code>最大</li></ul></li><li><p>优化</p><ul><li>从大到小枚举所有重量，使得搜索到的和更快达到目标</li><li>均衡两次搜索时间</li></ul></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> ll <span style=color:#f92672>=</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>46</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, w, g[N], k, cnt, wgt[<span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> (<span style=color:#ae81ff>23</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>)];
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs_1</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> s) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> (x <span style=color:#f92672>==</span> k) {
</span></span><span style=display:flex><span>		wgt[cnt<span style=color:#f92672>++</span>] <span style=color:#f92672>=</span> s;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> (s <span style=color:#f92672>*</span> <span style=color:#ae81ff>1ll</span> <span style=color:#f92672>+</span> g[x] <span style=color:#f92672>&lt;=</span> w) dfs_1(x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, s <span style=color:#f92672>+</span> g[x]);
</span></span><span style=display:flex><span>	dfs_1(x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, s);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> ans;
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs_2</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> s) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> (x <span style=color:#f92672>==</span> n) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, r <span style=color:#f92672>=</span> cnt <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> (s <span style=color:#f92672>*</span> <span style=color:#ae81ff>1ll</span> <span style=color:#f92672>+</span> wgt[mid] <span style=color:#f92672>&lt;=</span> w) l <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>else</span> r <span style=color:#f92672>=</span> mid <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (s <span style=color:#f92672>*</span> <span style=color:#ae81ff>1ll</span> <span style=color:#f92672>+</span> wgt[l] <span style=color:#f92672>&lt;=</span> w) ans <span style=color:#f92672>=</span> max(ans, s <span style=color:#f92672>+</span> wgt[l]);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> (s <span style=color:#f92672>*</span> <span style=color:#ae81ff>1ll</span> <span style=color:#f92672>+</span> g[x] <span style=color:#f92672>&lt;=</span> w) dfs_2(x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, s <span style=color:#f92672>+</span> g[x]);
</span></span><span style=display:flex><span>	dfs_2(x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, s);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span><span style=color:#75715e>#ifndef ONLINE_JUDGE
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	freopen(<span style=color:#e6db74>&#34;input.txt&#34;</span>, <span style=color:#e6db74>&#34;r&#34;</span>, stdin);
</span></span><span style=display:flex><span>	freopen(<span style=color:#e6db74>&#34;output.txt&#34;</span>, <span style=color:#e6db74>&#34;w&#34;</span>, stdout);
</span></span><span style=display:flex><span><span style=color:#75715e>#endif
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>w, <span style=color:#f92672>&amp;</span>n);
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>g[i]);
</span></span><span style=display:flex><span>	sort(g, g <span style=color:#f92672>+</span> n, greater<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>());
</span></span><span style=display:flex><span>	k <span style=color:#f92672>=</span> n <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>	dfs_1(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>	sort(wgt, wgt <span style=color:#f92672>+</span> cnt);
</span></span><span style=display:flex><span>	cnt <span style=color:#f92672>=</span> unique(wgt, wgt <span style=color:#f92672>+</span> cnt) <span style=color:#f92672>-</span> wgt;
</span></span><span style=display:flex><span>	dfs_2(k, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>	cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=合唱队形-lis>合唱队形-LIS</h3><p><a href=https://www.acwing.com/problem/content/description/484/>题目链接</a></p><h4 id=思路-15>思路</h4><ul><li><code>f[i]</code>: 从前往后，以<code>a[i]</code>结尾的最长上升子序列的长度</li><li><code>g[i]</code>: 从后往前，以<code>a[i]</code>结尾的最长上升子序列的长度</li><li>$ ans = n - max(f[i]+g[i]) + 1$</li></ul><h4 id=代码-20>代码</h4><p>$ n^2 $</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>105</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, a[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[N], g[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        f[i] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;</span> i; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (a[i] <span style=color:#f92672>&gt;</span> a[j]) f[i] <span style=color:#f92672>=</span> max(f[i], f[j]<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        g[i] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> n; j <span style=color:#f92672>&gt;</span> i; j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (a[i] <span style=color:#f92672>&gt;</span> a[j]) g[i] <span style=color:#f92672>=</span> max(g[i], g[j]<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; k <span style=color:#f92672>&lt;=</span> n; k<span style=color:#f92672>++</span>) ans <span style=color:#f92672>=</span> max(ans, f[k] <span style=color:#f92672>+</span> g[k]);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> n <span style=color:#f92672>-</span> ans <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span></code></pre></div><p>$ nlogn $</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>105</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[N], g[N], a[N], n;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> len1[N], len2[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> lower_bound(f, f<span style=color:#f92672>+</span>cnt, a[i])<span style=color:#f92672>-</span>f;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (it <span style=color:#f92672>==</span> cnt) f[cnt<span style=color:#f92672>++</span>] <span style=color:#f92672>=</span> a[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> f[it] <span style=color:#f92672>=</span> a[i];
</span></span><span style=display:flex><span>        len1[i] <span style=color:#f92672>=</span> cnt;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> lower_bound(g, g<span style=color:#f92672>+</span>cnt, a[i])<span style=color:#f92672>-</span>g;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (it <span style=color:#f92672>==</span> cnt) g[cnt<span style=color:#f92672>++</span>] <span style=color:#f92672>=</span> a[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> g[it] <span style=color:#f92672>=</span> a[i];
</span></span><span style=display:flex><span>        len2[i] <span style=color:#f92672>=</span> cnt;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) ans <span style=color:#f92672>=</span> max(ans, len1[i]<span style=color:#f92672>+</span>len2[i]);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> n <span style=color:#f92672>-</span> ans <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=火星人-排列>火星人-排列</h3><h4 id=思路-16>思路</h4><p>实现next_permutation()</p><h4 id=代码-21>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>10005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, a[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (a[k<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>&gt;</span> a[k]) k<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>        k<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> k;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (t <span style=color:#f92672>&lt;</span> n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> a[t<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>&gt;</span> a[k]) t<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        swap(a[t], a[k]);
</span></span><span style=display:flex><span>        reverse(a<span style=color:#f92672>+</span>k<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, a<span style=color:#f92672>+</span>n);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cout <span style=color:#f92672>&lt;&lt;</span> a[i] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39; &#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=星空之夜-flood-fill>星空之夜-Flood-fill</h3><h4 id=思路-17>思路</h4><ul><li>判断形状是否相似<ul><li>哈希：两两之间的距离之和</li></ul></li></ul><h4 id=代码-22>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cmath&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> P <span style=color:#f92672>=</span> pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>#define x first
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define y second
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>105</span>;
</span></span><span style=display:flex><span>P c[N<span style=color:#f92672>*</span>N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> cnt;
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> g[N][N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>inline</span> <span style=color:#66d9ef>double</span> <span style=color:#a6e22e>get_dist</span>(P a, P b) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> sqrt((a.x<span style=color:#f92672>-</span>b.x)<span style=color:#f92672>*</span>(a.x<span style=color:#f92672>-</span>b.x)<span style=color:#f92672>+</span>(a.y<span style=color:#f92672>-</span>b.y)<span style=color:#f92672>*</span>(a.y<span style=color:#f92672>-</span>b.y));
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> <span style=color:#a6e22e>get_hash</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> s <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> cnt; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;</span> cnt; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            s <span style=color:#f92672>+=</span> get_dist(c[i], c[j]);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> s;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> <span style=color:#a6e22e>get_id</span>(<span style=color:#66d9ef>double</span> d) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>double</span> hash[<span style=color:#ae81ff>30</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span> idx <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> idx; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (fabs(hash[i] <span style=color:#f92672>-</span> d) <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1e-8</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;a&#39;</span> <span style=color:#f92672>+</span> i;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    hash[idx<span style=color:#f92672>++</span>] <span style=color:#f92672>=</span> d;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;a&#39;</span> <span style=color:#f92672>+</span> idx <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> i, <span style=color:#66d9ef>int</span> j) {
</span></span><span style=display:flex><span>    g[i][j] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;0&#39;</span>;
</span></span><span style=display:flex><span>    c[cnt<span style=color:#f92672>++</span>] <span style=color:#f92672>=</span> {i, j};
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> x <span style=color:#f92672>=</span> i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; x <span style=color:#f92672>&lt;=</span> i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>; x<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> y <span style=color:#f92672>=</span> j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; y <span style=color:#f92672>&lt;=</span> j<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>; y<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (x <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> x <span style=color:#f92672>&gt;=</span> n <span style=color:#f92672>||</span> y <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> y <span style=color:#f92672>&gt;=</span> m <span style=color:#f92672>||</span> g[x][y] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;0&#39;</span>) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>            dfs(x, y);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> m <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> g[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> m; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (g[i][j] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;1&#39;</span>) {
</span></span><span style=display:flex><span>                cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>                dfs(i, j);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>auto</span> d <span style=color:#f92672>=</span> get_hash();
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>auto</span> id <span style=color:#f92672>=</span> get_id(d);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; k <span style=color:#f92672>&lt;</span> cnt; k<span style=color:#f92672>++</span>) g[c[k].x][c[k].y] <span style=color:#f92672>=</span> id;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cout <span style=color:#f92672>&lt;&lt;</span> g[i] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=摘花生-dp>摘花生-DP</h3><p><a href=https://www.acwing.com/problem/content/description/1017/>题目链接</a></p><h4 id=思路-18>思路</h4><ol><li>状态表示<ul><li>集合：定义f[i][j]为从(1, 1)到达(i, j)的所有方案</li><li>属性：最大值</li></ul></li><li>状态转移<ul><li>(i, j)从(i-1, j)即上方过来</li><li>(i, j)从(i, j-1)即左方过来</li></ul></li><li>空间压缩<ul><li>f[i][j]只需要用到这一层和上一层的f元素，所以可以压缩成滚动数组。在此之上，还可以直接压缩成一维数组。</li></ul></li></ol><h4 id=代码-23>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>105</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, t;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> T;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> T;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (T<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> m; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                cin <span style=color:#f92672>&gt;&gt;</span> t;
</span></span><span style=display:flex><span>                f[j] <span style=color:#f92672>=</span> max(f[j], f[j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]) <span style=color:#f92672>+</span> t;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> f[m] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        memset(f, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span> f);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=最大的和-最大子矩形>最大的和-最大子矩形</h3><p><a href=https://www.acwing.com/problem/content/description/128/>题目链接</a></p><h4 id=思路-19>思路</h4><ul><li>前缀和数组<code>A[i][j]</code>表示 $ \sum_{i=1}^{n}{a[i][j]} $</li><li>枚举矩形上下边界</li><li>求最大连续子序列和</li></ul><h4 id=代码-24>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>M</span> [<span style=color:#ae81ff>201</span>][<span style=color:#ae81ff>201</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scanf</span>(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scanf</span>(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>])
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] <span style=color:#f92672>+=</span> <span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span>]
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> int(<span style=color:#f92672>-</span><span style=color:#ae81ff>1e9</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>i</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>s</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>k</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>s</span> = max(<span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>s</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>j</span>][<span style=color:#a6e22e>k</span>] <span style=color:#f92672>-</span> <span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>k</span>]
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>ans</span> = max(<span style=color:#a6e22e>ans</span>, <span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>ans</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> max(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=最大的和-线性dp>最大的和-线性DP</h3><p><a href=https://www.acwing.com/problem/content/1053/>题目链接</a></p><h4 id=代码-25>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;climits&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>50005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, a[N], f[N], g[N]; <span style=color:#75715e>// f[i]: 1~i最大连续子段和，g[i]:n~i最大连续子段和
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> T;
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>T);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (T<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>n);
</span></span><span style=display:flex><span>        fill(f, f<span style=color:#f92672>+</span>n<span style=color:#f92672>+</span><span style=color:#ae81ff>2</span>, INT_MIN);
</span></span><span style=display:flex><span>        fill(g, g<span style=color:#f92672>+</span>n<span style=color:#f92672>+</span><span style=color:#ae81ff>2</span>, INT_MIN);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>a[i]);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> s <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            s <span style=color:#f92672>=</span> max(s, <span style=color:#ae81ff>0</span>) <span style=color:#f92672>+</span> a[i];
</span></span><span style=display:flex><span>            f[i] <span style=color:#f92672>=</span> max(f[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>], s);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        s <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>            s <span style=color:#f92672>=</span> max(s, <span style=color:#ae81ff>0</span>) <span style=color:#f92672>+</span> a[i];
</span></span><span style=display:flex><span>            g[i] <span style=color:#f92672>=</span> max(g[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>], s);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> INT_MIN;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            ans <span style=color:#f92672>=</span> max(ans, f[i] <span style=color:#f92672>+</span> g[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=最大异或对-trie>最大异或对-trie</h3><p><a href=https://www.acwing.com/problem/content/submission/145/>题目链接</a></p><h4 id=代码-26>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>3e6</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> a[N], son[M][<span style=color:#ae81ff>2</span>], idx, n;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>insert</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> p <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>30</span>; <span style=color:#f92672>~</span>i; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> x <span style=color:#f92672>&gt;&gt;</span> i <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>son[p][t]) son[p][t] <span style=color:#f92672>=</span> <span style=color:#f92672>++</span>idx;
</span></span><span style=display:flex><span>        p <span style=color:#f92672>=</span> son[p][t];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>query</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> p <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, res <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>30</span>; <span style=color:#f92672>~</span>i; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> x <span style=color:#f92672>&gt;&gt;</span> i <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (son[p][<span style=color:#f92672>!</span>t]) {
</span></span><span style=display:flex><span>            res <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> i;
</span></span><span style=display:flex><span>            p <span style=color:#f92672>=</span> son[p][<span style=color:#f92672>!</span>t];
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            p <span style=color:#f92672>=</span> son[p][t];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> res;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>        insert(a[i]);
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> max(ans, query(a[i]));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=牛亦或-trie前缀和>牛亦或-trie+前缀和</h4><p><a href=https://www.acwing.com/problem/content/description/1416/>题目链接</a></p><h4 id=代码-27>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>2e6</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> son[M][<span style=color:#ae81ff>2</span>], a[N], id[M], idx, n;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>insert</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> k) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> p <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>20</span>; <span style=color:#f92672>~</span>i; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> x <span style=color:#f92672>&gt;&gt;</span> i <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>son[p][t]) son[p][t] <span style=color:#f92672>=</span> <span style=color:#f92672>++</span>idx;
</span></span><span style=display:flex><span>        p <span style=color:#f92672>=</span> son[p][t];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    id[p] <span style=color:#f92672>=</span> k;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>query</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> p <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>20</span>; <span style=color:#f92672>~</span>i; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> x <span style=color:#f92672>&gt;&gt;</span> i <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (son[p][<span style=color:#f92672>!</span>t]) {
</span></span><span style=display:flex><span>            p <span style=color:#f92672>=</span> son[p][<span style=color:#f92672>!</span>t];
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            p <span style=color:#f92672>=</span> son[p][t];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> id[p];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>        a[i] <span style=color:#f92672>^=</span> a[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    insert(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, l, r;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> query(a[i]);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> s <span style=color:#f92672>=</span> a[i] <span style=color:#f92672>^</span> a[k];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (s <span style=color:#f92672>&gt;</span> ans) {
</span></span><span style=display:flex><span>            ans <span style=color:#f92672>=</span> s;
</span></span><span style=display:flex><span>            l <span style=color:#f92672>=</span> k <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, r <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        insert(a[i], i);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> l <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39; &#39;</span> <span style=color:#f92672>&lt;&lt;</span> r <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=week-5>Week 5</h2><h3 id=开心的金明-01背包>开心的金明-01背包</h3><p><a href=https://www.acwing.com/problem/content/428/>题目链接</a></p><h4 id=代码-28>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[<span style=color:#ae81ff>30005</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> v, w;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> v <span style=color:#f92672>&gt;&gt;</span> w;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> n; j <span style=color:#f92672>&gt;=</span> v; j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>            f[j] <span style=color:#f92672>=</span> max(f[j], f[j<span style=color:#f92672>-</span>v]<span style=color:#f92672>+</span>w<span style=color:#f92672>*</span>v);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[n] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=k倍区间-前缀和>K倍区间-前缀和</h3><p><a href=https://www.acwing.com/problem/content/1232/>题目链接</a></p><h4 id=思路-20>思路</h4><p>求区间和，可以通过前缀和来求出。<code>sum[r]−sum[l−1]</code>就是区间<code>[l,r]</code>的和。如果区间<code>[l,r]</code>的和是k的倍数则有<code>(sum[r]−sum[l−1])</code>，即<code>sum[r]</code>。因此，我们可以得到一个结论，对前缀和取模之后，两个相等的前缀和就能组成一个k倍区间。</p><p>有了这个结论之后，我们就可以使用两层for循环来计数k倍区间的个数，但是由于数据比较大，我们不能这样做。那么我们能不能在计算前缀和的过程中同时来统计k倍区间的个数呢？当然可以。我们可以用一个数组cnt，规定<code>cnt[i]</code>表示当前位置之前，前缀和取模后等于i的个数，以后每出现一次前缀和（取模后）和它相等，那么k倍区间就加上<code>cnt[sum[i]]</code>，然后<code>cnt[sum[i]]++</code>。这样似乎不容易理解，我们用样例举个例子。</p><p>对于数列 1 2 3 4 5，k = 2</p><p>对前1个数的和模k后为1，在此之前有0个前缀和取模后为1，总个数+0</p><p>对前2个数的和模k后为1，在此之前有1个前缀和取模后为1，总个数+1</p><p>对前3个数的和模k后为0，在此之前有0个前缀和取模后为0, 总个数+0</p><p>对前4个数的和模k后为0，在此之前有1个前缀和取模后为0，总个数+1</p><p>对前5个数的和模k后为1，在此之前有2个前缀和取模后为1，总个数+2</p><p>但是我们还忽略了一点，就是我们这样做我们少计算了区间·<code>[0,i]</code>构成的k倍区间，其个数为<code>cnt[0]</code>。</p><h4 id=代码-29>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> a[N], n, k, cnt[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> k;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>long</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>        a[i] <span style=color:#f92672>=</span> (a[i] <span style=color:#f92672>+</span> a[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]) <span style=color:#f92672>%</span> k;
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>+=</span> cnt[a[i]];
</span></span><span style=display:flex><span>        cnt[a[i]]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>+</span> cnt[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=数独检查-模拟>数独检查-模拟</h3><p><a href=https://www.acwing.com/problem/content/description/705/>题目链接</a></p><h4 id=代码-30>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>7</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> g[N<span style=color:#f92672>*</span>N][N<span style=color:#f92672>*</span>N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> st[N<span style=color:#f92672>*</span>N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check_row</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        memset(st, false, <span style=color:#66d9ef>sizeof</span> st);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> m; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> g[i][j];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (t <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>||</span> t <span style=color:#f92672>&gt;</span> m) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (st[t]) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>            st[t] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check_col</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        memset(st, false, <span style=color:#66d9ef>sizeof</span> st);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> m; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> g[j][i];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (t <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>||</span> t <span style=color:#f92672>&gt;</span> m) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (st[t]) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>            st[t] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check_cell</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i <span style=color:#f92672>+=</span> n)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> m; j <span style=color:#f92672>+=</span> n) {
</span></span><span style=display:flex><span>            memset(st, false, <span style=color:#66d9ef>sizeof</span> st);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> dx <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; dx <span style=color:#f92672>&lt;</span> n; dx<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> dy <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; dy <span style=color:#f92672>&lt;</span> n; dy<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> g[i<span style=color:#f92672>+</span>dx][j<span style=color:#f92672>+</span>dy];
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> (t <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>||</span> t <span style=color:#f92672>&gt;</span> m) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> (st[t]) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>                    st[t] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> T;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> T;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; t <span style=color:#f92672>&lt;=</span> T; t<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>        m <span style=color:#f92672>=</span> n <span style=color:#f92672>*</span> n;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> m; j<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> g[i][j];
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        printf(check_row() <span style=color:#f92672>&amp;&amp;</span> check_col() <span style=color:#f92672>&amp;&amp;</span> check_cell() <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;Case #%d: Yes</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Case #%d: No</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, t);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=最长公共子序列-lcs>最长公共子序列-LCS</h3><p><a href=https://www.acwing.com/problem/content/899/>题目链接</a></p><h4 id=思路-21>思路</h4><h4 id=代码-31>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, f[N][N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> a[N], b[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m <span style=color:#f92672>&gt;&gt;</span> a <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&gt;&gt;</span> b <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> m; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (a[i] <span style=color:#f92672>==</span> b[j]) f[i][j] <span style=color:#f92672>=</span> f[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> f[i][j] <span style=color:#f92672>=</span> max(f[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j], f[i][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[n][m];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=数独简单版-数独>数独简单版-数独</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> g[<span style=color:#ae81ff>10</span>][<span style=color:#ae81ff>10</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> row[<span style=color:#ae81ff>10</span>][<span style=color:#ae81ff>10</span>], col[<span style=color:#ae81ff>10</span>][<span style=color:#ae81ff>10</span>], cell[<span style=color:#ae81ff>3</span>][<span style=color:#ae81ff>3</span>][<span style=color:#ae81ff>10</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (y <span style=color:#f92672>==</span> <span style=color:#ae81ff>9</span>) {
</span></span><span style=display:flex><span>        x<span style=color:#f92672>++</span>, y <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (x <span style=color:#f92672>==</span> <span style=color:#ae81ff>9</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>) cout <span style=color:#f92672>&lt;&lt;</span> g[i] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (g[x][y] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;.&#39;</span>) <span style=color:#66d9ef>return</span> dfs(x, y<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>row[x][i] <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span>col[y][i] <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span>cell[x<span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>][y<span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>][i]) {
</span></span><span style=display:flex><span>            g[x][y] <span style=color:#f92672>=</span> i <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;0&#39;</span>;
</span></span><span style=display:flex><span>            row[x][i] <span style=color:#f92672>=</span> col[y][i] <span style=color:#f92672>=</span> cell[x<span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>][y<span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>][i] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (dfs(x, y<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)) <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>            row[x][i] <span style=color:#f92672>=</span> col[y][i] <span style=color:#f92672>=</span> cell[x<span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>][y<span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>][i] <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>            g[x][y] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;.&#39;</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> g[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (g[i][j] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;.&#39;</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> g[i][j] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>;
</span></span><span style=display:flex><span>                row[i][t] <span style=color:#f92672>=</span> col[j][t] <span style=color:#f92672>=</span> cell[i<span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>][j<span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>][t] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    dfs(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=献给阿尔吉侬的花束-bfs>献给阿尔吉侬的花束-BFS</h3><p><a href=https://www.acwing.com/problem/content/description/1103/>题目链接</a></p><h4 id=代码-32>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>205</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> dx[]{<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>}, dy[]{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> g[N][N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> dist[N][N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> r, c;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>bfs</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y) {
</span></span><span style=display:flex><span>    memset(dist, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span> dist);
</span></span><span style=display:flex><span>    queue<span style=color:#f92672>&lt;</span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> Q;
</span></span><span style=display:flex><span>    Q.push({x, y});
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>Q.empty()) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> [tx, ty] <span style=color:#f92672>=</span> Q.front();
</span></span><span style=display:flex><span>        Q.pop();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (g[tx][ty] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;E&#39;</span>) {
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> dist[tx][ty] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> nx <span style=color:#f92672>=</span> tx <span style=color:#f92672>+</span> dx[i], ny <span style=color:#f92672>=</span> ty <span style=color:#f92672>+</span> dy[i];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (nx <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> nx <span style=color:#f92672>&gt;=</span> r <span style=color:#f92672>||</span> ny <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> ny <span style=color:#f92672>&gt;=</span> c <span style=color:#f92672>||</span>  g[nx][ny] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;#&#39;</span>) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>            Q.push({nx, ny});
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (g[nx][ny] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;E&#39;</span>)
</span></span><span style=display:flex><span>                g[nx][ny] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;#&#39;</span>;
</span></span><span style=display:flex><span>            dist[nx][ny] <span style=color:#f92672>=</span> dist[tx][ty] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;oop!&#34;</span> <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> T;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> T;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (T<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> r <span style=color:#f92672>&gt;&gt;</span> c;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> r; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> g[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>bool</span> is_break <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> r; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> c; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (g[i][j] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;S&#39;</span>) {
</span></span><span style=display:flex><span>                    bfs(i, j);
</span></span><span style=display:flex><span>                    is_break <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (is_break) <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=ab-位运算>a^b-位运算</h3><p><a href=https://www.acwing.com/problem/content/91/>题目链接</a></p><h4 id=代码-33>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> ll <span style=color:#f92672>=</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    ll a, b, p;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> a <span style=color:#f92672>&gt;&gt;</span> b <span style=color:#f92672>&gt;&gt;</span> p;
</span></span><span style=display:flex><span>    ll res <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (b) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (b <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>) res <span style=color:#f92672>=</span> res <span style=color:#f92672>*</span> a <span style=color:#f92672>%</span> p;
</span></span><span style=display:flex><span>        a <span style=color:#f92672>=</span> a <span style=color:#f92672>*</span> a <span style=color:#f92672>%</span> p;
</span></span><span style=display:flex><span>        b <span style=color:#f92672>&gt;&gt;=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> res <span style=color:#f92672>%</span> p <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=耍杂技的牛-贪心>耍杂技的牛-贪心</h3><p><a href=https://www.acwing.com/problem/content/127/>题目链接</a></p><h4 id=代码-34>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;climits&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>50005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> a[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> w, s;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> w <span style=color:#f92672>&gt;&gt;</span> s;
</span></span><span style=display:flex><span>        a[i] <span style=color:#f92672>=</span> {w<span style=color:#f92672>+</span>s, w};
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    sort(a, a<span style=color:#f92672>+</span>n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> INT_MIN, sum_w <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        w <span style=color:#f92672>=</span> a[i].second, s <span style=color:#f92672>=</span> a[i].first <span style=color:#f92672>-</span> w;
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> max(ans, sum_w <span style=color:#f92672>-</span> s);
</span></span><span style=display:flex><span>        sum_w <span style=color:#f92672>+=</span> w;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=数列-二进制>数列-二进制</h3><p><a href=https://www.acwing.com/problem/content/430/>题目链接</a></p><h4 id=思路-22>思路</h4><p>使用n的二进制表示</p><h4 id=代码-35>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>pow</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (b) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (b <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>) res <span style=color:#f92672>*=</span> a;
</span></span><span style=display:flex><span>        a <span style=color:#f92672>*=</span> a;
</span></span><span style=display:flex><span>        b <span style=color:#f92672>&gt;&gt;=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> res;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> k, n;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> k <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (n <span style=color:#f92672>&gt;&gt;</span> i <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>) ans <span style=color:#f92672>+=</span> pow(k, i);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=借教室-二分差分>借教室-二分&差分</h3><p><a href=https://www.acwing.com/problem/content/505/>题目链接</a></p><h4 id=代码-36>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> ll <span style=color:#f92672>=</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e6</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> r[N], d[N], s[N], t[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span>ll b[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>int</span> mid) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) b[i] <span style=color:#f92672>=</span> r[i] <span style=color:#f92672>-</span> r[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> mid; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        b[s[i]] <span style=color:#f92672>-=</span> d[i];
</span></span><span style=display:flex><span>        b[t[i]<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>+=</span> d[i];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        b[i] <span style=color:#f92672>+=</span> b[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (b[i] <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> r[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> m; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> d[i] <span style=color:#f92672>&gt;&gt;</span> s[i] <span style=color:#f92672>&gt;&gt;</span> t[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, r <span style=color:#f92672>=</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid)) l <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> r <span style=color:#f92672>=</span> mid <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (l <span style=color:#f92672>==</span> m) puts(<span style=color:#e6db74>&#34;0&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> printf(<span style=color:#e6db74>&#34;-1</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>%d&#34;</span>, l <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=关押罪犯-二分染色法判断二分图>关押罪犯-二分&染色法判断二分图</h3><p><a href=https://www.acwing.com/problem/content/259/>题目链接</a></p><h4 id=思路-23>思路</h4><ul><li>二分答案，判断能否以当前答案大的点构成二分图</li><li>使用染色判断能否构成二分图</li></ul><h4 id=代码-37>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>20005</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>200005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], ne[M], e[M], w[M], idx;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> color[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b, <span style=color:#66d9ef>int</span> c) {
</span></span><span style=display:flex><span>    e[idx] <span style=color:#f92672>=</span> b, w[idx] <span style=color:#f92672>=</span> c, ne[idx] <span style=color:#f92672>=</span> h[a], h[a] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> c, <span style=color:#66d9ef>int</span> mid) {
</span></span><span style=display:flex><span>    color[u] <span style=color:#f92672>=</span> c;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[u]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (w[i] <span style=color:#f92672>&lt;=</span> mid) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (color[v]) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (color[v] <span style=color:#f92672>==</span> c)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>dfs(v, <span style=color:#ae81ff>3</span><span style=color:#f92672>-</span>c, mid)) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>int</span> mid) {
</span></span><span style=display:flex><span>    memset(color, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span> color);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>color[i])
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>dfs(i, <span style=color:#ae81ff>1</span>, mid)) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b, c;
</span></span><span style=display:flex><span>    memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>a, <span style=color:#f92672>&amp;</span>b, <span style=color:#f92672>&amp;</span>c);
</span></span><span style=display:flex><span>        add(a, b, c);
</span></span><span style=display:flex><span>        add(b, a, c);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, r <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e9</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid)) r <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> l <span style=color:#f92672>=</span> mid <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%d&#34;</span>, l);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=week-6>Week 6</h2><h3 id=乌龟棋-线性dp>乌龟棋-线性DP</h3><p><a href=https://www.acwing.com/problem/content/314/>题目链接</a></p><h4 id=思路-24>思路</h4><ul><li><p>状态表示：<code>f[b1,b2,b3,b4]</code> 表示所有第 i 种卡片使用了 bi 张的走法的最大分值。</p></li><li><p>状态计算：将 <code>f[b1,b2,b3,b4]</code> 表示的所有走法按最后一步选择哪张卡片分成四类：第 i 类为最后一步选择第 i 种卡片。比如 i=2，则这一类的最大分值是 <code>f[b1,b2−1,b3,b4]+score[b1+2b2+3b3+4b4]</code>。</p></li></ul><h4 id=代码-38>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>45</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[N][N][N][N], b[<span style=color:#ae81ff>4</span>], w[<span style=color:#ae81ff>355</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n<span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> w[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> t;
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> t;
</span></span><span style=display:flex><span>        b[t<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> A <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; A <span style=color:#f92672>&lt;=</span> b[<span style=color:#ae81ff>0</span>]; A<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> B <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; B <span style=color:#f92672>&lt;=</span> b[<span style=color:#ae81ff>1</span>]; B<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> C <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; C <span style=color:#f92672>&lt;=</span> b[<span style=color:#ae81ff>2</span>]; C<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> D <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; D <span style=color:#f92672>&lt;=</span> b[<span style=color:#ae81ff>3</span>]; D<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>int</span> score <span style=color:#f92672>=</span> w[A <span style=color:#f92672>*</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> B <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> C <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>+</span> D <span style=color:#f92672>*</span> <span style=color:#ae81ff>4</span>];
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>int</span> <span style=color:#f92672>&amp;</span>v <span style=color:#f92672>=</span> f[A][B][C][D];
</span></span><span style=display:flex><span>                    v <span style=color:#f92672>=</span> score;
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> (A) v <span style=color:#f92672>=</span> max(v, f[A<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][B][C][D] <span style=color:#f92672>+</span> score);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> (B) v <span style=color:#f92672>=</span> max(v, f[A][B<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][C][D] <span style=color:#f92672>+</span> score);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> (C) v <span style=color:#f92672>=</span> max(v, f[A][B][C<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][D] <span style=color:#f92672>+</span> score);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> (D) v <span style=color:#f92672>=</span> max(v, f[A][B][C][D<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> score);
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[b[<span style=color:#ae81ff>0</span>]][b[<span style=color:#ae81ff>1</span>]][b[<span style=color:#ae81ff>2</span>]][b[<span style=color:#ae81ff>3</span>]];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=比例简化-枚举>比例简化-枚举</h3><p><a href=https://www.acwing.com/problem/content/460/>题目链接</a></p><h4 id=代码-39>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>gcd</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> b <span style=color:#f92672>?</span> gcd(b, a <span style=color:#f92672>%</span> b) <span style=color:#f92672>:</span> a;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> A, B, L;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> A <span style=color:#f92672>&gt;&gt;</span> B <span style=color:#f92672>&gt;&gt;</span> L;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> t <span style=color:#f92672>=</span> A <span style=color:#f92672>*</span> <span style=color:#ae81ff>1.0</span> <span style=color:#f92672>/</span> B;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> delta <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e9</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> L; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> L; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (gcd(i, j) <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>double</span> x <span style=color:#f92672>=</span> i <span style=color:#f92672>*</span> <span style=color:#ae81ff>1.0</span> <span style=color:#f92672>/</span> j;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (x <span style=color:#f92672>&gt;=</span> t <span style=color:#f92672>&amp;&amp;</span> x <span style=color:#f92672>-</span> t <span style=color:#f92672>&lt;</span> delta) {
</span></span><span style=display:flex><span>                    delta <span style=color:#f92672>=</span> x <span style=color:#f92672>-</span> t;
</span></span><span style=display:flex><span>                    a <span style=color:#f92672>=</span> i, b <span style=color:#f92672>=</span> j;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> a <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=计算系数>计算系数</h3><p><a href=https://www.acwing.com/problem/content/213/>题目链接</a></p><h4 id=思路-25>思路</h4><ul><li>二项式定理：$ ans = C_k^n x^n y^m $</li><li>Pascal公式：$ C_n^k = C_{n-1}^{k} + C_{n-1}^{k-1} $</li></ul><h4 id=代码-40>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mod <span style=color:#f92672>=</span> <span style=color:#ae81ff>10007</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> C[N][N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>pow</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    a <span style=color:#f92672>%=</span> mod;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (b) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (b <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>) res <span style=color:#f92672>=</span> res <span style=color:#f92672>*</span> a <span style=color:#f92672>%</span> mod;
</span></span><span style=display:flex><span>        a <span style=color:#f92672>=</span> a <span style=color:#f92672>*</span> a <span style=color:#f92672>%</span> mod;
</span></span><span style=display:flex><span>        b <span style=color:#f92672>&gt;&gt;=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> res <span style=color:#f92672>%</span> mod;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b, k, n, m;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> a <span style=color:#f92672>&gt;&gt;</span> b <span style=color:#f92672>&gt;&gt;</span> k <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;=</span> k; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;=</span> i; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>j) C[i][j] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> C[i][j] <span style=color:#f92672>=</span> (C[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j] <span style=color:#f92672>+</span> C[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]) <span style=color:#f92672>%</span> mod;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> C[k][n] <span style=color:#f92672>*</span> pow(a, n) <span style=color:#f92672>%</span> mod <span style=color:#f92672>*</span> pow(b, m) <span style=color:#f92672>%</span> mod;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=合并果子>合并果子</h3><h4 id=代码-41>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>priority_queue<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>, greater<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> Q;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> x;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (n<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> x;
</span></span><span style=display:flex><span>        Q.push(move(x));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (Q.size() <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> a <span style=color:#f92672>=</span> Q.top();
</span></span><span style=display:flex><span>        Q.pop();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> b <span style=color:#f92672>=</span> Q.top();
</span></span><span style=display:flex><span>        Q.pop();
</span></span><span style=display:flex><span>        Q.push(a <span style=color:#f92672>+</span> b);
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>+=</span> a <span style=color:#f92672>+</span> b;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=积木大赛-贪心差分>积木大赛-贪心&差分</h3><p><a href=https://www.acwing.com/problem/content/509/>题目链接</a></p><h4 id=思路-26>思路</h4><p>从后往前操作，如果当前的 <code>bi>0</code>，则将其减1，并将其后的某个负数加1。</p><h4 id=代码-42>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>100005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, h[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> h[i];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; i<span style=color:#f92672>--</span>) res <span style=color:#f92672>+=</span> max(<span style=color:#ae81ff>0</span>, h[i]<span style=color:#f92672>-</span>h[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> res <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=leetcode-1755-最接近目标值的子序列和>LeetCode-1755 最接近目标值的子序列和</h3><p><a href=https://leetcode-cn.com/problems/closest-subsequence-sum/>题目链接</a></p><h4 id=思路-27>思路</h4><ul><li>generate sums for all subset: DP<ul><li>$ sum_i = sum_{i-1} \cup (sum_{i-1}+ nums[i]) $</li></ul></li><li>将sum of subset分成两部分，遍历前一部分二分后一部分，并且排序</li><li>去重优化</li></ul><h4 id=代码-43>代码</h4><p><a href=https://zxi.mytechroad.com/blog/algorithms/binary-search/leetcode-1755-closest-subsequence-sum/>参考链接</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> minAbsDifference(vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&amp;</span> nums, <span style=color:#66d9ef>int</span> goal) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> nums.size();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> abs(goal);
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> t1{<span style=color:#ae81ff>0</span>}, t2{<span style=color:#ae81ff>0</span>};
</span></span><span style=display:flex><span>        t1.reserve(<span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> (n <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)), t2.reserve(<span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> (n <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> t1.size() <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>                t1.push_back(nums[i] <span style=color:#f92672>+</span> t1[j]);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> t2.size() <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>                t2.push_back(nums[i] <span style=color:#f92672>+</span> t2[j]);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> unique(begin(t1), end(t1));
</span></span><span style=display:flex><span>        t1.resize(distance(begin(t1), it));
</span></span><span style=display:flex><span>        sort(begin(t1), end(t1), greater<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>());
</span></span><span style=display:flex><span>        it <span style=color:#f92672>=</span> unique(begin(t2), end(t2));
</span></span><span style=display:flex><span>        t2.resize(distance(begin(t2), it));
</span></span><span style=display:flex><span>        sort(begin(t2), end(t2));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;</span>e : t1) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> lower_bound(begin(t2), end(t2), goal <span style=color:#f92672>-</span> e);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (it <span style=color:#f92672>!=</span> t2.end()) ans <span style=color:#f92672>=</span> min(ans, abs(goal <span style=color:#f92672>-</span> e <span style=color:#f92672>-</span> <span style=color:#f92672>*</span>it));
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (it <span style=color:#f92672>!=</span> t2.begin()) ans <span style=color:#f92672>=</span> min(ans, abs(goal <span style=color:#f92672>-</span> e <span style=color:#f92672>-</span> <span style=color:#f92672>*</span>(<span style=color:#f92672>--</span>it)));
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h2 id=week-7>Week 7</h2><h3 id=机器人跳跃问题-二分>机器人跳跃问题-二分</h3><h4 id=思路-28>思路</h4><p>注意mid大于等于1e5时，一定可以完成游戏</p><h4 id=代码-44>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], n;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>long</span> mid) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        mid <span style=color:#f92672>+=</span> mid <span style=color:#f92672>-</span> h[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (mid <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1e5</span>) <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (mid <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> h[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, r <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid)) r <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> l <span style=color:#f92672>=</span> mid <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> l;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=z字形扫描>Z字形扫描</h3><p><a href=https://www.acwing.com/problem/content/3211/>题目链接</a></p><h4 id=思路-29>思路</h4><ul><li>下标之和为偶数，从下到上遍历</li><li>下标之和为奇数，从上到下遍历</li></ul><h4 id=代码-45>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>505</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> g[N][N], n;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> n; j<span style=color:#f92672>++</span>) scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>g[i][j]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; i <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> n; i <span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (i <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i; j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; j<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>if</span> (j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> j <span style=color:#f92672>&lt;=</span> n <span style=color:#f92672>&amp;&amp;</span> i <span style=color:#f92672>-</span> j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> i <span style=color:#f92672>-</span> j <span style=color:#f92672>&lt;=</span> n)
</span></span><span style=display:flex><span>					printf(<span style=color:#e6db74>&#34;%d &#34;</span>, g[j][i<span style=color:#f92672>-</span>j]);
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> n; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>if</span> (j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> j <span style=color:#f92672>&lt;=</span> n <span style=color:#f92672>&amp;&amp;</span> i <span style=color:#f92672>-</span> j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> i <span style=color:#f92672>-</span> j <span style=color:#f92672>&lt;=</span> n)
</span></span><span style=display:flex><span>					printf(<span style=color:#e6db74>&#34;%d &#34;</span>, g[j][i<span style=color:#f92672>-</span>j]);
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=动态求连续区间和-线段树>动态求连续区间和-线段树</h3><p><a href=https://www.acwing.com/problem/content/1266/>题目链接</a></p><h4 id=线段树-代码>线段树-代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>node</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> l, r, sum;
</span></span><span style=display:flex><span>} tree[N <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, a[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>build</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> l, <span style=color:#66d9ef>int</span> r) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (l <span style=color:#f92672>==</span> r) tree[u] <span style=color:#f92672>=</span> {l, r, a[l]};
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        build(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>, l, mid), build(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>, mid<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, r);
</span></span><span style=display:flex><span>        tree[u] <span style=color:#f92672>=</span> {l, r, tree[u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>].sum <span style=color:#f92672>+</span> tree[u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>].sum};
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>update</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> i, <span style=color:#66d9ef>int</span> v) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (tree[u].l <span style=color:#f92672>==</span> i <span style=color:#f92672>&amp;&amp;</span> tree[u].r <span style=color:#f92672>==</span> i) tree[u].sum <span style=color:#f92672>+=</span> v;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> tree[u].l <span style=color:#f92672>+</span> tree[u].r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (i <span style=color:#f92672>&lt;=</span> mid) update(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>, i, v);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> update(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>, i, v);
</span></span><span style=display:flex><span>        tree[u].sum <span style=color:#f92672>=</span> tree[u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>].sum <span style=color:#f92672>+</span> tree[u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>].sum;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>query</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> l, <span style=color:#66d9ef>int</span> r) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (tree[u].l <span style=color:#f92672>==</span> l <span style=color:#f92672>&amp;&amp;</span> tree[u].r <span style=color:#f92672>==</span> r) <span style=color:#66d9ef>return</span> tree[u].sum;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> tree[u].l <span style=color:#f92672>+</span> tree[u].r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (r <span style=color:#f92672>&lt;=</span> mid) <span style=color:#66d9ef>return</span> query(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>, l, r);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (l <span style=color:#f92672>&gt;</span> mid) <span style=color:#66d9ef>return</span> query(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>, l, r);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>return</span> query(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>, l, mid) <span style=color:#f92672>+</span> query(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>, mid<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, r);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>a[i]);
</span></span><span style=display:flex><span>    build(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> k, a, b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>k, <span style=color:#f92672>&amp;</span>a, <span style=color:#f92672>&amp;</span>b);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span>k) printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, query(<span style=color:#ae81ff>1</span>, a, b));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> update(<span style=color:#ae81ff>1</span>, a, b);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=树状数组-代码>树状数组-代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> C[N], n, m;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> k) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> x; i <span style=color:#f92672>&lt;=</span> n; i <span style=color:#f92672>+=</span> i <span style=color:#f92672>&amp;</span> <span style=color:#f92672>-</span>i) C[i] <span style=color:#f92672>+=</span> k;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_sum</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> s <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> x; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>-=</span> i <span style=color:#f92672>&amp;</span> <span style=color:#f92672>-</span>i) s <span style=color:#f92672>+=</span> C[i];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> s;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> t;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>t);
</span></span><span style=display:flex><span>        add(i, t);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> k, a, b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>k, <span style=color:#f92672>&amp;</span>a, <span style=color:#f92672>&amp;</span>b);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>k) printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, get_sum(b) <span style=color:#f92672>-</span> get_sum(a<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> add(a, b);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=奇怪的数-组合计数>奇怪的数-组合计数</h3><p><a href=https://www.acwing.com/problem/content/3198/>题目链接</a></p><h4 id=思路-30>思路</h4><ul><li>划分为两类<ul><li>0、1：$k$位, $ 2 \le k \le n - 2 $</li><li>2、3：$n-k$位</li></ul></li><li>放0、1：第一位不能放, 剩下$n-1$位可以放$k$个0、1-> $ C_{n-1}^{k} $</li><li>0的个数：$1 \le cnt_0 \le k-1$, 共$k-1$种可能，2的个数：$1 \le cnt_2 \le n-k-1$，共$n-k-1$种可能</li><li>$ ans = \sum_{k=2}^{n-2}{C_{n-1}^{k}(k-1)(n-k-1)} $</li></ul><h4 id=代码-46>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, C[N][N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mod <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e9</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>7</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;=</span> i; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>j) C[i][j] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> C[i][j] <span style=color:#f92672>=</span> (C[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j] <span style=color:#f92672>+</span> C[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]) <span style=color:#f92672>%</span> mod;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; k <span style=color:#f92672>&lt;=</span> n <span style=color:#f92672>-</span> <span style=color:#ae81ff>2</span>; k<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> (ans <span style=color:#f92672>+</span> C[n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][k] <span style=color:#f92672>*</span> <span style=color:#ae81ff>1ll</span> <span style=color:#f92672>*</span> (k <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>%</span> mod <span style=color:#f92672>*</span> (n <span style=color:#f92672>-</span> k <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)) <span style=color:#f92672>%</span> mod;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=最优配餐-多源bfs>最优配餐-多源BFS</h3><p><a href=https://www.acwing.com/problem/content/description/3208/>题目链接</a></p><h4 id=思路-31>思路</h4><p>将起点都入队列进行BFS</p><h4 id=代码-47>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1005</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, k, d, dist[N][N], w[N][N];
</span></span><span style=display:flex><span>queue<span style=color:#f92672>&lt;</span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> Q;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>bfs</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> dx[]{<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>}, dy[]{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>Q.empty()) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> [x, y] <span style=color:#f92672>=</span> Q.front();
</span></span><span style=display:flex><span>        Q.pop();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> nx <span style=color:#f92672>=</span> x <span style=color:#f92672>+</span> dx[i], ny <span style=color:#f92672>=</span> y <span style=color:#f92672>+</span> dy[i];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (nx <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> nx <span style=color:#f92672>&gt;</span> n <span style=color:#f92672>||</span> ny <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> ny <span style=color:#f92672>&gt;</span> n <span style=color:#f92672>||</span> dist[nx][ny] <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>            dist[nx][ny] <span style=color:#f92672>=</span> dist[x][y] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            Q.push({nx, ny});
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m, <span style=color:#f92672>&amp;</span>k, <span style=color:#f92672>&amp;</span>d);
</span></span><span style=display:flex><span>    memset(dist, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> dist);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> x, y;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>x, <span style=color:#f92672>&amp;</span>y);
</span></span><span style=display:flex><span>        Q.push({x, y});
</span></span><span style=display:flex><span>        dist[x][y] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> c;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> k; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>x, <span style=color:#f92672>&amp;</span>y, <span style=color:#f92672>&amp;</span>c);
</span></span><span style=display:flex><span>        w[x][y] <span style=color:#f92672>+=</span> c;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> d; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>x, <span style=color:#f92672>&amp;</span>y);
</span></span><span style=display:flex><span>        dist[x][y] <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    bfs();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>long</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> n; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (w[i][j])
</span></span><span style=display:flex><span>                ans <span style=color:#f92672>+=</span> w[i][j] <span style=color:#f92672>*</span> dist[i][j] <span style=color:#f92672>*</span> <span style=color:#ae81ff>1ll</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%ld</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, ans);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=leetcode-995-k-连续位的最小翻转次数>LeetCode-995 K 连续位的最小翻转次数</h3><p><a href=https://leetcode-cn.com/problems/minimum-number-of-k-consecutive-bit-flips/>题目链接</a></p><h4 id=思路-32>思路</h4><p>差分数组<code>d[i]表示i位置需要翻转的次数 - i-1位置需要翻转的次数</code>
cnt表示当前位置需要翻转的次数
若<code>A[i]+cnt</code>是偶数则需要翻转：<code>cnt++, d[i+k]++</code>
若<code>i+K > n</code>则不可能</p><h4 id=代码-48>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> minKBitFlips(vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&amp;</span> A, <span style=color:#66d9ef>int</span> K) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> A.size();
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> d(n <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            cnt <span style=color:#f92672>+=</span> d[i];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>((A[i] <span style=color:#f92672>+</span> cnt) <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>)) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (i <span style=color:#f92672>+</span> K <span style=color:#f92672>&gt;</span> n) <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>                <span style=color:#f92672>++</span>cnt;
</span></span><span style=display:flex><span>                <span style=color:#f92672>++</span>ans;
</span></span><span style=display:flex><span>                d[i<span style=color:#f92672>+</span>K]<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=最小生成树>最小生成树</h3><p><a href=https://loj.ac/p/123>题目链接</a></p><h4 id=prim>Prim</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> P <span style=color:#f92672>=</span> pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>2e5</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>vector<span style=color:#f92672>&lt;</span>P<span style=color:#f92672>&gt;</span> g[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> vis[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span>priority_queue<span style=color:#f92672>&lt;</span>P<span style=color:#f92672>&gt;</span> Q;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b, c;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>a, <span style=color:#f92672>&amp;</span>b, <span style=color:#f92672>&amp;</span>c);
</span></span><span style=display:flex><span>        g[a].push_back({b, c});
</span></span><span style=display:flex><span>        g[b].push_back({a, c});
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    Q.push({<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>});
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>long</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (true) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> [w, v] <span style=color:#f92672>=</span> Q.top();
</span></span><span style=display:flex><span>            Q.pop();
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (vis[v]) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>            vis[v] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>            ans <span style=color:#f92672>+=</span> <span style=color:#f92672>-</span>w;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>auto</span> [_v, _w] <span style=color:#f92672>:</span> g[v]) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (vis[_v]) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>                Q.push({<span style=color:#f92672>-</span>_w, _v});
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%ld</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, ans);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=kruskal>Kruskal</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>UF</span> {
</span></span><span style=display:flex><span>	vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> id, sz;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>	UF(<span style=color:#66d9ef>int</span> N) {
</span></span><span style=display:flex><span>		id.resize(N);
</span></span><span style=display:flex><span>		sz.resize(N);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> N; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>			id[i] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>			sz[i] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>find</span>(<span style=color:#66d9ef>int</span> p) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>while</span> (p <span style=color:#f92672>!=</span> id[p]) {
</span></span><span style=display:flex><span>			id[p] <span style=color:#f92672>=</span> id[id[p]];
</span></span><span style=display:flex><span>			p <span style=color:#f92672>=</span> id[p];
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> p;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>_union</span>(<span style=color:#66d9ef>int</span> p, <span style=color:#66d9ef>int</span> q) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> find(p), j <span style=color:#f92672>=</span> find(q);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (i <span style=color:#f92672>==</span> j) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (sz[i] <span style=color:#f92672>&lt;</span> sz[j]) {
</span></span><span style=display:flex><span>			id[i] <span style=color:#f92672>=</span> j;
</span></span><span style=display:flex><span>			sz[j] <span style=color:#f92672>+=</span> sz[i];
</span></span><span style=display:flex><span>		} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>			id[j] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>			sz[i] <span style=color:#f92672>+=</span> sz[j];
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>node</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> w, u, v;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>friend</span> <span style=color:#66d9ef>bool</span> <span style=color:#66d9ef>operator</span><span style=color:#f92672>&lt;</span>(<span style=color:#66d9ef>const</span> node <span style=color:#f92672>&amp;</span>a, <span style=color:#66d9ef>const</span> node<span style=color:#f92672>&amp;</span> b) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (a.w <span style=color:#f92672>==</span> b.w) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>make_pair</span>(a.u, a.v) <span style=color:#f92672>&gt;</span> make_pair(b.u, b.v);
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> a.w <span style=color:#f92672>&gt;</span> b.w;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span>priority_queue<span style=color:#f92672>&lt;</span>node<span style=color:#f92672>&gt;</span> Q;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span>	UF uf(n);
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> a, b, c;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>		scanf(<span style=color:#e6db74>&#34;%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>a, <span style=color:#f92672>&amp;</span>b, <span style=color:#f92672>&amp;</span>c);
</span></span><span style=display:flex><span>		Q.push({c, a, b});
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>long</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>Q.empty() <span style=color:#f92672>&amp;&amp;</span> cnt <span style=color:#f92672>&lt;</span> n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>auto</span> [w, u, v] <span style=color:#f92672>=</span> Q.top();
</span></span><span style=display:flex><span>		Q.pop();
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (uf._union(u<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, v<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)) {
</span></span><span style=display:flex><span>			ans <span style=color:#f92672>+=</span> w;
</span></span><span style=display:flex><span>			<span style=color:#f92672>++</span>cnt;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	printf(<span style=color:#e6db74>&#34;%ld</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, ans);
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=单源最短路>单源最短路</h3><p><a href=https://loj.ac/p/119>题目链接</a></p><h4 id=代码-49>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> P <span style=color:#f92672>=</span> pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>2505</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>12500</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], e[M], ne[M], w[M], idx;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b, <span style=color:#66d9ef>int</span> c) {
</span></span><span style=display:flex><span>    e[idx] <span style=color:#f92672>=</span> b, w[idx] <span style=color:#f92672>=</span> c, ne[idx] <span style=color:#f92672>=</span> h[a], h[a] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, dist[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> st[N];
</span></span><span style=display:flex><span>priority_queue<span style=color:#f92672>&lt;</span>P<span style=color:#f92672>&gt;</span> Q;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dijkstra</span>(<span style=color:#66d9ef>int</span> s, <span style=color:#66d9ef>int</span> t) {
</span></span><span style=display:flex><span>    memset(dist, <span style=color:#ae81ff>0x3f</span>, <span style=color:#66d9ef>sizeof</span> dist);
</span></span><span style=display:flex><span>    Q.push({<span style=color:#ae81ff>0</span>, s});
</span></span><span style=display:flex><span>    dist[s] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>Q.empty()) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> [d, u] <span style=color:#f92672>=</span> Q.top();
</span></span><span style=display:flex><span>        Q.pop();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (st[u])
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        st[u] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[u]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (dist[v] <span style=color:#f92672>&gt;</span> <span style=color:#f92672>-</span>d <span style=color:#f92672>+</span> w[i]) {
</span></span><span style=display:flex><span>                dist[v] <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>d <span style=color:#f92672>+</span> w[i];
</span></span><span style=display:flex><span>                Q.push({<span style=color:#f92672>-</span>dist[v], v});
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> s, t;
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m, <span style=color:#f92672>&amp;</span>s, <span style=color:#f92672>&amp;</span>t);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b, c;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>a, <span style=color:#f92672>&amp;</span>b, <span style=color:#f92672>&amp;</span>c);
</span></span><span style=display:flex><span>        add(a, b, c);
</span></span><span style=display:flex><span>        add(b, a, c);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    dijkstra(s, t);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, dist[t]);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=网络延时-树形dp>网络延时-树形DP</h3><p><a href=https://www.acwing.com/problem/content/3218/>题目链接</a></p><h4 id=思路-33>思路</h4><p>树形DP模板</p><h4 id=代码-50>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>20005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], e[N], ne[N], idx;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, f[N]; <span style=color:#75715e>// f[u]: 表示u到最远叶节点的距离。显然如果u是节点，则f[u]=0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    e[idx] <span style=color:#f92672>=</span> b, ne[idx] <span style=color:#f92672>=</span> h[a], h[a] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> u) { <span style=color:#75715e>// 求以u为根节点到叶节点的最大距离
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, b <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#75715e>// a记录u到最远叶节点的距离，b记录u到次远叶节点的距离
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[u]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>        dfs(v); <span style=color:#75715e>//求子节点j到最远叶节点的距离
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> f[v] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; <span style=color:#75715e>//u通过j能到的最远叶节点的距离
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>//更新a, b
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (t <span style=color:#f92672>&gt;=</span> a) b <span style=color:#f92672>=</span> a, a <span style=color:#f92672>=</span> t;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (t <span style=color:#f92672>&gt;</span> b) b <span style=color:#f92672>=</span> t;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    f[u] <span style=color:#f92672>=</span> a;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 最后的答案就是u所能到的最远叶节点距离和次远叶节点距离之和
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    ans <span style=color:#f92672>=</span> max(ans, a <span style=color:#f92672>+</span> b);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> j;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; i <span style=color:#f92672>&lt;=</span> n <span style=color:#f92672>+</span> m; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>j);
</span></span><span style=display:flex><span>        add(j, i); <span style=color:#75715e>// 因为是自根向下DP，所以建一条边即可
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    dfs(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=序列化二叉树>序列化二叉树</h3><p><a href=https://www.acwing.com/problem/content/description/46/>题目链接</a></p><h4 id=代码-51>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>serialize</span>(self, root):
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>dfs_s</span>(root):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>nonlocal</span> ans
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> root:
</span></span><span style=display:flex><span>                ans <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#39;None &#39;</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>: 
</span></span><span style=display:flex><span>                ans <span style=color:#f92672>+=</span> str(root<span style=color:#f92672>.</span>val) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39; &#39;</span>
</span></span><span style=display:flex><span>            dfs_s(root<span style=color:#f92672>.</span>left)
</span></span><span style=display:flex><span>            dfs_s(root<span style=color:#f92672>.</span>right)
</span></span><span style=display:flex><span>        dfs_s(root)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>deserialize</span>(self, data):
</span></span><span style=display:flex><span>        A <span style=color:#f92672>=</span> data<span style=color:#f92672>.</span>split()
</span></span><span style=display:flex><span>        k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>dfs_d</span>():
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>nonlocal</span> A, k
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> k <span style=color:#f92672>==</span> len(A): <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> A[k] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;None&#39;</span>: 
</span></span><span style=display:flex><span>                k <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>            root <span style=color:#f92672>=</span> TreeNode(int(A[k]))
</span></span><span style=display:flex><span>            k <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            root<span style=color:#f92672>.</span>left <span style=color:#f92672>=</span> dfs_d()
</span></span><span style=display:flex><span>            root<span style=color:#f92672>.</span>right <span style=color:#f92672>=</span> dfs_d()
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> root
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> dfs_d()
</span></span></code></pre></div><h3 id=最大亦或和-线性基>最大亦或和-线性基</h3><p><a href=https://www.acwing.com/problem/content/submission/3167/>题目链接</a></p><h4 id=思路-34>思路</h4><ul><li>构造线性基的方法如下：对于集合中的每个数<code>x</code>转为二进制，从高位向低位扫，对于第<code>i</code>位是<code>1</code>的，如果<code>p[i]</code>不存在，那么<code>p[i] = x</code>结束扫描，如果存在，令<code>x = x ^ p[i]</code></li><li>查询集合内任意几个元素<code>xor</code>最大值：从高位向低位扫，若<code>xor</code>上当前扫到的<code>p[i]</code>答案变大，就把答案<code>xor</code>上<code>p[i]</code></li><li>查询原集合内任意几个元素<code>xor</code>的最小值，就是线性基集合所有元素中最小的那个</li></ul><h4 id=代码-52>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> ull <span style=color:#f92672>=</span> <span style=color:#66d9ef>unsigned</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span>;
</span></span><span style=display:flex><span>ull p[<span style=color:#ae81ff>65</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>auto</span> insert <span style=color:#f92672>=</span> [](ull x) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>63</span>; <span style=color:#f92672>~</span>i; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>(x <span style=color:#f92672>&gt;&gt;</span> i <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>)) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>p[i]) {
</span></span><span style=display:flex><span>                p[i] <span style=color:#f92672>=</span> x;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            x <span style=color:#f92672>^=</span> p[i];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>    ull x;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (n<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%lld&#34;</span>, <span style=color:#f92672>&amp;</span>x);
</span></span><span style=display:flex><span>        insert(x);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    ull ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>63</span>; <span style=color:#f92672>~</span>i; i<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> max(ans, ans <span style=color:#f92672>^</span> p[i]);
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%lld&#34;</span>, ans);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=通信网络-枚举dfs>通信网络-枚举+dfs</h3><p><a href=https://www.acwing.com/problem/content/description/3253/>题目链接</a></p><h4 id=代码-53>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1005</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>10005</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], e[M], ne[M], idx;
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    e[idx] <span style=color:#f92672>=</span> b, ne[idx] <span style=color:#f92672>=</span> h[a], h[a] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> st[N][N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> s, <span style=color:#66d9ef>int</span> u) {
</span></span><span style=display:flex><span>    st[s][u] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[u]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (st[s][v]) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>        dfs(s, v);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>a, <span style=color:#f92672>&amp;</span>b);
</span></span><span style=display:flex><span>        add(a, b);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        dfs(i, i);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> n; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (st[i][j]) st[j][i] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (; j <span style=color:#f92672>&lt;=</span> n; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span>st[i][j]) <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (j <span style=color:#f92672>&gt;</span> n) <span style=color:#f92672>++</span>ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=压缩编码-区间dp>压缩编码-区间DP</h3><h4 id=思路-35>思路</h4><ul><li>状态表示<code>f[i][j]</code><ul><li>集合：所有将<code>[i, j]</code>合并成一堆的方案的集合</li><li>属性：最小值</li></ul></li><li>状态计算：<code>f[i][j] = min(f[i][j], f[i][k] + f[k+1][j] + s[j] - s[i-1])</code></li></ul><h4 id=代码-54>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;climits&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, f[N][N], s[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>s[i]);
</span></span><span style=display:flex><span>        s[i] <span style=color:#f92672>+=</span> s[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> len <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; len <span style=color:#f92672>&lt;=</span> n; len<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>+</span> len <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i <span style=color:#f92672>+</span> len <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            f[i][j] <span style=color:#f92672>=</span> INT_MAX;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> i; k <span style=color:#f92672>&lt;</span> j; k<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                f[i][j] <span style=color:#f92672>=</span> min(f[i][j], f[i][k] <span style=color:#f92672>+</span> f[k<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][j] <span style=color:#f92672>+</span> s[j] <span style=color:#f92672>-</span> s[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> f[<span style=color:#ae81ff>1</span>][n];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=杂题记录>杂题记录</h2><h3 id=后序遍历>后序遍历</h3><p><a href=https://hihocoder.com/problemset/problem/1049>题目链接</a></p><h4 id=代码-55>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;unordered_map&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;functional&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>30</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>node</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>char</span> c;
</span></span><span style=display:flex><span>    node <span style=color:#f92672>*</span>l, <span style=color:#f92672>*</span>r;
</span></span><span style=display:flex><span>    node(<span style=color:#66d9ef>char</span> _c) <span style=color:#f92672>:</span> c(_c), l(<span style=color:#66d9ef>nullptr</span>), r(<span style=color:#66d9ef>nullptr</span>) {}
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>print</span>(node <span style=color:#f92672>*</span>root) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>root) <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>    print(root<span style=color:#f92672>-&gt;</span>l);
</span></span><span style=display:flex><span>    print(root<span style=color:#f92672>-&gt;</span>r);
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%c&#34;</span>, root<span style=color:#f92672>-&gt;</span>c);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>unordered_map<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>char</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> M;
</span></span><span style=display:flex><span>string A, B;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>node<span style=color:#f92672>*</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> pl, <span style=color:#66d9ef>int</span> pr, <span style=color:#66d9ef>int</span> il, <span style=color:#66d9ef>int</span> ir) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (pl <span style=color:#f92672>&gt;</span> pr) <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nullptr</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> M[A[pl]];
</span></span><span style=display:flex><span>    node <span style=color:#f92672>*</span>root <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> node(A[pl]);
</span></span><span style=display:flex><span>    root<span style=color:#f92672>-&gt;</span>l <span style=color:#f92672>=</span> dfs(pl <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, pl <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> it <span style=color:#f92672>-</span> il <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>, il, it <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    root<span style=color:#f92672>-&gt;</span>r <span style=color:#f92672>=</span> dfs(pl <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> it <span style=color:#f92672>-</span> il, pr, it <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, ir);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> root;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    ios<span style=color:#f92672>::</span>sync_with_stdio(false), cin.tie(<span style=color:#66d9ef>nullptr</span>), cout.tie(<span style=color:#66d9ef>nullptr</span>);
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> A <span style=color:#f92672>&gt;&gt;</span> B;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> A.size();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) M[B[i]] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>auto</span> root <span style=color:#f92672>=</span> dfs(<span style=color:#ae81ff>0</span>, n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    print(root);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=树的遍历-中序后序求层次>树的遍历-中序后序求层次</h3><p><a href=https://www.acwing.com/problem/content/1499/>题目链接</a></p><h4 id=代码-56>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>TreeNode</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>val</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>left</span>, <span style=color:#a6e22e>right</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>after</span>, <span style=color:#a6e22e>in</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>), make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>after</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>after</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>in</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>in</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mp</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>int</span>]<span style=color:#66d9ef>int</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>in</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>mp</span>[<span style=color:#a6e22e>in</span>[<span style=color:#a6e22e>i</span>]] = <span style=color:#a6e22e>i</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>dfs</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>il</span>, <span style=color:#a6e22e>ir</span>, <span style=color:#a6e22e>al</span>, <span style=color:#a6e22e>ar</span> <span style=color:#66d9ef>int</span>) (<span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dfs</span> = <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>il</span>, <span style=color:#a6e22e>ir</span>, <span style=color:#a6e22e>al</span>, <span style=color:#a6e22e>ar</span> <span style=color:#66d9ef>int</span>) (<span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>al</span> &gt; <span style=color:#a6e22e>ar</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>idx</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>mp</span>[<span style=color:#a6e22e>after</span>[<span style=color:#a6e22e>ar</span>]]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>root</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>TreeNode</span>{
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>val</span>: <span style=color:#a6e22e>after</span>[<span style=color:#a6e22e>ar</span>],
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>left</span>: <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>il</span>, <span style=color:#a6e22e>idx</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>al</span>, <span style=color:#a6e22e>al</span><span style=color:#f92672>+</span><span style=color:#a6e22e>idx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>il</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>right</span>: <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>idx</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>ir</span>, <span style=color:#a6e22e>al</span><span style=color:#f92672>+</span><span style=color:#a6e22e>idx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>il</span>, <span style=color:#a6e22e>ar</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>root</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>root</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>que</span> <span style=color:#f92672>:=</span> make([](<span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>), <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>que</span> = append(<span style=color:#a6e22e>que</span>, <span style=color:#a6e22e>root</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> len(<span style=color:#a6e22e>que</span>) <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>front</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>que</span>[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%d &#34;</span>, <span style=color:#a6e22e>front</span>.<span style=color:#a6e22e>val</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>que</span> = <span style=color:#a6e22e>que</span>[<span style=color:#ae81ff>1</span>:]
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>front</span>.<span style=color:#a6e22e>left</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>que</span> = append(<span style=color:#a6e22e>que</span>, <span style=color:#a6e22e>front</span>.<span style=color:#a6e22e>left</span>)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>front</span>.<span style=color:#a6e22e>right</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>que</span> = append(<span style=color:#a6e22e>que</span>, <span style=color:#a6e22e>front</span>.<span style=color:#a6e22e>right</span>)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=树中的最长路>树中的最长路</h3><p><a href="https://hihocoder.com/problemset/problem/1050?sid=1602976">题目链接</a></p><h4 id=代码-57>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;unordered_map&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;functional&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], e[N], ne[N], idx;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    e[idx] <span style=color:#f92672>=</span> b, ne[idx] <span style=color:#f92672>=</span> h[a], h[a] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, f[N], ans;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> u) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, b <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[u]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>        dfs(v);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> f[v] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (t <span style=color:#f92672>&gt;=</span> a) b <span style=color:#f92672>=</span> a, a <span style=color:#f92672>=</span> t;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (t <span style=color:#f92672>&gt;</span> b) b <span style=color:#f92672>=</span> t;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    f[u] <span style=color:#f92672>=</span> a;
</span></span><span style=display:flex><span>    ans <span style=color:#f92672>=</span> max(ans, a <span style=color:#f92672>+</span> b);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span><span style=color:#75715e>#ifndef ONLINE_JUDGE
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    freopen(<span style=color:#e6db74>&#34;input.txt&#34;</span>, <span style=color:#e6db74>&#34;r&#34;</span>, stdin);
</span></span><span style=display:flex><span>    freopen(<span style=color:#e6db74>&#34;output.txt&#34;</span>, <span style=color:#e6db74>&#34;w&#34;</span>, stdout);
</span></span><span style=display:flex><span><span style=color:#75715e>#endif
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    ios<span style=color:#f92672>::</span>sync_with_stdio(false), cin.tie(<span style=color:#66d9ef>nullptr</span>), cout.tie(<span style=color:#66d9ef>nullptr</span>);
</span></span><span style=display:flex><span>    memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a <span style=color:#f92672>&gt;&gt;</span> b;
</span></span><span style=display:flex><span>        add(a, b);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    dfs(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=rmq问题再临>RMQ问题再临</h3><p><a href=https://hihocoder.com/problemset/problem/1070>题目链接</a></p><h4 id=代码-58>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e4</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>node</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> l, r, minv;
</span></span><span style=display:flex><span>} tree[N <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, a[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>build</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> l, <span style=color:#66d9ef>int</span> r) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (l <span style=color:#f92672>==</span> r) tree[u] <span style=color:#f92672>=</span> {l, r, a[l]};
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        build(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>, l, mid), build(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>, mid<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, r);
</span></span><span style=display:flex><span>        tree[u] <span style=color:#f92672>=</span> {l, r, min(tree[u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>].minv, tree[u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>].minv)};
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>update</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> i, <span style=color:#66d9ef>int</span> v) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (tree[u].l <span style=color:#f92672>==</span> i <span style=color:#f92672>&amp;&amp;</span> tree[u].r <span style=color:#f92672>==</span> i)
</span></span><span style=display:flex><span>        tree[u].minv <span style=color:#f92672>=</span> v;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> tree[u].l <span style=color:#f92672>+</span> tree[u].r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (i <span style=color:#f92672>&lt;=</span> mid) update(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>, i, v);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> update(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>, i, v);
</span></span><span style=display:flex><span>        tree[u].minv <span style=color:#f92672>=</span> min(tree[u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>].minv, tree[u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>].minv);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>query</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> l, <span style=color:#66d9ef>int</span> r) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (tree[u].l <span style=color:#f92672>==</span> l <span style=color:#f92672>&amp;&amp;</span> tree[u].r <span style=color:#f92672>==</span> r) <span style=color:#66d9ef>return</span> tree[u].minv;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> tree[u].l <span style=color:#f92672>+</span> tree[u].r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (r <span style=color:#f92672>&lt;=</span> mid) <span style=color:#66d9ef>return</span> query(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>, l, r);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (l <span style=color:#f92672>&gt;</span> mid) <span style=color:#66d9ef>return</span> query(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>, l, r);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>return</span> min(query(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>, l, mid), query(u<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>|</span><span style=color:#ae81ff>1</span>, mid<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, r));
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    ios<span style=color:#f92672>::</span>sync_with_stdio(false);
</span></span><span style=display:flex><span>    cin.tie(<span style=color:#66d9ef>nullptr</span>), cout.tie(<span style=color:#66d9ef>nullptr</span>);
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) cin <span style=color:#f92672>&gt;&gt;</span> a[i];
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    build(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b, c;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> a <span style=color:#f92672>&gt;&gt;</span> b <span style=color:#f92672>&gt;&gt;</span> c;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>a) cout <span style=color:#f92672>&lt;&lt;</span> query(<span style=color:#ae81ff>1</span>, b, c) <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> update(<span style=color:#ae81ff>1</span>, b, c);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=无间道之并查集>无间道之并查集</h3><p><a href=https://hihocoder.com/problemset/problem/1066>题目链接</a></p><h4 id=代码-59>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>UF</span> {
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> id, sz;
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    UF(<span style=color:#66d9ef>int</span> N) {
</span></span><span style=display:flex><span>        id.resize(N), sz.resize(N);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            id[i] <span style=color:#f92672>=</span> i, sz[i] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>find</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (x <span style=color:#f92672>!=</span> id[x]) {
</span></span><span style=display:flex><span>            id[x] <span style=color:#f92672>=</span> id[id[x]];
</span></span><span style=display:flex><span>            x <span style=color:#f92672>=</span> id[x];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> x;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>is_connected</span>(<span style=color:#66d9ef>int</span> p, <span style=color:#66d9ef>int</span> q) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> find(p), j <span style=color:#f92672>=</span> find(q);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> i <span style=color:#f92672>==</span> j;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>_union</span>(<span style=color:#66d9ef>int</span> p, <span style=color:#66d9ef>int</span> q) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> find(p), j <span style=color:#f92672>=</span> find(q);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (i <span style=color:#f92672>==</span> j) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (sz[i] <span style=color:#f92672>&lt;</span> sz[j]) {
</span></span><span style=display:flex><span>            id[i] <span style=color:#f92672>=</span> j;
</span></span><span style=display:flex><span>            sz[j] <span style=color:#f92672>+=</span> sz[i];
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            id[j] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>            sz[i] <span style=color:#f92672>+=</span> sz[j];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>unordered_map<span style=color:#f92672>&lt;</span>string, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> M;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> idx;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_hash</span>(<span style=color:#66d9ef>const</span> string <span style=color:#f92672>&amp;</span>str) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (M.count(str)) <span style=color:#66d9ef>return</span> M[str];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>return</span> M[str] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    ios<span style=color:#f92672>::</span>sync_with_stdio(false);
</span></span><span style=display:flex><span>    cin.tie(<span style=color:#66d9ef>nullptr</span>), cout.tie(<span style=color:#66d9ef>nullptr</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>    UF uf(n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> op;
</span></span><span style=display:flex><span>    string a, b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (n<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> op <span style=color:#f92672>&gt;&gt;</span> a <span style=color:#f92672>&gt;&gt;</span> b;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> get_hash(a), j <span style=color:#f92672>=</span> get_hash(b);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>op) uf._union(i, j);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            puts(uf.is_connected(i, j) <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;yes&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;no&#34;</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=二分图判定>二分图判定</h3><p><a href=https://hihocoder.com/problemset/problem/1121>题目链接</a></p><h4 id=思路-36>思路</h4><p>染色法</p><h4 id=代码-60>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;unordered_map&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;functional&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e4</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], e[M], ne[M], idx;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    e[idx] <span style=color:#f92672>=</span> b, ne[idx] <span style=color:#f92672>=</span> h[a], h[a] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, color[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> c) {
</span></span><span style=display:flex><span>    color[u] <span style=color:#f92672>=</span> c;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[u]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (color[v]) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (color[v] <span style=color:#f92672>==</span> c) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>dfs(v, <span style=color:#ae81ff>3</span> <span style=color:#f92672>-</span> c)) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    ios<span style=color:#f92672>::</span>sync_with_stdio(false), cin.tie(<span style=color:#66d9ef>nullptr</span>), cout.tie(<span style=color:#66d9ef>nullptr</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> T;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> T;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (T<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        idx <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>        memset(color, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span> color);
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> a, b;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> a <span style=color:#f92672>&gt;&gt;</span> b;
</span></span><span style=display:flex><span>            add(a, b);
</span></span><span style=display:flex><span>            add(b, a);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>bool</span> is_break <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>color[i] <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span>dfs(i, <span style=color:#ae81ff>1</span>)) {
</span></span><span style=display:flex><span>                is_break <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        puts(is_break <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;Wrong&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Correct&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=猜字谜>猜字谜</h3><p><a href=https://leetcode-cn.com/problems/number-of-valid-words-for-each-puzzle/>题目链接</a></p><h4 id=代码-61>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> findNumOfValidWords(vector<span style=color:#f92672>&lt;</span>string<span style=color:#f92672>&gt;&amp;</span> words, vector<span style=color:#f92672>&lt;</span>string<span style=color:#f92672>&gt;&amp;</span> puzzles) {
</span></span><span style=display:flex><span>        unordered_map<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> mp;
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> ans(puzzles.size());
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;</span>e : words) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;</span>c : e)
</span></span><span style=display:flex><span>                t <span style=color:#f92672>|=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> (c <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> tmp <span style=color:#f92672>=</span> bitset<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>26</span><span style=color:#f92672>&gt;</span>(t);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (tmp.count() <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>7</span>) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>            mp[t]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> puzzles.size(); i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            string p <span style=color:#f92672>=</span> puzzles[i];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> mask <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>7</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                mask <span style=color:#f92672>|=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> (p[i] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> subset <span style=color:#f92672>=</span> mask;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>do</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> t <span style=color:#f92672>=</span> subset <span style=color:#f92672>|</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> (p[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>));
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (mp.count(t)) ans[i] <span style=color:#f92672>+=</span> mp[t];
</span></span><span style=display:flex><span>                subset <span style=color:#f92672>=</span> (subset <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>&amp;</span> mask;
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>while</span> (subset <span style=color:#f92672>!=</span> mask);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=至少有k个重复字符的最长子串>至少有K个重复字符的最长子串</h3><p><a href=https://leetcode-cn.com/problems/longest-substring-with-at-least-k-repeating-characters/>题目链接</a></p><h4 id=code-in-golang>Code in Golang</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>longestSubstring</span>(<span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>k</span> <span style=color:#66d9ef>int</span>) (<span style=color:#a6e22e>ans</span> <span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>s</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;&#34;</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cnt</span> <span style=color:#f92672>:=</span> [<span style=color:#ae81ff>26</span>]<span style=color:#66d9ef>int</span>{}
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span>(<span style=color:#a6e22e>s</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>v</span><span style=color:#f92672>-</span><span style=color:#e6db74>&#39;a&#39;</span>]<span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>split</span> <span style=color:#66d9ef>byte</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span>(<span style=color:#a6e22e>cnt</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>v</span> &gt; <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>v</span> &lt; <span style=color:#a6e22e>k</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>split</span> = <span style=color:#e6db74>&#39;a&#39;</span> <span style=color:#f92672>+</span> byte(<span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>split</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> len(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Split</span>(<span style=color:#a6e22e>s</span>, string(<span style=color:#a6e22e>split</span>)) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> = max(<span style=color:#a6e22e>ans</span>, <span style=color:#a6e22e>longestSubstring</span>(<span style=color:#a6e22e>v</span>, <span style=color:#a6e22e>k</span>))
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> max(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=code-in-python>Code in Python</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>longestSubstring</span>(self, s: str, k: int) <span style=color:#f92672>-&gt;</span> int:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> len(s) <span style=color:#f92672>&lt;</span> k: <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> v <span style=color:#f92672>in</span> set(s):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> s<span style=color:#f92672>.</span>count(v) <span style=color:#f92672>&lt;</span> k:
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> max(self<span style=color:#f92672>.</span>longestSubstring(t, k) <span style=color:#66d9ef>for</span> t <span style=color:#f92672>in</span> s<span style=color:#f92672>.</span>split(v))
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> len(s)
</span></span></code></pre></div><h3 id=找到-k-个最接近的元素>找到 K 个最接近的元素</h3><h4 id=堆-nlogk做法>堆-$nlogk$做法</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> findClosestElements(vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&amp;</span> arr, <span style=color:#66d9ef>int</span> k, <span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>        priority_queue<span style=color:#f92672>&lt;</span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> Q;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;</span>e : arr) {
</span></span><span style=display:flex><span>            Q.push({abs(e <span style=color:#f92672>-</span> x), e});
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (Q.size() <span style=color:#f92672>&gt;</span> k) Q.pop();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> ans(k);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> idx <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>Q.empty()) {
</span></span><span style=display:flex><span>            ans[idx<span style=color:#f92672>++</span>] <span style=color:#f92672>=</span> Q.top().second;
</span></span><span style=display:flex><span>            Q.pop();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        sort(ans.begin(), ans.end());
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h4 id=二分双指针-lognk做法rust>二分+双指针-$logn+k$做法(Rust)</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>impl</span> Solution {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>find_closest_elements</span>(arr: Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>, k: <span style=color:#66d9ef>i32</span>, x: <span style=color:#66d9ef>i32</span>) -&gt; Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> n: <span style=color:#66d9ef>i32</span> <span style=color:#f92672>=</span> arr.len() <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>i32</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> l: <span style=color:#66d9ef>i32</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> r: <span style=color:#66d9ef>i32</span> <span style=color:#f92672>=</span> n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> l <span style=color:#f92672>&lt;</span> r {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> mid: <span style=color:#66d9ef>usize</span> <span style=color:#f92672>=</span> ((l <span style=color:#f92672>+</span> r) <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> arr[mid] <span style=color:#f92672>&gt;=</span> x {
</span></span><span style=display:flex><span>                r <span style=color:#f92672>=</span> mid <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>i32</span>;
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                l <span style=color:#f92672>=</span> (mid <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>i32</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> r <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> a <span style=color:#f92672>=</span> (<span style=color:#66d9ef>i32</span>::abs(arr[(r<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>] <span style=color:#f92672>-</span> x), arr[(r<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>]);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> b <span style=color:#f92672>=</span> (<span style=color:#66d9ef>i32</span>::abs(arr[r <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>] <span style=color:#f92672>-</span> x), arr[r <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>]);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> a <span style=color:#f92672>&lt;</span> b {
</span></span><span style=display:flex><span>                r <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> i: <span style=color:#66d9ef>i32</span> <span style=color:#f92672>=</span> r;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> j: <span style=color:#66d9ef>i32</span> <span style=color:#f92672>=</span> r;
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> u <span style=color:#66d9ef>in</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>..</span>k<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> ((i <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>                j <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> j <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&gt;=</span> n {
</span></span><span style=display:flex><span>                i <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>let</span> a <span style=color:#f92672>=</span> (<span style=color:#66d9ef>i32</span>::abs(arr[(i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>] <span style=color:#f92672>-</span> x), arr[(i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>]);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>let</span> b <span style=color:#f92672>=</span> (<span style=color:#66d9ef>i32</span>::abs(arr[(j<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>] <span style=color:#f92672>-</span> x), arr[(j<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>]);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> a <span style=color:#f92672>&lt;</span> b {
</span></span><span style=display:flex><span>                    i <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>                } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                    j <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> ans <span style=color:#f92672>=</span> Vec::new();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> u <span style=color:#66d9ef>in</span> i<span style=color:#f92672>..</span>j<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>            ans.push(arr[u <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>]);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=二维区域和检索---矩阵不可变>二维区域和检索 - 矩阵不可变</h3><p><a href=https://leetcode-cn.com/problems/range-sum-query-2d-immutable/>题目链接</a></p><h4 id=思路-37>思路</h4><h5 id=二位前缀和>二位前缀和</h5><ul><li>构造: <code>S[i][j] = a[i][j] + S[i-1][j] + S[i][j-1] - S[i-1][j-1]</code></li><li>计算: <code>ans = S[x2][y2] - S[x1-1][y2] - S[x2][y1-1] + S[x1-1][y1-1]</code></li></ul><h4 id=代码-62>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>NumMatrix</span> {
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> C;
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    NumMatrix(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;&amp;</span> matrix) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (matrix.empty()) <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> matrix.size(), m <span style=color:#f92672>=</span> matrix[<span style=color:#ae81ff>0</span>].size();
</span></span><span style=display:flex><span>        C <span style=color:#f92672>=</span> vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span>(n<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>(m<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> m; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                C[i][j] <span style=color:#f92672>=</span> matrix[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> C[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j] <span style=color:#f92672>+</span> C[i][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> C[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>sumRegion</span>(<span style=color:#66d9ef>int</span> row1, <span style=color:#66d9ef>int</span> col1, <span style=color:#66d9ef>int</span> row2, <span style=color:#66d9ef>int</span> col2) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> sum <span style=color:#f92672>=</span> C[row2<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][col2<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> C[row1<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][col2<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> C[row2<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][col1<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> C[row1<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][col1<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> sum;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=比特位计数-动态规划>比特位计数-动态规划</h3><p><a href=https://leetcode-cn.com/problems/counting-bits/>题目链接</a></p><h4 id=思路-38>思路</h4><ul><li><code>y=x & (x - 1)</code>: y为将x的最低设置位从1变成0之后的数</li><li>状态定义：<code>f[i]</code>: i的比特位中1的个数</li><li>状态计算: <code>f[i] = f[i & (i-1)]</code></li></ul><h4 id=代码-63>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> countBits(<span style=color:#66d9ef>int</span> num) {
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> f(num<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> num; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            f[i] <span style=color:#f92672>=</span> f[i<span style=color:#f92672>&amp;</span>(i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> f;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>countBits</span>(self, num: int) <span style=color:#f92672>-&gt;</span> List[int]:
</span></span><span style=display:flex><span>        f <span style=color:#f92672>=</span> [<span style=color:#ae81ff>0</span>] <span style=color:#f92672>*</span> (num <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> i  <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>1</span>, num <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>            f[i] <span style=color:#f92672>=</span> f[i <span style=color:#f92672>&amp;</span> (i <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> f
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> <span style=color:#a6e22e>countBits</span>(<span style=color:#66d9ef>int</span> num) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> f <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[</span>num<span style=color:#f92672>+</span>1<span style=color:#f92672>]</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 1; i <span style=color:#f92672>&lt;=</span> num; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            f<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> f<span style=color:#f92672>[</span>i <span style=color:#f92672>&amp;</span> (i <span style=color:#f92672>-</span> 1)<span style=color:#f92672>]</span> <span style=color:#f92672>+</span> 1;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> f;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>countBits</span>(<span style=color:#a6e22e>num</span> <span style=color:#66d9ef>int</span>) []<span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>num</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>num</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>&amp;</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>f</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=俄罗斯套娃信封问题-lis>俄罗斯套娃信封问题-LIS</h3><p><a href=https://leetcode-cn.com/problems/russian-doll-envelopes/>题目链接</a></p><h4 id=解题思路>解题思路</h4><p>LIS变形</p><h4 id=代码-64>代码</h4><h5 id=on2>$O(n^2)$</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> maxEnvelopes(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;&amp;</span> E) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (E.empty()) <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        sort(begin(E), end(E), [](vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> a, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> b) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> (a[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;</span> b[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>||</span> (a[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> b[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&amp;&amp;</span> a[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&gt;</span> b[<span style=color:#ae81ff>1</span>]));
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> E.size();
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> f(n);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            f[i] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> i; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (E[i][<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&gt;</span> E[j][<span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>                    f[i] <span style=color:#f92672>=</span> max(f[i], f[j] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>max_element</span>(begin(f), end(f));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h5 id=onlogn>$O(nlogn)$</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> maxEnvelopes(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;&amp;</span> E) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (E.empty()) <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>		sort(begin(E), end(E), [](vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> a, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> b) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> (a[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;</span> b[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>||</span> (a[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> b[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&amp;&amp;</span> a[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&gt;</span> b[<span style=color:#ae81ff>1</span>]));
</span></span><span style=display:flex><span>		});
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> E.size();
</span></span><span style=display:flex><span>		vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> f;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> lower_bound(begin(f), end(f), E[i], [](vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> a, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> b) {<span style=color:#66d9ef>return</span> a[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&lt;</span> b[<span style=color:#ae81ff>1</span>];});
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> (it <span style=color:#f92672>==</span> f.end()) f.push_back(E[i]);
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>else</span> <span style=color:#f92672>*</span>it <span style=color:#f92672>=</span> E[i];
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> f.size(); i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>			cout <span style=color:#f92672>&lt;&lt;</span> f[i][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> f[i][<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> f.size();
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=用栈实现队列-双栈>用栈实现队列-双栈</h3><p><a href=https://leetcode-cn.com/problems/implement-queue-using-stacks>题目链接</a></p><h4 id=思路-39>思路</h4><ul><li>双栈实现队列<ul><li>当<code>peek()</code>和<code>pop()</code>时，如果输出栈为空，则将输入栈内容依次弹出，并压入输出栈
代码</li></ul></li></ul><h4 id=代码-65>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyQueue</span> {
</span></span><span style=display:flex><span>    stack<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> _in, out;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>work</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>_in.empty()) {
</span></span><span style=display:flex><span>            out.push(_in.top());
</span></span><span style=display:flex><span>            _in.pop();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** _initialize your data structure here. */</span>
</span></span><span style=display:flex><span>    MyQueue() {
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** Push element x to the back of queue. */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>push</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>        _in.push(x);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** Removes the element from _in front of queue and returns that element. */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>pop</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (out.empty()) work();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> res <span style=color:#f92672>=</span> out.top();
</span></span><span style=display:flex><span>        out.pop();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> res;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** Get the front element. */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>peek</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (out.empty()) work();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> res <span style=color:#f92672>=</span> out.top();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> res;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** Returns whether the queue is empty. */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>empty</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> _in.empty() <span style=color:#f92672>&amp;&amp;</span> out.empty();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Your MyQueue object will be _instantiated and called as such:
</span></span></span><span style=display:flex><span><span style=color:#75715e> * MyQueue* obj = new MyQueue();
</span></span></span><span style=display:flex><span><span style=color:#75715e> * obj-&gt;push(x);
</span></span></span><span style=display:flex><span><span style=color:#75715e> * _int param_2 = obj-&gt;pop();
</span></span></span><span style=display:flex><span><span style=color:#75715e> * _int param_3 = obj-&gt;peek();
</span></span></span><span style=display:flex><span><span style=color:#75715e> * bool param_4 = obj-&gt;empty();
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span></code></pre></div><h3 id=下一个更大元素-单调栈>下一个更大元素-单调栈</h3><p><a href=https://leetcode-cn.com/problems/next-greater-element-ii/submissions/>题目链接</a></p><h4 id=思路-40>思路</h4><ul><li>单调栈内对应元素单调不增</li><li>当遇到一个比当前栈顶元素大的元素，则出栈，并且出栈元素下一个更大元素为当前元素</li><li>因为环，所以将下标映射至<code>1..2n-1</code></li></ul><h4 id=代码-66>代码</h4><h5 id=c>C++</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> nextGreaterElements(vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&amp;</span> nums) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> nums.size();
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> ans(n, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>        stack<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> the_stack;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>the_stack.empty() <span style=color:#f92672>&amp;&amp;</span> nums[i <span style=color:#f92672>%</span> n] <span style=color:#f92672>&gt;</span> nums[the_stack.top()]) {
</span></span><span style=display:flex><span>                ans[the_stack.top()] <span style=color:#f92672>=</span> nums[i <span style=color:#f92672>%</span> n];
</span></span><span style=display:flex><span>                the_stack.pop();
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            the_stack.push(i <span style=color:#f92672>%</span> n);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h5 id=java>Java</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> <span style=color:#a6e22e>nextGreaterElements</span>(<span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> nums) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>var</span> n <span style=color:#f92672>=</span> nums.<span style=color:#a6e22e>length</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> ans <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[</span>n<span style=color:#f92672>]</span>;
</span></span><span style=display:flex><span>        Arrays.<span style=color:#a6e22e>fill</span>(ans, <span style=color:#f92672>-</span>1);
</span></span><span style=display:flex><span>        Stack<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> S <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Stack<span style=color:#f92672>&lt;&gt;</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0; i <span style=color:#f92672>&lt;</span> 2 <span style=color:#f92672>*</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>S.<span style=color:#a6e22e>isEmpty</span>() <span style=color:#f92672>&amp;&amp;</span> nums<span style=color:#f92672>[</span>S.<span style=color:#a6e22e>peek</span>()<span style=color:#f92672>]</span> <span style=color:#f92672>&lt;</span> nums<span style=color:#f92672>[</span>i <span style=color:#f92672>%</span> n<span style=color:#f92672>]</span>)
</span></span><span style=display:flex><span>                ans<span style=color:#f92672>[</span>S.<span style=color:#a6e22e>pop</span>()<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> nums<span style=color:#f92672>[</span>i <span style=color:#f92672>%</span> n<span style=color:#f92672>]</span>;
</span></span><span style=display:flex><span>            S.<span style=color:#a6e22e>push</span>(i <span style=color:#f92672>%</span> n);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h5 id=python3>Python3</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>nextGreaterElements</span>(self, nums: List[int]) <span style=color:#f92672>-&gt;</span> List[int]:
</span></span><span style=display:flex><span>        n <span style=color:#f92672>=</span> len(nums)
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> n
</span></span><span style=display:flex><span>        the_stack <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> n):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> the_stack <span style=color:#f92672>and</span> (nums[i <span style=color:#f92672>%</span> n] <span style=color:#f92672>&gt;</span> nums[the_stack[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]]):
</span></span><span style=display:flex><span>                ans[the_stack<span style=color:#f92672>.</span>pop()] <span style=color:#f92672>=</span> nums[i <span style=color:#f92672>%</span> n]
</span></span><span style=display:flex><span>            the_stack<span style=color:#f92672>.</span>append(i <span style=color:#f92672>%</span> n)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans
</span></span></code></pre></div><h5 id=golang>Golang</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>nextGreaterElements</span>(<span style=color:#a6e22e>nums</span> []<span style=color:#66d9ef>int</span>) []<span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>nums</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span>(<span style=color:#a6e22e>ans</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stack</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{}
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> len(<span style=color:#a6e22e>stack</span>) &gt; <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>n</span>] &gt; <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>stack</span>[len(<span style=color:#a6e22e>stack</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>ans</span>[<span style=color:#a6e22e>stack</span>[len(<span style=color:#a6e22e>stack</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]] = <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>n</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>stack</span> = <span style=color:#a6e22e>stack</span>[:len(<span style=color:#a6e22e>stack</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>stack</span> = append(<span style=color:#a6e22e>stack</span>, <span style=color:#a6e22e>i</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=分割回文串>分割回文串</h3><p><a href=https://leetcode-cn.com/problems/palindrome-partitioning/>题目链接</a></p><h4 id=思路-41>思路</h4><h5 id=dfs--dp预处理>dfs + DP预处理</h5><p><code>f[i][j] = f[i+1][j-1] && (s[i] == s[j])</code></p><h4 id=代码-67>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span>string<span style=color:#f92672>&gt;&gt;</span> partition(string s) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> s.length();
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span>string<span style=color:#f92672>&gt;</span> tmp;
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span>string<span style=color:#f92672>&gt;&gt;</span> ans;
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>bool</span><span style=color:#f92672>&gt;&gt;</span> f(n, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>bool</span><span style=color:#f92672>&gt;</span>(n, true));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;</span> n; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                f[i][j] <span style=color:#f92672>=</span> f[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>&amp;&amp;</span> (s[i] <span style=color:#f92672>==</span> s[j]);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        function<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>void</span>(<span style=color:#66d9ef>int</span>)<span style=color:#f92672>&gt;</span> dfs <span style=color:#f92672>=</span> [<span style=color:#f92672>&amp;</span>](<span style=color:#66d9ef>int</span> i) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (i <span style=color:#f92672>&gt;=</span> n) {
</span></span><span style=display:flex><span>                ans.push_back(tmp);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i; j <span style=color:#f92672>&lt;</span> n; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (f[i][j]) {
</span></span><span style=display:flex><span>                    tmp.push_back(s.substr(i, j <span style=color:#f92672>-</span> i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>));
</span></span><span style=display:flex><span>                    dfs(j<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>                    tmp.pop_back();
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        dfs(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=从第一个节点出发到最后一个节点的受限路径数-记忆化搜索>从第一个节点出发到最后一个节点的受限路径数-记忆化搜索</h3><p><a href=https://leetcode-cn.com/problems/number-of-restricted-paths-from-first-to-last-node/>题目链接</a></p><h4 id=思路-42>思路</h4><p>单源最短路+记忆化搜索</p><h4 id=代码-68>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>2e4</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>, M <span style=color:#f92672>=</span> <span style=color:#ae81ff>8e4</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], e[M], ne[M], w[M], idx;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b, <span style=color:#66d9ef>int</span> c) {
</span></span><span style=display:flex><span>    e[idx] <span style=color:#f92672>=</span> b, w[idx] <span style=color:#f92672>=</span> c, ne[idx] <span style=color:#f92672>=</span> h[a], h[a] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> countRestrictedPaths(<span style=color:#66d9ef>int</span> n, vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;&amp;</span> edges) {
</span></span><span style=display:flex><span>        idx <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;</span>e : edges) {
</span></span><span style=display:flex><span>            add(e[<span style=color:#ae81ff>0</span>], e[<span style=color:#ae81ff>1</span>], e[<span style=color:#ae81ff>2</span>]);
</span></span><span style=display:flex><span>            add(e[<span style=color:#ae81ff>1</span>], e[<span style=color:#ae81ff>0</span>], e[<span style=color:#ae81ff>2</span>]);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> dist(n <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, INT_MAX);
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>bool</span><span style=color:#f92672>&gt;</span> st(n <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, false);
</span></span><span style=display:flex><span>        priority_queue<span style=color:#f92672>&lt;</span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> Q;
</span></span><span style=display:flex><span>        Q.push({<span style=color:#ae81ff>0</span>, n});
</span></span><span style=display:flex><span>        dist[n] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>Q.empty()) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> [wgt, u] <span style=color:#f92672>=</span> Q.top();
</span></span><span style=display:flex><span>            Q.pop();
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (st[u]) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>            st[u] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>            dist[u] <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>wgt;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[u]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (<span style=color:#f92672>-</span>wgt <span style=color:#f92672>+</span> w[i] <span style=color:#f92672>&lt;</span> dist[v]) {
</span></span><span style=display:flex><span>                    dist[v] <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>wgt <span style=color:#f92672>+</span> w[i];
</span></span><span style=display:flex><span>                    Q.push({<span style=color:#f92672>-</span>dist[v], v});
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mod <span style=color:#f92672>=</span> <span style=color:#ae81ff>1e9</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>7</span>;
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> f(n <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, INT_MAX);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        function<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>(<span style=color:#66d9ef>int</span>)<span style=color:#f92672>&gt;</span> dfs <span style=color:#f92672>=</span> [<span style=color:#f92672>&amp;</span>](<span style=color:#66d9ef>int</span> u) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (u <span style=color:#f92672>==</span> n) <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (f[u] <span style=color:#f92672>!=</span> INT_MAX) <span style=color:#66d9ef>return</span> f[u];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[u]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (dist[u] <span style=color:#f92672>&gt;</span> dist[v])
</span></span><span style=display:flex><span>                    ans <span style=color:#f92672>=</span> (ans <span style=color:#f92672>+</span> dfs(v)) <span style=color:#f92672>%</span> mod;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> f[u] <span style=color:#f92672>=</span> ans;
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=公共钥匙盒-模拟>公共钥匙盒-模拟</h3><p><a href=https://www.acwing.com/problem/content/3251/>题目链接</a></p><h4 id=代码-69>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;tuple&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1005</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> T[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, k, a[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	ios<span style=color:#f92672>::</span>sync_with_stdio(false);
</span></span><span style=display:flex><span>	cin.tie(<span style=color:#66d9ef>nullptr</span>), cout.tie(<span style=color:#66d9ef>nullptr</span>);
</span></span><span style=display:flex><span>	priority_queue<span style=color:#f92672>&lt;</span>tuple<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>bool</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> Q;
</span></span><span style=display:flex><span>	cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> k;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> w, s, c;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>		a[i] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (k<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>		cin <span style=color:#f92672>&gt;&gt;</span> w <span style=color:#f92672>&gt;&gt;</span> s <span style=color:#f92672>&gt;&gt;</span> c;
</span></span><span style=display:flex><span>		T[w] <span style=color:#f92672>=</span> {s, c};
</span></span><span style=display:flex><span>		Q.push({ <span style=color:#f92672>-</span>s, false, <span style=color:#f92672>-</span>w});
</span></span><span style=display:flex><span>		Q.push({ <span style=color:#f92672>-</span>(s <span style=color:#f92672>+</span> c), true, <span style=color:#f92672>-</span>w});
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (Q.size()) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> Q.top();
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>auto</span> t <span style=color:#f92672>=</span> get<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>0</span><span style=color:#f92672>&gt;</span>(it);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>auto</span> b <span style=color:#f92672>=</span> get<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>&gt;</span>(it);
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>auto</span> w <span style=color:#f92672>=</span> get<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>2</span><span style=color:#f92672>&gt;</span>(it);
</span></span><span style=display:flex><span>		Q.pop();
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>b) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>if</span> (a[i] <span style=color:#f92672>==</span> <span style=color:#f92672>-</span>w) {
</span></span><span style=display:flex><span>					a[i] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>					<span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>a[i]) {
</span></span><span style=display:flex><span>					a[i] <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>w;
</span></span><span style=display:flex><span>					<span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>		cout <span style=color:#f92672>&lt;&lt;</span> a[i] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=基本计算器-栈>基本计算器-栈</h3><p><a href=https://leetcode-cn.com/problems/basic-calculator/>题目链接</a></p><h4 id=代码-70>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> calculate(string s) {
</span></span><span style=display:flex><span>        stack<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> sign;
</span></span><span style=display:flex><span>        sign.push(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> cur <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> s.length();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (s[i] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39; &#39;</span>) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>if</span> (s[i] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;+&#39;</span>) cur <span style=color:#f92672>=</span> sign.top();
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>if</span> (s[i] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;-&#39;</span>) cur <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>sign.top();
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>if</span> (s[i] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;(&#39;</span>) sign.push(cur);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>if</span> (s[i] <span style=color:#f92672>==</span> <span style=color:#960050;background-color:#1e0010>&#39;</span>)<span style=color:#960050;background-color:#1e0010>&#39;</span>) sign.pop();
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> sum <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>while</span> (i <span style=color:#f92672>&lt;</span> n <span style=color:#f92672>&amp;&amp;</span> s[i] <span style=color:#f92672>&gt;=</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>&amp;&amp;</span> s[i] <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;9&#39;</span>) {
</span></span><span style=display:flex><span>                    sum <span style=color:#f92672>=</span> sum <span style=color:#f92672>*</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>+</span> (s[i] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>);
</span></span><span style=display:flex><span>                    <span style=color:#f92672>++</span>i;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                <span style=color:#f92672>--</span>i;
</span></span><span style=display:flex><span>                ans <span style=color:#f92672>+=</span> sum <span style=color:#f92672>*</span> cur;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=基本计算器ii-栈>基本计算器II-栈</h3><p><a href=https://leetcode-cn.com/problems/basic-calculator-ii/>题目链接</a></p><h4 id=思路-43>思路</h4><ul><li>如果数字前是+, 将数字压栈</li><li>如果数字前是-, 将数字相反数压栈</li><li>如果数字前是*, 将栈顶元素乘以数字</li><li>如果数字前是/, 将栈顶元素除以数字</li></ul><h4 id=代码-71>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>calculate</span>(<span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stack</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{}
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>num</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pre</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#39;+&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span>(<span style=color:#a6e22e>s</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>&gt;=</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;9&#39;</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>num</span> = <span style=color:#a6e22e>num</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>+</span> int(<span style=color:#a6e22e>v</span> <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (!(<span style=color:#a6e22e>v</span> <span style=color:#f92672>&gt;=</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;9&#39;</span>) <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39; &#39;</span>) <span style=color:#f92672>||</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>==</span> len(<span style=color:#a6e22e>s</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>pre</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;+&#39;</span>: <span style=color:#a6e22e>stack</span> = append(<span style=color:#a6e22e>stack</span>, <span style=color:#a6e22e>num</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;-&#39;</span>: <span style=color:#a6e22e>stack</span> = append(<span style=color:#a6e22e>stack</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>num</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;*&#39;</span>: <span style=color:#a6e22e>stack</span>[len(<span style=color:#a6e22e>stack</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>*=</span> <span style=color:#a6e22e>num</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;/&#39;</span>: <span style=color:#a6e22e>stack</span>[len(<span style=color:#a6e22e>stack</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>/=</span> <span style=color:#a6e22e>num</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pre</span> = <span style=color:#a6e22e>v</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>num</span> = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span>(<span style=color:#a6e22e>stack</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>v</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=验证二叉树的前序序列化>验证二叉树的前序序列化</h3><p><a href=https://leetcode-cn.com/problems/verify-preorder-serialization-of-a-binary-tree/>题目链接</a></p><h4 id=解题思路-1>解题思路</h4><p>遍历过程中：</p><ul><li>根结点提供两个出度</li><li>除了根结点以外的非空结点提供一个入度数、两个出度</li><li>空结点提供一个入度</li></ul><p>还没遍历结束时候满足：入度 &lt; 出度</p><h4 id=代码-72>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>isValidSerialization</span>(<span style=color:#a6e22e>preorder</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>preorder</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;#&#34;</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>res</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Split</span>(<span style=color:#a6e22e>preorder</span>, <span style=color:#e6db74>&#34;,&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>in</span>, <span style=color:#a6e22e>out</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span>(<span style=color:#a6e22e>res</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>res</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;#&#34;</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>out</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>res</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;#&#34;</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>in</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>in</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>out</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>!=</span> len(<span style=color:#a6e22e>res</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>out</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>in</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>in</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>out</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=设计哈希集合>设计哈希集合</h3><p><a href=https://leetcode-cn.com/problems/design-hashset/>题目链接</a></p><h4 id=思路-44>思路</h4><p>拉链法</p><h4 id=代码-73>代码</h4><h5 id=c-1>C++</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>constexpr</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>10007</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyHashSet</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> h[N], e[N], ne[N], idx;
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** Initialize your data structure here. */</span>
</span></span><span style=display:flex><span>    MyHashSet() {
</span></span><span style=display:flex><span>        idx <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> key) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>contains(key)) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> key <span style=color:#f92672>%</span> N;
</span></span><span style=display:flex><span>            e[idx] <span style=color:#f92672>=</span> key;
</span></span><span style=display:flex><span>            ne[idx] <span style=color:#f92672>=</span> h[k];
</span></span><span style=display:flex><span>            h[k] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>remove</span>(<span style=color:#66d9ef>int</span> key) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> key <span style=color:#f92672>%</span> N;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (h[k] <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (e[h[k]] <span style=color:#f92672>==</span> key) <span style=color:#75715e>// 第一个结点就是
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            h[k] <span style=color:#f92672>=</span> ne[h[k]];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[k]; <span style=color:#f92672>~</span>i <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>~</span>ne[i]; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (e[ne[i]] <span style=color:#f92672>==</span> key) {
</span></span><span style=display:flex><span>                ne[i] <span style=color:#f92672>=</span> ne[ne[i]];
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** Returns true if this set contains the specified element */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>contains</span>(<span style=color:#66d9ef>int</span> key) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> key <span style=color:#f92672>%</span> N;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[k]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (e[i] <span style=color:#f92672>==</span> key) <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h5 id=golang-1>Golang</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>N</span> = <span style=color:#ae81ff>10007</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>MyHashSet</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>h</span> []<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>e</span> []<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ne</span> []<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>idx</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Initialize your data structure here. */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Constructor</span>() <span style=color:#a6e22e>MyHashSet</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>t</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>N</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span>(<span style=color:#a6e22e>t</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>t</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>MyHashSet</span>{<span style=color:#a6e22e>t</span>, make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>N</span>), make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>N</span>), <span style=color:#ae81ff>0</span>}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MyHashSet</span>) <span style=color:#a6e22e>Add</span>(<span style=color:#a6e22e>key</span> <span style=color:#66d9ef>int</span>)  {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>Contains</span>(<span style=color:#a6e22e>key</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>key</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>N</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>idx</span>] = <span style=color:#a6e22e>key</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>idx</span>] = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>idx</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>idx</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MyHashSet</span>) <span style=color:#a6e22e>Remove</span>(<span style=color:#a6e22e>key</span> <span style=color:#66d9ef>int</span>)  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>key</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>N</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>] <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]] <span style=color:#f92672>==</span> <span style=color:#a6e22e>key</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]; <span style=color:#a6e22e>i</span> <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>]] <span style=color:#f92672>==</span> <span style=color:#a6e22e>key</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>]]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Returns true if this set contains the specified element */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MyHashSet</span>) <span style=color:#a6e22e>Contains</span>(<span style=color:#a6e22e>key</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>key</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>N</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]; <span style=color:#a6e22e>i</span> <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>key</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=设计哈希映射>设计哈希映射</h3><p><a href=https://leetcode-cn.com/problems/design-hashmap/>题目链接</a></p><h4 id=思路-45>思路</h4><p>拉链法</p><h4 id=代码-74>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>N</span> = <span style=color:#ae81ff>10007</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Pair</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>k</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>v</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>MyHashMap</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>h</span> []<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>e</span> []<span style=color:#a6e22e>Pair</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ne</span> []<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>idx</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Initialize your data structure here. */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Constructor</span>() <span style=color:#a6e22e>MyHashMap</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>h</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>N</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span>(<span style=color:#a6e22e>h</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>MyHashMap</span>{<span style=color:#a6e22e>h</span>, make([]<span style=color:#a6e22e>Pair</span>, <span style=color:#a6e22e>N</span>), make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>N</span>), <span style=color:#ae81ff>0</span>}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** value will always be non-negative. */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MyHashMap</span>) <span style=color:#a6e22e>Put</span>(<span style=color:#a6e22e>key</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>value</span> <span style=color:#66d9ef>int</span>)  {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>key</span>) <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>key</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>N</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>idx</span>] = <span style=color:#a6e22e>Pair</span>{<span style=color:#a6e22e>key</span>, <span style=color:#a6e22e>value</span>}
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>idx</span>] = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>idx</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>idx</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>key</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>N</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]; <span style=color:#a6e22e>i</span> <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>k</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>key</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>v</span> = <span style=color:#a6e22e>value</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Returns the value to which the specified key is mapped, or -1 if this map contains no mapping for the key */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MyHashMap</span>) <span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>key</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>key</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>N</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]; <span style=color:#a6e22e>i</span> <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>k</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>key</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>v</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Removes the mapping of the specified value key if this map contains a mapping for the key */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MyHashMap</span>) <span style=color:#a6e22e>Remove</span>(<span style=color:#a6e22e>key</span> <span style=color:#66d9ef>int</span>)  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>key</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>N</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>N</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>] <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]].<span style=color:#a6e22e>k</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>key</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>k</span>]; <span style=color:#a6e22e>i</span> <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>e</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>]].<span style=color:#a6e22e>k</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>key</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>ne</span>[<span style=color:#a6e22e>i</span>]]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=不同的子序列-dp>不同的子序列-DP</h3><h4 id=思路-46>思路</h4><p>$$
f[i][j] =
\begin{cases}
f[i+1][j+1] + f[i+1][j], &amp;s[i] = t[j]& \cr
f[i+1][j], &amp;s[i] \ne t[j]
\end{cases}
$$</p><h4 id=代码-75>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>numDistinct</span>(<span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>t</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>m</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>s</span>), len(<span style=color:#a6e22e>t</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>n</span> &lt; <span style=color:#a6e22e>m</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> make([][]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>f</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] = make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>m</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>m</span>] = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>--</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>m</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>--</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>t</span>[<span style=color:#a6e22e>j</span>] {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span>]
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span>]
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=反转链表ii>反转链表II</h3><p><a href=https://leetcode-cn.com/problems/reverse-linked-list-ii/>题目链接</a></p><h4 id=思路-47>思路</h4><ul><li>创建头结点</li><li><code>a := m-1</code></li><li>将<code>[m+1,n]</code>指针反转</li><li><code>a->next->next = n+1</code></li><li><code>a->next = n</code></li></ul><h4 id=代码-76>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>reverseBetween</span>(<span style=color:#a6e22e>head</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span>, <span style=color:#a6e22e>left</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>right</span> <span style=color:#66d9ef>int</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dummy</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>ListNode</span>{<span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>head</span>}
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>dummy</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>left</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>a</span> = <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Next</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pre</span>, <span style=color:#a6e22e>cur</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Next</span>, <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Next</span>.<span style=color:#a6e22e>Next</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>right</span><span style=color:#f92672>-</span><span style=color:#a6e22e>left</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>tmp</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cur</span>.<span style=color:#a6e22e>Next</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cur</span>.<span style=color:#a6e22e>Next</span> = <span style=color:#a6e22e>pre</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>pre</span> = <span style=color:#a6e22e>cur</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cur</span> = <span style=color:#a6e22e>tmp</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Next</span>.<span style=color:#a6e22e>Next</span> = <span style=color:#a6e22e>cur</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Next</span> = <span style=color:#a6e22e>pre</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>dummy</span>.<span style=color:#a6e22e>Next</span>    
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=反转链表>反转链表</h3><p><a href=https://www.acwing.com/problem/content/33/>题目链接</a></p><h4 id=迭代法>迭代法</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>reverseList</span>(<span style=color:#a6e22e>head</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>pre</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cur</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>head</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>cur</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>tmp</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cur</span>.<span style=color:#a6e22e>Next</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cur</span>.<span style=color:#a6e22e>Next</span> = <span style=color:#a6e22e>pre</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>pre</span> = <span style=color:#a6e22e>cur</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cur</span> = <span style=color:#a6e22e>tmp</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>pre</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=递归法>递归法</h4><h5 id=思路-48>思路</h5><ul><li>首先我们先考虑 reverseList 函数能做什么，它可以翻转一个链表，并返回新链表的头节点，也就是原链表的尾节点。</li><li>所以我们可以先递归处理 reverseList(head->next)，这样我们可以将以head->next为头节点的链表翻转，并得到原链表的尾节点tail，此时head->next是新链表的尾节点，我们令它的next指针指向head，并将head->next指向空即可将整个链表翻转，且新链表的头节点是tail</li></ul><h5 id=代码-77>代码</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>reverseList</span>(<span style=color:#a6e22e>head</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>head</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>head</span>.<span style=color:#a6e22e>Next</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>head</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>tail</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>reverseList</span>(<span style=color:#a6e22e>head</span>.<span style=color:#a6e22e>Next</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>head</span>.<span style=color:#a6e22e>Next</span>.<span style=color:#a6e22e>Next</span> = <span style=color:#a6e22e>head</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>head</span>.<span style=color:#a6e22e>Next</span> = <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>tail</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=表达式求值-栈>表达式求值-栈</h3><p><a href=https://www.acwing.com/problem/content/description/3305/>题目链接</a></p><h4 id=思路-49>思路</h4><ul><li>使用两个栈，一个存操作数，另一个存运算符</li><li>遇到左括号入栈，遇到右括号进行计算直到栈顶为左括号</li></ul><h4 id=代码-78>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;unordered_map&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stack&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	string str;
</span></span><span style=display:flex><span>	cin <span style=color:#f92672>&gt;&gt;</span> str;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> str.length();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	stack<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> stk;
</span></span><span style=display:flex><span>	stack<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>char</span><span style=color:#f92672>&gt;</span> op;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>auto</span> calculate <span style=color:#f92672>=</span> [<span style=color:#f92672>&amp;</span>]() {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> stk.top();
</span></span><span style=display:flex><span>		stk.pop();
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> b <span style=color:#f92672>=</span> stk.top();
</span></span><span style=display:flex><span>		stk.pop();
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>char</span> c <span style=color:#f92672>=</span> op.top();
</span></span><span style=display:flex><span>		op.pop();
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>switch</span> (c) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;+&#39;</span><span style=color:#f92672>:</span> stk.push(b <span style=color:#f92672>+</span> a); <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;-&#39;</span><span style=color:#f92672>:</span> stk.push(b <span style=color:#f92672>-</span> a); <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;*&#39;</span><span style=color:#f92672>:</span> stk.push(b <span style=color:#f92672>*</span> a); <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;/&#39;</span><span style=color:#f92672>:</span> stk.push(b <span style=color:#f92672>/</span> a); <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	unordered_map<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>char</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> mp <span style=color:#f92672>=</span> {{<span style=color:#e6db74>&#39;+&#39;</span>, <span style=color:#ae81ff>1</span>}, {<span style=color:#e6db74>&#39;-&#39;</span>, <span style=color:#ae81ff>1</span>}, {<span style=color:#e6db74>&#39;*&#39;</span>, <span style=color:#ae81ff>2</span>}, {<span style=color:#e6db74>&#39;/&#39;</span>, <span style=color:#ae81ff>2</span>}};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>auto</span> c <span style=color:#f92672>=</span> str[i];
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (isdigit(c)) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>int</span> num <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>while</span> (j <span style=color:#f92672>&lt;</span> n <span style=color:#f92672>&amp;&amp;</span> isdigit(str[j])) {
</span></span><span style=display:flex><span>				num <span style=color:#f92672>=</span> num <span style=color:#f92672>*</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>+</span> str[j] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>;
</span></span><span style=display:flex><span>				j<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			stk.push(num);
</span></span><span style=display:flex><span>			i <span style=color:#f92672>=</span> j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>		} <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (c <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;(&#39;</span>) {
</span></span><span style=display:flex><span>			op.push(c);
</span></span><span style=display:flex><span>		} <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (c <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;)&#39;</span>) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>while</span> (op.size() <span style=color:#f92672>&amp;&amp;</span> op.top() <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;(&#39;</span>) {
</span></span><span style=display:flex><span>				calculate();
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			op.pop();
</span></span><span style=display:flex><span>		} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>while</span> (op.size() <span style=color:#f92672>&amp;&amp;</span> mp[op.top()] <span style=color:#f92672>&gt;=</span> mp[c]) {
</span></span><span style=display:flex><span>				calculate();
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			op.push(c);
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (op.size()) {
</span></span><span style=display:flex><span>		calculate();
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	cout <span style=color:#f92672>&lt;&lt;</span> stk.top() <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=矩阵置零>矩阵置零</h3><p><a href=https://leetcode-cn.com/problems/set-matrix-zeroes/>题目链接</a></p><h4 id=思路-50>思路</h4><ul><li>用两个变量记录第一行和第一列是否有0。</li><li>遍历整个矩阵，用矩阵的第一行和第一列记录对应的行和列是否有0。</li><li>把含有0的行和列都置成0。</li></ul><h4 id=代码-79>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>setZeroes</span>(<span style=color:#a6e22e>matrix</span> [][]<span style=color:#66d9ef>int</span>)  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>m</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>matrix</span>), len(<span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>r0</span>, <span style=color:#a6e22e>c0</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 第0行是否应该置为0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>0</span>][<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>r0</span> = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 第0列是否应该置为0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>c0</span> = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span> &lt; <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>0</span>] = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>0</span>][<span style=color:#a6e22e>j</span>] = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// matrix[0][i]表示第i列是否该置为0</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// matrix[i][0]表示第i行是否该置为0</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 把含有0的行和列都置成0 用第0行和第0列标记</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>0</span>][<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>j</span>][<span style=color:#a6e22e>i</span>] = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span> &lt; <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>r0</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>0</span>][<span style=color:#a6e22e>i</span>] = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>c0</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>0</span>] = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=不用加减乘除做加法>不用加减乘除做加法</h3><p><a href=https://www.acwing.com/problem/content/81/>题目链接</a></p><h4 id=思路-51>思路</h4><ul><li>两个整数做异或运算，得到不进位加法的运算结果</li><li>两个整数做与运算，然后左移一位，得到进位的运算结果</li><li>将上面得到的两个结果相加，即重复上述步骤直到进位的结果为0</li></ul><h4 id=代码-80>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>num1</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>num2</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>num2</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>sum</span>, <span style=color:#a6e22e>carry</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>num1</span> ^ <span style=color:#a6e22e>num2</span>, (<span style=color:#a6e22e>num1</span> <span style=color:#f92672>&amp;</span> <span style=color:#a6e22e>num2</span>) <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>num1</span>, <span style=color:#a6e22e>num2</span> = <span style=color:#a6e22e>sum</span>, <span style=color:#a6e22e>carry</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>num1</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=132模式-单调栈>132模式-单调栈</h3><p><a href=https://leetcode-cn.com/problems/132-pattern/>题目链接</a></p><h4 id=思路-52>思路</h4><ul><li>从右到左维护一个单调递减的栈</li><li>维护一个次大值(初始值为INT_MIN)</li><li>如果当前的值小于次大值则找到132子序列</li></ul><h4 id=代码-81>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>find132pattern</span>(<span style=color:#a6e22e>nums</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>nums</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>stk</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>second</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>math</span>.<span style=color:#a6e22e>MinInt64</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>--</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>] &lt; <span style=color:#a6e22e>second</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> len(<span style=color:#a6e22e>stk</span>) &gt; <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>stk</span>[len(<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] &lt; <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>second</span> = <span style=color:#a6e22e>stk</span>[len(<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>stk</span> = <span style=color:#a6e22e>stk</span>[:len(<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>stk</span> = append(<span style=color:#a6e22e>stk</span>, <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=直方图中最大矩形-单调栈>直方图中最大矩形-单调栈</h3><p><a href=https://www.acwing.com/problem/content/description/133/>题目链接</a></p><h4 id=思路-53>思路</h4><p>单调栈可以解决：左边比当前值大或小的第一个数</p><h4 id=代码-82>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>constexpr</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>100005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, h[N], l[N], r[N], stk[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>work</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) 
</span></span><span style=display:flex><span>		scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>h[i]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 设置边界为-1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	h[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> h[n<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 寻找左边界
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	stk[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> tt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>while</span> (h[stk[tt]] <span style=color:#f92672>&gt;=</span> h[i]) {
</span></span><span style=display:flex><span>			tt<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		l[i] <span style=color:#f92672>=</span> stk[tt];
</span></span><span style=display:flex><span>		stk[<span style=color:#f92672>++</span>tt] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 寻找左边界
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	stk[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> n<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>	tt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>while</span> (h[stk[tt]] <span style=color:#f92672>&gt;=</span> h[i]) {
</span></span><span style=display:flex><span>			tt<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		r[i] <span style=color:#f92672>=</span> stk[tt];
</span></span><span style=display:flex><span>		stk[<span style=color:#f92672>++</span>tt] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>		ans <span style=color:#f92672>=</span> max(ans, h[i] <span style=color:#f92672>*</span> <span style=color:#ae81ff>1ll</span> <span style=color:#f92672>*</span> (r[i]<span style=color:#f92672>-</span>l[i]<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>));
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	printf(<span style=color:#e6db74>&#34;%lld</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, ans);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>n)) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>n) <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>		work();
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=删除排序链表中的重复元素>删除排序链表中的重复元素</h3><p><a href=https://leetcode-cn.com/problems/remove-duplicates-from-sorted-list-ii/>题目链接</a></p><h4 id=思路-54>思路</h4><ul><li><code>pre</code>保存当前结点前驱结点</li><li>找到右边第一个不相等的结点<code>right</code></li><li>如果<code>cur.Next == right</code>则不用删，否则<code>pre.Next = right</code>删除</li></ul><h4 id=代码-83>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>deleteDuplicates</span>(<span style=color:#a6e22e>head</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>ListNode</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>head</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>head</span>.<span style=color:#a6e22e>Next</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>head</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pre</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>ListNode</span>{<span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>head</span>}
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span>, <span style=color:#a6e22e>cur</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>pre</span>, <span style=color:#a6e22e>head</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>cur</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>right</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cur</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>right</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>right</span>.<span style=color:#a6e22e>Val</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>cur</span>.<span style=color:#a6e22e>Val</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>right</span> = <span style=color:#a6e22e>right</span>.<span style=color:#a6e22e>Next</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>cur</span>.<span style=color:#a6e22e>Next</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>right</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pre</span> = <span style=color:#a6e22e>cur</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pre</span>.<span style=color:#a6e22e>Next</span> = <span style=color:#a6e22e>right</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cur</span> = <span style=color:#a6e22e>right</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>.<span style=color:#a6e22e>Next</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=可达性统计-拓扑排序>可达性统计-拓扑排序</h3><p><a href=https://www.acwing.com/problem/content/description/166/>题目链接</a></p><h4 id=思路-55>思路</h4><ul><li>从x出发能够到达的点，是从“x的各个后续节点y”出发能够到达的点的并集，再加上x点本身</li><li>可以求出拓扑序，按照拓扑序逆序进行计算</li></ul><h4 id=代码-84>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bitset&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>30005</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> h[N], ne[N], e[N], idx, d[N];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>	e[idx] <span style=color:#f92672>=</span> b, ne[idx] <span style=color:#f92672>=</span> h[a], h[a] <span style=color:#f92672>=</span> idx<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> seq[N], cnt;
</span></span><span style=display:flex><span>bitset<span style=color:#f92672>&lt;</span>N<span style=color:#f92672>&gt;</span> f[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>toposort</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> que[N];
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> hh <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, tt <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>d[i]) que[<span style=color:#f92672>++</span>tt] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (hh <span style=color:#f92672>&lt;=</span> tt) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> front <span style=color:#f92672>=</span> que[hh<span style=color:#f92672>++</span>];
</span></span><span style=display:flex><span>		seq[cnt<span style=color:#f92672>++</span>] <span style=color:#f92672>=</span> front;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> h[front]; <span style=color:#f92672>~</span>i; i <span style=color:#f92672>=</span> ne[i]) {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> e[i];
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> (<span style=color:#f92672>--</span>d[j] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>				que[<span style=color:#f92672>++</span>tt] <span style=color:#f92672>=</span> j;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    memset(h, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>sizeof</span> h);
</span></span><span style=display:flex><span>	scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m);
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>int</span> a, b;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>		scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>a, <span style=color:#f92672>&amp;</span>b);
</span></span><span style=display:flex><span>		add(a, b);
</span></span><span style=display:flex><span>		d[b]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	toposort();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#f92672>~</span>i; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> seq[i];
</span></span><span style=display:flex><span>		f[j][j] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> h[j]; <span style=color:#f92672>~</span>k; k <span style=color:#f92672>=</span> ne[k]) {
</span></span><span style=display:flex><span>			f[j] <span style=color:#f92672>|=</span> f[e[k]];
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>		printf(<span style=color:#e6db74>&#34;%lld</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, f[i].count());
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=二叉树的下一个结点>二叉树的下一个结点</h3><p><a href=https://www.acwing.com/problem/content/31/>题目链接</a></p><h4 id=思路-56>思路</h4><ol><li>若当前结点有右儿子，则右子树中最左侧的结点就是当前结点的后继</li><li>如果当前没有右儿子，则要沿着<code>father</code>域一直向上找，找到第一个是其<code>father</code>左儿子的结点，该结点的<code>father</code>就是当前结点的后继</li></ol><h4 id=代码-85>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>inorderSuccessor</span>(<span style=color:#a6e22e>p</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Right</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>p</span> = <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Right</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Left</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>p</span> = <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Left</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>p</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Father</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>p</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Father</span>.<span style=color:#a6e22e>Right</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>p</span> = <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Father</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Father</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=二叉搜索树迭代器-中序遍历非递归>二叉搜索树迭代器-中序遍历非递归</h3><p><a href=https://leetcode-cn.com/problems/binary-search-tree-iterator/>题目链接</a></p><h4 id=思路-57>思路</h4><ul><li>将根节点的左链入栈</li><li>当取出一个元素后，如果这个结点有右子树，则将其右子树的左链入栈</li></ul><h4 id=代码-86>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>BSTIterator</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stk</span> []<span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Constructor</span>(<span style=color:#a6e22e>root</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>) <span style=color:#a6e22e>BSTIterator</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stk</span> <span style=color:#f92672>:=</span> make([](<span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>), <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>root</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>stk</span> = append(<span style=color:#a6e22e>stk</span>, <span style=color:#a6e22e>root</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>root</span> = <span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>Left</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>BSTIterator</span>{<span style=color:#a6e22e>stk</span>}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>BSTIterator</span>) <span style=color:#a6e22e>Next</span>() <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>root</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>stk</span>[len(<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>stk</span> = <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>stk</span>[:len(<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ret</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>Val</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>root</span> = <span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>Right</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>root</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>stk</span> = append(<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>stk</span>, <span style=color:#a6e22e>root</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>root</span> = <span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>Left</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ret</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>BSTIterator</span>) <span style=color:#a6e22e>HasNext</span>() <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> len(<span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>stk</span>) &gt; <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=翻转单词顺序>翻转单词顺序</h3><p><a href=https://www.acwing.com/problem/content/73/>题目链接</a></p><h4 id=思路-58>思路</h4><ol><li>将整个字符串翻转</li><li>翻转每个单词</li></ol><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(1)$</td></tr></tbody></table><h4 id=代码-87>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    string reverseWords(string s) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> s.length();
</span></span><span style=display:flex><span>        reverse(begin(s), end(s));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> (j <span style=color:#f92672>&lt;</span> n <span style=color:#f92672>&amp;&amp;</span> s[j] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39; &#39;</span>) <span style=color:#f92672>++</span>j;
</span></span><span style=display:flex><span>            reverse(begin(s) <span style=color:#f92672>+</span> i, begin(s) <span style=color:#f92672>+</span> j);
</span></span><span style=display:flex><span>            i <span style=color:#f92672>=</span> j;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> s;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=搜索二维矩阵-二分>搜索二维矩阵-二分</h3><p><a href=https://leetcode-cn.com/problems/search-a-2d-matrix/>题目链接</a></p><h4 id=代码-88>代码</h4><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(log(n^2)) = O(logn)$</td><td>$O(1)$</td></tr></tbody></table><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>searchMatrix</span>(<span style=color:#a6e22e>M</span> [][]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>target</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>m</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>M</span>), len(<span style=color:#a6e22e>M</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>l</span>, <span style=color:#a6e22e>r</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>n</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>m</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>l</span> &lt; <span style=color:#a6e22e>r</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>mid</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>l</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>mid</span><span style=color:#f92672>/</span><span style=color:#a6e22e>m</span>][<span style=color:#a6e22e>mid</span><span style=color:#f92672>%</span><span style=color:#a6e22e>m</span>] <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>target</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>l</span> = <span style=color:#a6e22e>mid</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>r</span> = <span style=color:#a6e22e>mid</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>l</span><span style=color:#f92672>/</span><span style=color:#a6e22e>m</span>][<span style=color:#a6e22e>l</span><span style=color:#f92672>%</span><span style=color:#a6e22e>m</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>target</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=二维数组中的查找>二维数组中的查找</h3><p><a href=https://leetcode-cn.com/problems/er-wei-shu-zu-zhong-de-cha-zhao-lcof/>题目链接</a></p><h4 id=思路-59>思路</h4><p>我们可以发现：<code>x</code>左边的数都小于等于<code>x</code>，<code>x</code>下边的数都大于等于<code>x</code></p><ol><li>如果 <code>x</code> 等于<code>target</code>，则说明我们找到了目标值，返回<code>true</code>；</li><li>如果 <code>x</code> 小于<code>target</code>，则 <code>x</code> 左边的数一定都小于<code>target</code>，我们可以直接排除当前一整行的数</li><li>如果 <code>x</code> 大于<code>target</code>，则 <code>x</code> 下边的数一定都大于<code>target</code>，我们可以直接排序当前一整列的数</li></ol><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(m+n)$</td><td>$O(1)$</td></tr></tbody></table><h4 id=代码-89>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>findNumberIn2DArray</span>(<span style=color:#a6e22e>M</span> [][]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>target</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> len(<span style=color:#a6e22e>M</span>) <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>, len(<span style=color:#a6e22e>M</span>[<span style=color:#ae81ff>0</span>]) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> &lt; len(<span style=color:#a6e22e>M</span>) <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>target</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>M</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] &lt; <span style=color:#a6e22e>target</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>j</span><span style=color:#f92672>--</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=子集ii>子集II</h3><h4 id=思路-60>思路</h4><ul><li>先排序，把所有相同的元素放在一起，之后统计相同元素个数，对于每个相同元素可以选择的次数为0-t(t表示元素出现次数)</li><li>将所有元素的所有次数可能相互组合即可得到所有解集</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n2^n)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-90>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> subsetsWithDup(vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&amp;</span> nums) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> nums.size();
</span></span><span style=display:flex><span>        sort(begin(nums), end(nums));
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> tmp;
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> ans;
</span></span><span style=display:flex><span>        function<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>void</span>(<span style=color:#66d9ef>int</span>)<span style=color:#f92672>&gt;</span> dfs <span style=color:#f92672>=</span> [<span style=color:#f92672>&amp;</span>](<span style=color:#66d9ef>int</span> u){
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (u <span style=color:#f92672>&gt;=</span> n) {
</span></span><span style=display:flex><span>                ans.emplace_back(tmp);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> (u <span style=color:#f92672>+</span> k <span style=color:#f92672>&lt;</span> n <span style=color:#f92672>&amp;&amp;</span> nums[u] <span style=color:#f92672>==</span> nums[u<span style=color:#f92672>+</span>k]) k<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;=</span> k; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                dfs(u <span style=color:#f92672>+</span> k);
</span></span><span style=display:flex><span>                tmp.emplace_back(nums[u]);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;=</span> k; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                tmp.pop_back();
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        dfs(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=递归实现组合型枚举>递归实现组合型枚举</h3><p><a href=https://www.acwing.com/problem/content/95/>题目链接</a></p><h4 id=思路-61>思路</h4><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(2^n)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-91>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N <span style=color:#f92672>=</span> <span style=color:#ae81ff>30</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> path[N];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// u是层数，start是起始值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> u, <span style=color:#66d9ef>int</span> start) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (u <span style=color:#f92672>&gt;</span> m) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> m; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> path[i] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span>;
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> start; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        path[u] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>        dfs(u <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>        path[u] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> m;
</span></span><span style=display:flex><span>    dfs(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=直方图的水量-单调栈dp>直方图的水量-单调栈|DP</h3><p><a href=https://leetcode-cn.com/problems/volume-of-histogram-lcci/>题目链接</a></p><h4 id=单调栈>单调栈</h4><h5 id=思路-62>思路</h5><ul><li>维护一个单调栈（严格递减），那么一定有<code>height[t] > height[left]</code>(left是栈顶下面的元素)</li><li>若<code>height[i] > height[t]</code>则可形成一个盛水区域，宽度为<code>i-left-1</code>，高度为<code>min(height[i], height[left])-height[t]</code></li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(n)$</td></tr></tbody></table><h5 id=代码-92>代码</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>trap</span>(<span style=color:#a6e22e>height</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stk</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>height</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> len(<span style=color:#a6e22e>stk</span>) &gt; <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>&gt;=</span> <span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>stk</span>[len(<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>top</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>stk</span>[len(<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>stk</span> = <span style=color:#a6e22e>stk</span>[:len(<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> len(<span style=color:#a6e22e>stk</span>) <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>left</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>stk</span>[len(<span style=color:#a6e22e>stk</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>ans</span> <span style=color:#f92672>+=</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>left</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> (min(<span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>left</span>])<span style=color:#f92672>-</span><span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>top</span>])
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>stk</span> = append(<span style=color:#a6e22e>stk</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> min(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &lt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=dp>DP</h4><h5 id=思路-63>思路</h5><p>对于下标 <code>i</code>，水能到达的最大高度等于下标 <code>i</code> 两边的最大高度的最小值，下标 <code>i</code> 处能接的水的量等于下标 <code>i</code> 处的水能到达的最大高度减去 <code>height[i]</code>。</p><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(n)$</td></tr></tbody></table><h5 id=代码-93>代码</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>trap</span>(<span style=color:#a6e22e>height</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>height</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>left</span>, <span style=color:#a6e22e>right</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>), make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>left</span>[<span style=color:#ae81ff>0</span>] = <span style=color:#a6e22e>height</span>[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>left</span>[<span style=color:#a6e22e>i</span>] = max(<span style=color:#a6e22e>left</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>], <span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>right</span>[<span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] = <span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>--</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>right</span>[<span style=color:#a6e22e>i</span>] = max(<span style=color:#a6e22e>right</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>], <span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>height</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> <span style=color:#f92672>+=</span> min(<span style=color:#a6e22e>left</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>right</span>[<span style=color:#a6e22e>i</span>]) <span style=color:#f92672>-</span> <span style=color:#a6e22e>height</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> min(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &lt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> max(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=雨-最短路变形>雨-最短路变形</h3><p><a href=https://www.acwing.com/problem/content/description/594/>题目链接</a></p><h4 id=思路-64>思路</h4><ul><li>将海水抽象为一个源点</li><li>求海水到每个点所经过的点的最大权值的最短路</li></ul><h4 id=代码-94>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span>  (
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;container/heap&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Node</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>x</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>y</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>d</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>NodeHeap</span> []<span style=color:#a6e22e>Node</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>n</span> <span style=color:#a6e22e>NodeHeap</span>) <span style=color:#a6e22e>Len</span>() <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> len(<span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>n</span> <span style=color:#a6e22e>NodeHeap</span>) <span style=color:#a6e22e>Swap</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span> <span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>n</span>[<span style=color:#a6e22e>j</span>] = <span style=color:#a6e22e>n</span>[<span style=color:#a6e22e>j</span>], <span style=color:#a6e22e>n</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>n</span> <span style=color:#a6e22e>NodeHeap</span>) <span style=color:#a6e22e>Less</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>n</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>d</span> &lt; <span style=color:#a6e22e>n</span>[<span style=color:#a6e22e>j</span>].<span style=color:#a6e22e>d</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>n</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>NodeHeap</span>) <span style=color:#a6e22e>Push</span>(<span style=color:#a6e22e>h</span> <span style=color:#66d9ef>interface</span>{}) {
</span></span><span style=display:flex><span>    <span style=color:#f92672>*</span><span style=color:#a6e22e>n</span> = append(<span style=color:#f92672>*</span><span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>h</span>.(<span style=color:#a6e22e>Node</span>))
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>n</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>NodeHeap</span>) <span style=color:#a6e22e>Pop</span>() (<span style=color:#a6e22e>x</span> <span style=color:#66d9ef>interface</span>{}) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>x</span> = (<span style=color:#f92672>*</span><span style=color:#a6e22e>n</span>)[len(<span style=color:#f92672>*</span><span style=color:#a6e22e>n</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>    <span style=color:#f92672>*</span><span style=color:#a6e22e>n</span> = (<span style=color:#f92672>*</span><span style=color:#a6e22e>n</span>)[:len(<span style=color:#f92672>*</span><span style=color:#a6e22e>n</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>T</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>T</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>m</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>C</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>C</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>T</span>; <span style=color:#a6e22e>C</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>m</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>h</span> <span style=color:#f92672>:=</span> make([][]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>dist</span> <span style=color:#f92672>:=</span> make([][]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>st</span> <span style=color:#f92672>:=</span> make([][]<span style=color:#66d9ef>bool</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>i</span>] = make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>m</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>st</span>[<span style=color:#a6e22e>i</span>] = make([]<span style=color:#66d9ef>bool</span>, <span style=color:#a6e22e>m</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>dist</span>[<span style=color:#a6e22e>i</span>] = make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>m</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>])
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>dist</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = int(^uint(<span style=color:#ae81ff>0</span>)<span style=color:#f92672>&gt;&gt;</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>hp</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>NodeHeap</span>{}
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>heap</span>.<span style=color:#a6e22e>Init</span>(<span style=color:#a6e22e>hp</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>heap</span>.<span style=color:#a6e22e>Push</span>(<span style=color:#a6e22e>hp</span>, <span style=color:#a6e22e>Node</span>{<span style=color:#a6e22e>i</span>, <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>1</span>]})
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>dist</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>1</span>] = <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>heap</span>.<span style=color:#a6e22e>Push</span>(<span style=color:#a6e22e>hp</span>, <span style=color:#a6e22e>Node</span>{<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>m</span>, <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>m</span>]})
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>dist</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>m</span>] = <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>m</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>heap</span>.<span style=color:#a6e22e>Push</span>(<span style=color:#a6e22e>hp</span>, <span style=color:#a6e22e>Node</span>{<span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>i</span>]})
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>dist</span>[<span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>heap</span>.<span style=color:#a6e22e>Push</span>(<span style=color:#a6e22e>hp</span>, <span style=color:#a6e22e>Node</span>{<span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>n</span>][<span style=color:#a6e22e>i</span>]})
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>dist</span>[<span style=color:#a6e22e>n</span>][<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>n</span>][<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>dx</span>, <span style=color:#a6e22e>dy</span> <span style=color:#f92672>:=</span> [<span style=color:#ae81ff>4</span>]<span style=color:#66d9ef>int</span>{<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>}, [<span style=color:#ae81ff>4</span>]<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>}
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>hp</span>.<span style=color:#a6e22e>Len</span>() &gt; <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>top</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>heap</span>.<span style=color:#a6e22e>Pop</span>(<span style=color:#a6e22e>hp</span>).(<span style=color:#a6e22e>Node</span>)
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>st</span>[<span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>x</span>][<span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>y</span>] = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>ans</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>d</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>x</span>][<span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>y</span>]
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>dx</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>nx</span>, <span style=color:#a6e22e>ny</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>dx</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>dy</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>                
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nx</span> &lt; <span style=color:#ae81ff>1</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>nx</span> &gt; <span style=color:#a6e22e>n</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>ny</span> &lt; <span style=color:#ae81ff>1</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>ny</span> &gt; <span style=color:#a6e22e>m</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>st</span>[<span style=color:#a6e22e>nx</span>][<span style=color:#a6e22e>ny</span>] {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>dist</span>[<span style=color:#a6e22e>nx</span>][<span style=color:#a6e22e>ny</span>] &gt; max(<span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>d</span>, <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>nx</span>][<span style=color:#a6e22e>ny</span>]) {
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>dist</span>[<span style=color:#a6e22e>nx</span>][<span style=color:#a6e22e>ny</span>] = max(<span style=color:#a6e22e>top</span>.<span style=color:#a6e22e>d</span>, <span style=color:#a6e22e>h</span>[<span style=color:#a6e22e>nx</span>][<span style=color:#a6e22e>ny</span>])
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>heap</span>.<span style=color:#a6e22e>Push</span>(<span style=color:#a6e22e>hp</span>, <span style=color:#a6e22e>Node</span>{<span style=color:#a6e22e>nx</span>, <span style=color:#a6e22e>ny</span>, <span style=color:#a6e22e>dist</span>[<span style=color:#a6e22e>nx</span>][<span style=color:#a6e22e>ny</span>]})
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Case #%d: %d\n&#34;</span>, <span style=color:#a6e22e>C</span>, <span style=color:#a6e22e>ans</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> max(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) (<span style=color:#a6e22e>x</span> <span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>x</span> = <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>x</span> = <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=密码脱落-lcs>密码脱落-LCS</h3><p><a href=https://www.acwing.com/problem/content/1224/>题目链接</a></p><h4 id=思路-65>思路</h4><p>求字符串及其翻转串的LCS长度</p><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n^2)$</td><td>$O(n^2)$</td></tr></tbody></table><h4 id=代码-95>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>reverse</span>(<span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>) (<span style=color:#a6e22e>res</span> <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> []rune(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>a</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>j</span>; <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span> = <span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>j</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>j</span>] = <span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>j</span>], <span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> string(<span style=color:#a6e22e>a</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scanf</span>(<span style=color:#e6db74>&#34;%s&#34;</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>a</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>a</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>b</span> = <span style=color:#a6e22e>reverse</span>(<span style=color:#a6e22e>a</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> make([][]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>f</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] = make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>b</span>[<span style=color:#a6e22e>j</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = max(<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span>], <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>n</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>n</span>][<span style=color:#a6e22e>n</span>])
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> max(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=森林中的兔子>森林中的兔子</h3><p><a href=https://leetcode-cn.com/problems/rabbits-in-forest/>题目链接</a></p><h4 id=思路-66>思路</h4><ul><li>统计每种$x$出现的次数</li><li>若$x$出现了$k$次为了使得兔子数量最小，则兔子种类数为 $\lceil \frac{k}{x+1} \rceil$, 且每种兔子数量为$x+1$</li><li>则兔子总数为$\sum_i^n{ \lceil \frac{k_i}{x_i+1} \rceil \times (x_i+1)}$</li><li>例如有13只兔子回答5，则至少有六只同一种类兔子记为红色，还有六只另一种类记为蓝色，还剩下一只兔子回答5，则必然还有五只兔子与这一只兔子颜色相同记为白色。综上有$\lceil \frac{13}{5+1} \rceil \times (5+1) = 18$只兔子。</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-96>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>numRabbits</span>(<span style=color:#a6e22e>answers</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mp</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>int</span>]<span style=color:#66d9ef>int</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>answers</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>mp</span>[<span style=color:#a6e22e>answers</span>[<span style=color:#a6e22e>i</span>]]<span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ret</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>mp</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ret</span> <span style=color:#f92672>+=</span> (<span style=color:#a6e22e>v</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>k</span>) <span style=color:#f92672>/</span> (<span style=color:#a6e22e>k</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> (<span style=color:#a6e22e>k</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ret</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=石子合并-区间dp>石子合并-区间DP</h3><p><a href=https://www.acwing.com/problem/content/description/284/>题目链接</a></p><h4 id=思路-67>思路</h4><ul><li>$f[i][j]$表示将表示将 $i$ 到 $j$ 合并成一堆的方案的集合，属性是最小值</li><li>$f[i][j]=min_{i≤k≤j−1}\{f[i][k]+f[k+1][j]+s[j]−s[i−1]\}$</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n^3)$</td><td>$O(n^2)$</td></tr></tbody></table><h4 id=代码-97>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>N</span> = <span style=color:#ae81ff>305</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>s</span> [<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>f</span> [<span style=color:#a6e22e>N</span>][<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>+=</span> <span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>len</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>len</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>len</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>len</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>len</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = int(^uint(<span style=color:#ae81ff>0</span>) <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>i</span>; <span style=color:#a6e22e>k</span> &lt; <span style=color:#a6e22e>j</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = min(<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>], <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>k</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>j</span>] <span style=color:#f92672>-</span> <span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>n</span>])
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> min(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &lt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=环形石子合并>环形石子合并</h4><p><a href=https://loj.ac/p/10147>题目链接</a></p><h5 id=思路-68>思路</h5><ul><li>破环成链</li><li>求所有区间长度为n的链形石子合并</li><li>枚举长度为n的区间，取max</li></ul><h5 id=代码-98>代码</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> (
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>N</span>       = <span style=color:#ae81ff>405</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>INT_MAX</span> = int(^uint(<span style=color:#ae81ff>0</span>) <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>INT_MIN</span> = <span style=color:#f92672>-</span><span style=color:#a6e22e>INT_MAX</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> (
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>f</span> [<span style=color:#a6e22e>N</span>][<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>g</span> [<span style=color:#a6e22e>N</span>][<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>s</span> [<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>a</span> [<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#a6e22e>n</span>] = <span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>l</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>l</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#a6e22e>l</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>], <span style=color:#a6e22e>g</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = <span style=color:#a6e22e>INT_MAX</span>, <span style=color:#a6e22e>INT_MIN</span>
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>i</span>; <span style=color:#a6e22e>k</span> &lt; <span style=color:#a6e22e>j</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>], <span style=color:#a6e22e>g</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = min(<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>], <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>k</span>]<span style=color:#f92672>+</span><span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span>]<span style=color:#f92672>+</span><span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>j</span>]<span style=color:#f92672>-</span><span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]), max(<span style=color:#a6e22e>g</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>], <span style=color:#a6e22e>g</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>k</span>]<span style=color:#f92672>+</span><span style=color:#a6e22e>g</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span>]<span style=color:#f92672>+</span><span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>j</span>]<span style=color:#f92672>-</span><span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>minv</span>, <span style=color:#a6e22e>maxv</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>INT_MAX</span>, <span style=color:#a6e22e>INT_MIN</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>minv</span> = min(<span style=color:#a6e22e>minv</span>, <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>maxv</span> = max(<span style=color:#a6e22e>maxv</span>, <span style=color:#a6e22e>g</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>minv</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>maxv</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> min(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &lt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> max(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=合并两个有序数组>合并两个有序数组</h3><p><a href=https://leetcode-cn.com/problems/merge-sorted-array/submissions/>题目链接</a></p><h4 id=解题思路-2>解题思路</h4><ul><li>指针从后往前移动</li><li>每次将较大值插到后面</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(m+n)$</td><td>$O(1)$</td></tr></tbody></table><h4 id=代码-99>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>merge</span>(<span style=color:#a6e22e>A</span> []<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>m</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>B</span> []<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>)  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>m</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>m</span><span style=color:#f92672>+</span><span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>k</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>--</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>j</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>j</span><span style=color:#f92672>--</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>i</span><span style=color:#f92672>--</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>i</span>] &gt; <span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>j</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>i</span><span style=color:#f92672>--</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>j</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>j</span><span style=color:#f92672>--</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=删除有序数组中的重复项ii>删除有序数组中的重复项II</h3><p><a href=https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array-ii/>题目链接</a></p><h4 id=思路-69>思路</h4><ol><li><code>k</code>指向新数组的末尾</li><li>遍历数组，若当前元素不等于<code>nums[k-2]</code>则插入新数组的末尾</li></ol><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(1)$</td></tr></tbody></table><h4 id=代码-100>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>removeDuplicates</span>(<span style=color:#a6e22e>nums</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>nums</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>2</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>n</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>!=</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>k</span><span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>k</span>] = <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>k</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=搜索旋转排序数组ii-二分>搜索旋转排序数组II-二分</h3><p><a href=https://leetcode-cn.com/problems/search-in-rotated-sorted-array-ii/>题目链接</a></p><h4 id=思路-70>思路</h4><ul><li><code>nums[l] == nums[mid]</code>：不能确定哪一个区间是有序的，<code>l++</code></li><li><code>nums[l] &lt; nums[mid]</code>：左区间是有序的</li><li><code>nums[l] > nums[mid]</code>：右区间是有序的</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(1)$</td></tr></tbody></table><h4 id=代码-101>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>search</span>(<span style=color:#a6e22e>nums</span> []<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>target</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>nums</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>l</span>, <span style=color:#a6e22e>r</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>r</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>mid</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>l</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>r</span>) <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>mid</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>target</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>l</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>mid</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>l</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>l</span>] &lt; <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>mid</span>] {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>l</span>] <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>target</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>target</span> &lt; <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>mid</span>] {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>r</span> = <span style=color:#a6e22e>mid</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>l</span> = <span style=color:#a6e22e>mid</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>mid</span>] &lt; <span style=color:#a6e22e>target</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>target</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>r</span>] {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>l</span> = <span style=color:#a6e22e>mid</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>r</span> = <span style=color:#a6e22e>mid</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=0到n-1中缺失的数字-二分>0到n-1中缺失的数字-二分</h3><p><a href=https://www.acwing.com/problem/content/64/>题目链接</a></p><h4 id=思路-71>思路</h4><p>&lt;img src=&ldquo;<a href=https://cdn.acwing.com/media/article/image/2019/05/31/1_37a28f4683-%E7%BC%BA%E5%A4%B1%E6%95%B0%E5%AD%97.png%22>https://cdn.acwing.com/media/article/image/2019/05/31/1_37a28f4683-%E7%BC%BA%E5%A4%B1%E6%95%B0%E5%AD%97.png"</a> position=&ldquo;center&rdquo; style=&ldquo;zoom: 80% ;&rdquo;</p><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(logn)$</td><td>$O(1)$</td></tr></tbody></table><h4 id=代码-102>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#a6e22e>public</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>getMissingNumber</span>(<span style=color:#a6e22e>vector</span>&lt;<span style=color:#66d9ef>int</span>&gt;<span style=color:#f92672>&amp;</span> <span style=color:#a6e22e>nums</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>n</span> = <span style=color:#a6e22e>nums</span>.<span style=color:#a6e22e>size</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (!<span style=color:#a6e22e>n</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>n</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>l</span> = <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>r</span> = <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>while</span> (<span style=color:#a6e22e>l</span> &lt; <span style=color:#a6e22e>r</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>mid</span> = (<span style=color:#a6e22e>l</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>r</span>) <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>mid</span>] <span style=color:#f92672>!=</span> <span style=color:#a6e22e>mid</span>) {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>r</span> = <span style=color:#a6e22e>mid</span>;
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>l</span> = <span style=color:#a6e22e>mid</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>l</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=移去k位数字-贪心>移去K位数字-贪心</h3><p><a href=https://www.acwing.com/problem/content/1455/>题目链接</a></p><h4 id=思路-72>思路</h4><ul><li>如果字符串已经是有序的，则应该删除后$k$位</li><li>如果出现逆序，则应该把前一个元素删除</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(1)$</td></tr></tbody></table><h4 id=代码-103>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>k</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>s</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>k</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;0&#34;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>s</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> &gt; <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>ans</span>[len(<span style=color:#a6e22e>ans</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] &gt; byte(<span style=color:#a6e22e>v</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>ans</span> = <span style=color:#a6e22e>ans</span>[:len(<span style=color:#a6e22e>ans</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>k</span><span style=color:#f92672>--</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> <span style=color:#f92672>+=</span> string(<span style=color:#a6e22e>v</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> &gt; <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> = <span style=color:#a6e22e>ans</span>[:len(<span style=color:#a6e22e>ans</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>k</span><span style=color:#f92672>--</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> &lt; len(<span style=color:#a6e22e>ans</span>) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>ans</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;0&#39;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>ans</span>[<span style=color:#a6e22e>i</span>:])
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=二叉搜索树节点最小距离>二叉搜索树节点最小距离</h3><p><a href=https://leetcode-cn.com/problems/minimum-distance-between-bst-nodes/>题目链接</a></p><h4 id=思路-73>思路</h4><p>二叉搜索树中序遍历有序</p><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(1)$</td></tr></tbody></table><h4 id=代码-104>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>MAX</span> <span style=color:#66d9ef>int</span> = int(^uint(<span style=color:#ae81ff>0</span>) <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>minDiffInBST</span>(<span style=color:#a6e22e>root</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>) (<span style=color:#a6e22e>ans</span> <span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span> = <span style=color:#a6e22e>MAX</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>last</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>is_first</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>dfs</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>root</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dfs</span> = <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>root</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>TreeNode</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>root</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>Left</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (!<span style=color:#a6e22e>is_first</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>is_first</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>ans</span> = min(<span style=color:#a6e22e>ans</span>, <span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>Val</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>last</span>)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>last</span> = <span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>Val</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>Right</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>root</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> min(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &lt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=实现trie树>实现Trie树</h3><h4 id=思路-74>思路</h4><ul><li>字典树</li></ul><h4 id=代码-105>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Trie</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>son</span> [<span style=color:#ae81ff>26</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>isEnd</span> <span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Initialize your data structure here. */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Constructor</span>() <span style=color:#a6e22e>Trie</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>Trie</span>{}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>) <span style=color:#a6e22e>query</span>(<span style=color:#a6e22e>word</span> <span style=color:#66d9ef>string</span>) (<span style=color:#a6e22e>res</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>node</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>word</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>t</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>t</span>] <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>res</span> = <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>node</span> = <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>t</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>res</span> = <span style=color:#a6e22e>node</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Inserts a word into the trie. */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>) <span style=color:#a6e22e>Insert</span>(<span style=color:#a6e22e>word</span> <span style=color:#66d9ef>string</span>)  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>node</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>word</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>t</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>t</span>] <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>t</span>] = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>Trie</span>{}
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>node</span> = <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>t</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>isEnd</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Returns if the word is in the trie. */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>) <span style=color:#a6e22e>Search</span>(<span style=color:#a6e22e>word</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>node</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>query</span>(<span style=color:#a6e22e>word</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>node</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>isEnd</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/** Returns if there is any word in the trie that starts with the given prefix. */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>this</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>) <span style=color:#a6e22e>StartsWith</span>(<span style=color:#a6e22e>prefix</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>this</span>.<span style=color:#a6e22e>query</span>(<span style=color:#a6e22e>prefix</span>) <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=前缀统计-trie>前缀统计-Trie</h3><p><a href=https://www.acwing.com/problem/content/description/144/>题目链接</a></p><h4 id=链表代码>链表代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Trie</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>son</span> [<span style=color:#ae81ff>26</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>isEnd</span> <span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cnt</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>NewTrie</span>() <span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>Trie</span>{}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>) <span style=color:#a6e22e>insert</span>(<span style=color:#a6e22e>word</span> <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>node</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>t</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>word</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>c</span>] <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>c</span>] = <span style=color:#a6e22e>NewTrie</span>()
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>node</span> = <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>c</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>cnt</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>isEnd</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Trie</span>) <span style=color:#a6e22e>query</span>(<span style=color:#a6e22e>word</span> <span style=color:#66d9ef>string</span>) (<span style=color:#a6e22e>ans</span> <span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>node</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>t</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>word</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>c</span>] <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>node</span> = <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>c</span>]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>cnt</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>m</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>m</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>t</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>NewTrie</span>()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>insert</span>(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>query</span>(<span style=color:#a6e22e>s</span>))
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=数组代码>数组代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>N</span> = <span style=color:#ae81ff>1e6</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> (
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>m</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>son</span> [<span style=color:#a6e22e>N</span>][<span style=color:#ae81ff>26</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>idx</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cnt</span> [<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>insert</span>(<span style=color:#a6e22e>word</span> <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>word</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>t</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>p</span>][<span style=color:#a6e22e>t</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>idx</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>p</span>][<span style=color:#a6e22e>t</span>] = <span style=color:#a6e22e>idx</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>p</span> = <span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>p</span>][<span style=color:#a6e22e>t</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>p</span>]<span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>query</span>(<span style=color:#a6e22e>word</span> <span style=color:#66d9ef>string</span>) (<span style=color:#a6e22e>ans</span> <span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>word</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>t</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>p</span>][<span style=color:#a6e22e>t</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>p</span> = <span style=color:#a6e22e>son</span>[<span style=color:#a6e22e>p</span>][<span style=color:#a6e22e>t</span>]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>p</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>m</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>insert</span>(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>m</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>query</span>(<span style=color:#a6e22e>s</span>))
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=打家劫舍ii-dp>打家劫舍II-DP</h3><h4 id=解题思路-3>解题思路</h4><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-106>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>rob</span>(<span style=color:#a6e22e>nums</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>nums</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>nums</span>[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> make([][<span style=color:#ae81ff>2</span>]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>], <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>1</span>] = <span style=color:#a6e22e>math</span>.<span style=color:#a6e22e>MinInt64</span>, <span style=color:#a6e22e>nums</span>[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>0</span>] = max(<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>], <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>1</span>] = <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>res</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>], <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>1</span>] = <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>math</span>.<span style=color:#a6e22e>MinInt64</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>0</span>] = max(<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>], <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>1</span>] = <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> max(<span style=color:#a6e22e>res</span>, max(<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>], <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>1</span>]))
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> max(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=扰乱字符串-dp>扰乱字符串-DP</h3><p><a href=https://leetcode-cn.com/problems/scramble-string/>题目链接</a></p><h4 id=思路-75>思路</h4><ul><li>状态表示<code>f[i][j][k]</code><ul><li>集合：<code>s1[i..i+k-1]</code>和<code>s2[j..j+k-1]</code>所有匹配的方案的集合</li><li>属性：集合是否为空集</li></ul></li><li>状态计算：<code>f[i][j][k]</code>按<code>s1</code>第一段的长度划分成<code>k-1</code>类，有两种匹配方案<ol><li><code>f[i][j][u] && f[i+u][j+u][k-u]</code></li><li><code>f[i][j+k-u][u] && f[i+u][j][k-u]</code></li></ol></li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n^4)$</td><td>$O(n^3)$</td></tr></tbody></table><h4 id=代码-107>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>isScramble</span>(<span style=color:#a6e22e>s1</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>s2</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>s1</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> make([][][]<span style=color:#66d9ef>bool</span>, <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>f</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] = make([][]<span style=color:#66d9ef>bool</span>, <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] = make([]<span style=color:#66d9ef>bool</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>k</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#a6e22e>k</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>+</span><span style=color:#a6e22e>k</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>s1</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>s2</span>[<span style=color:#a6e22e>j</span>] {
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>][<span style=color:#a6e22e>k</span>] = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>u</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>u</span> &lt; <span style=color:#a6e22e>k</span>; <span style=color:#a6e22e>u</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>][<span style=color:#a6e22e>u</span>] <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#a6e22e>u</span>][<span style=color:#a6e22e>j</span><span style=color:#f92672>+</span><span style=color:#a6e22e>u</span>][<span style=color:#a6e22e>k</span><span style=color:#f92672>-</span><span style=color:#a6e22e>u</span>] <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>                           <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span><span style=color:#f92672>+</span><span style=color:#a6e22e>k</span><span style=color:#f92672>-</span><span style=color:#a6e22e>u</span>][<span style=color:#a6e22e>u</span>] <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#a6e22e>u</span>][<span style=color:#a6e22e>j</span>][<span style=color:#a6e22e>k</span><span style=color:#f92672>-</span><span style=color:#a6e22e>u</span>] {
</span></span><span style=display:flex><span>                            <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>][<span style=color:#a6e22e>k</span>] = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>][<span style=color:#a6e22e>n</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=重复元素iii-滑动窗口>重复元素III-滑动窗口</h3><p><a href=https://leetcode-cn.com/problems/contains-duplicate-iii/>题目链接</a></p><h4 id=思路-76>思路</h4><ul><li>有序集合中查找大于等于 <code>x - t</code> 的最小的元素 <code>y</code>，如果 <code>y</code> 存在，且 <code>y &lt;= x + t</code>则存在</li><li>有序集合中元素数量超过了 <code>k</code>，将有序集合中最早被插入的元素删除即可</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(nlogk)$</td><td>$O(k)$</td></tr></tbody></table><h4 id=代码-108>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> containsNearbyAlmostDuplicate(vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&amp;</span> nums, <span style=color:#66d9ef>int</span> k, <span style=color:#66d9ef>int</span> t) {
</span></span><span style=display:flex><span>        set<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>long</span><span style=color:#f92672>&gt;</span> st;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> nums.size();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> st.lower_bound(nums[i]<span style=color:#f92672>*</span><span style=color:#ae81ff>1l</span><span style=color:#f92672>-</span>t);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (it <span style=color:#f92672>!=</span> end(st) <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>*</span>it <span style=color:#f92672>&lt;=</span> nums[i]<span style=color:#f92672>*</span><span style=color:#ae81ff>1l</span><span style=color:#f92672>+</span>t) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            st.insert(nums[i]);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (i<span style=color:#f92672>-</span>k <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>                st.erase(nums[i<span style=color:#f92672>-</span>k]);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=解码方法-dp>解码方法-dp</h3><p><a href=https://leetcode-cn.com/problems/decode-ways/>题目链接</a></p><h4 id=思路-77>思路</h4><ul><li>状态表示：$f[i]$表示前 $i$ 个数字共有多少种解码方式。</li><li>状态转移：<ol><li>如果第 $i$ 个数字不是$0$，则 $i$ 个数字可以单独解码成一个字母，此时的方案数等于用前 $i−1$ 个数字解码的方案数，即 $f[i−1]$</li><li>如果第 $i−1$个数字和第 $i$个数字组成的两位数在 $10$ 到 $26$ 之间，则可以将这两位数字解码成一个字符，此时的方案数等于用前 $i−2$ 个数字解码的方案数，即 $f[i−2]$</li></ol></li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-109>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>numDecodings</span>(<span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>] = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;0&#39;</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>+=</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>i</span> &gt; <span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>t</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>s</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>t</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>t</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>26</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>+=</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>]
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>n</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=矩形区域不超过-k-的最大数值和-前缀和>矩形区域不超过 K 的最大数值和-前缀和</h3><p><a href=https://leetcode-cn.com/problems/max-sum-of-rectangle-no-larger-than-k/>题目链接</a></p><h4 id=思路-78>思路</h4><ul><li>二重循环枚举矩形的上边界和下边界，时间复杂度<code>O(n^2)</code></li><li>在一维数组求和不超过K的最大子数组的和，我们可以在<code>O(nlogn)</code>的时间复杂度内求解。我们知道可以使用前缀和求解子区间和：<code>sum(A[i:j])=preSum[j]−preSum[i−1]</code>。那么对于每一个<code>preSum[j]</code>，我们可以将遇到过的前缀后存入一个set中，再从set中找到一个大于等于<code>preSum[j]−k</code>的最小值，这样他们的差值就是小于等于kk的最大值。这种查找的时间复杂度是<code>logn</code>的，总共需要查找<code>n</code>次，所以总共的时间复杂度为<code>O(nlogn)</code></li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(m^2nlogn)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-110>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> maxSumSubmatrix(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;&amp;</span> A, <span style=color:#66d9ef>int</span> k) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> m <span style=color:#f92672>=</span> A.size(), n <span style=color:#f92672>=</span> A[<span style=color:#ae81ff>0</span>].size();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> INT_MIN;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> sum(n);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i; j <span style=color:#f92672>&lt;</span> m; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; k <span style=color:#f92672>&lt;</span> n; k<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                    sum[k] <span style=color:#f92672>+=</span> A[j][k];
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                set<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> st{<span style=color:#ae81ff>0</span>};
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> s <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;</span>e : sum) {
</span></span><span style=display:flex><span>                    s <span style=color:#f92672>+=</span> e;
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> st.lower_bound(s <span style=color:#f92672>-</span> k);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> (it <span style=color:#f92672>!=</span> st.end()) {
</span></span><span style=display:flex><span>                        ans <span style=color:#f92672>=</span> max(ans, s <span style=color:#f92672>-</span> <span style=color:#f92672>*</span>it);
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                    st.insert(s);
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ans;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=最大整除子集-dp>最大整除子集-dp</h3><p><a href=https://leetcode-cn.com/problems/largest-divisible-subset/>题目链接</a></p><h4 id=解题思路-4>解题思路</h4><ul><li>前提：升序</li><li>状态集合：$f[i]$表示最大元素为$nums[i]$的有效解子集</li><li>属性：有效子集大小</li><li>状态计算：$f[i]=max(f[i], f[j]+1), j=0..i-1$</li><li>倒序遍历$f$找到集合元素</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(n^2)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-111>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>largestDivisibleSubset</span>(<span style=color:#a6e22e>nums</span> []<span style=color:#66d9ef>int</span>) []<span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sort</span>.<span style=color:#a6e22e>Ints</span>(<span style=color:#a6e22e>nums</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>nums</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>f</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>maxLen</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>f</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> &lt; <span style=color:#a6e22e>i</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>%</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>j</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] = max(<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>j</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>maxLen</span> = max(<span style=color:#a6e22e>maxLen</span>, <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>maxLen</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>end</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>maxLen</span> &gt; <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>--</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>maxLen</span> <span style=color:#f92672>&amp;&amp;</span> (<span style=color:#a6e22e>end</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>ans</span>[<span style=color:#a6e22e>maxLen</span>] <span style=color:#f92672>%</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>ans</span>[<span style=color:#a6e22e>maxLen</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] = <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>end</span> = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>maxLen</span><span style=color:#f92672>--</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> max(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=整数拆分-完全背包>整数拆分-完全背包</h3><p><a href=https://www.acwing.com/problem/content/3385/>题目链接</a></p><h4 id=思路-79>思路</h4><p>完全背包</p><ul><li>状态表示：$f[i]$表示$i$的不同拆分方式数</li><li>状态计算：$f[i]=f[j]+f[j-2^i], 0 \le 2^i \le n$</li></ul><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(nlogn)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-112>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> (
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>N</span> = <span style=color:#ae81ff>1e6</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mod</span> = <span style=color:#ae81ff>1e9</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> (
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> [<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>] = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;&lt;</span><span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;&lt;</span><span style=color:#a6e22e>i</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>j</span>] = (<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>j</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>j</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;&lt;</span><span style=color:#a6e22e>i</span>]) <span style=color:#f92672>%</span> <span style=color:#a6e22e>mod</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>n</span>])
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> max(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=组合总和iv-dp>组合总和IV-DP</h3><p><a href=https://leetcode-cn.com/problems/combination-sum-iv/>题目链接</a></p><h4 id=思路-80>思路</h4><p>考虑顺序背包->先枚举体积，再枚举物品</p><table><thead><tr><th>时间复杂度</th><th>空间复杂度</th></tr></thead><tbody><tr><td>$O(mn)$</td><td>$O(n)$</td></tr></tbody></table><h4 id=代码-113>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>combinationSum4</span>(<span style=color:#a6e22e>nums</span> []<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>target</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>target</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span>[<span style=color:#ae81ff>0</span>] = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>target</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>nums</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>&gt;=</span> <span style=color:#a6e22e>v</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>+=</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#a6e22e>v</span>]
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>f</span>[<span style=color:#a6e22e>target</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=最大的和-前缀和滑动窗口>最大的和-前缀和&滑动窗口</h3><p><a href=https://www.acwing.com/problem/content/3496/>题目连接</a></p><h4 id=代码-114>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>N</span> = <span style=color:#ae81ff>1e5</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> (
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>k</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>A</span> [<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>B</span> [<span style=color:#a6e22e>N</span>]<span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>k</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sum</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Scan</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>sum</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>sum</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>&gt;=</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>&amp;&amp;</span> !<span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#a6e22e>k</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>sum</span> <span style=color:#f92672>-=</span> <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#a6e22e>k</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ans</span> = max(<span style=color:#a6e22e>ans</span>, <span style=color:#a6e22e>sum</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>ans</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> max(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span> &gt; <span style=color:#a6e22e>b</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=八数码-a>八数码-A*</h3><p><a href=https://www.acwing.com/problem/content/description/181/>题目链接</a></p><h4 id=代码-115>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;string&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;unordered_map&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> dx[] <span style=color:#f92672>=</span> {<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>}, dy[] <span style=color:#f92672>=</span> {<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> string go <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;urdl&#34;</span>;
</span></span><span style=display:flex><span>string s, t <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;12345678x&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_f</span>(<span style=color:#66d9ef>const</span> string <span style=color:#f92672>&amp;</span>sts, <span style=color:#66d9ef>int</span> g) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> f <span style=color:#f92672>=</span> g;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (sts[i] <span style=color:#f92672>!=</span> t[i]) {
</span></span><span style=display:flex><span>            f<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> f;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>unordered_map<span style=color:#f92672>&lt;</span>string, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> mp;
</span></span><span style=display:flex><span>priority_queue<span style=color:#f92672>&lt;</span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, string<span style=color:#f92672>&gt;&gt;</span> que;
</span></span><span style=display:flex><span>unordered_map<span style=color:#f92672>&lt;</span>string, pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>char</span>, string<span style=color:#f92672>&gt;&gt;</span> path;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_x</span>(<span style=color:#66d9ef>const</span> string <span style=color:#f92672>&amp;</span>sts) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (sts[i] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;x&#39;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> i;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>const</span> string <span style=color:#f92672>&amp;</span>tmp) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>path.count(tmp))
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>    dfs(path[tmp].second);
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%c&#34;</span>, path[tmp].first);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>const</span> string <span style=color:#f92672>&amp;</span>tmp) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (tmp[i] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;x&#39;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (tmp[j] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;x&#39;</span> <span style=color:#f92672>&amp;&amp;</span> tmp[i] <span style=color:#f92672>&gt;</span> tmp[j])
</span></span><span style=display:flex><span>                cnt<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (cnt <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>bfs</span>() {
</span></span><span style=display:flex><span>    que.push({<span style=color:#ae81ff>0</span>, s});
</span></span><span style=display:flex><span>    mp[s] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>check(s)) {
</span></span><span style=display:flex><span>        puts(<span style=color:#e6db74>&#34;unsolvable&#34;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (que.size()) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> [_, sts] <span style=color:#f92672>=</span> que.top();
</span></span><span style=display:flex><span>        que.pop();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (sts <span style=color:#f92672>==</span> t) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> idx <span style=color:#f92672>=</span> get_x(sts);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> x <span style=color:#f92672>=</span> idx <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>, y <span style=color:#f92672>=</span> idx <span style=color:#f92672>%</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> cp <span style=color:#f92672>=</span> sts;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> nx <span style=color:#f92672>=</span> x <span style=color:#f92672>+</span> dx[i], ny <span style=color:#f92672>=</span> y <span style=color:#f92672>+</span> dy[i];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (nx <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> nx <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>&amp;&amp;</span> ny <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> ny <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>2</span>) {
</span></span><span style=display:flex><span>                swap(cp[nx <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>+</span> ny], cp[idx]);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (mp.count(cp))
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>                path[cp] <span style=color:#f92672>=</span> {go[i], sts};
</span></span><span style=display:flex><span>                mp[cp] <span style=color:#f92672>=</span> mp[sts] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>                que.push({<span style=color:#f92672>-</span>get_f(cp, mp[cp]), cp});
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    dfs(t);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>char</span> tmp;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> tmp;
</span></span><span style=display:flex><span>        s <span style=color:#f92672>+=</span> tmp;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    bfs();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=最长递增子序列的个数-lis>最长递增子序列的个数-LIS</h3><p><a href=https://leetcode-cn.com/problems/number-of-longest-increasing-subsequence/>题目链接</a></p><h4 id=代码-116>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>findNumberOfLIS</span>(<span style=color:#a6e22e>nums</span> []<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>nums</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dp</span>, <span style=color:#a6e22e>cnt</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>), make([]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>maxLen</span>, <span style=color:#a6e22e>ans</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>nums</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> &lt; <span style=color:#a6e22e>i</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>i</span>] &gt; <span style=color:#a6e22e>nums</span>[<span style=color:#a6e22e>j</span>] {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>j</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> &gt; <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>j</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>j</span>]
</span></span><span style=display:flex><span>                } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>j</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>+=</span> <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>j</span>]
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>maxLen</span> &lt; <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>maxLen</span> = <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>ans</span> = <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>maxLen</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>dp</span>[<span style=color:#a6e22e>i</span>] {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>ans</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>cnt</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ans</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=牛的学术圈子i-二分>牛的学术圈子I-二分</h3><p><a href=https://www.acwing.com/problem/content/3748/>题目链接</a></p><h4 id=代码-117>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;vector&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;climits&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> std<span style=color:#f92672>::</span>cin;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, l;
</span></span><span style=display:flex><span>std<span style=color:#f92672>::</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> cite;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>check</span>(<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> <span style=color:#f92672>&amp;</span>mid) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;</span>e : cite) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (e <span style=color:#f92672>&gt;=</span> mid) {
</span></span><span style=display:flex><span>            cnt<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> cnt <span style=color:#f92672>&gt;=</span> mid;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>binary_search</span>(<span style=color:#66d9ef>int</span> l, <span style=color:#66d9ef>int</span> r) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> mid <span style=color:#f92672>=</span> (l <span style=color:#f92672>+</span> r <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (check(mid)) {
</span></span><span style=display:flex><span>            l <span style=color:#f92672>=</span> mid;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            r <span style=color:#f92672>=</span> mid <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> l;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> l;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    cite.resize(n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> max_cite <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> min_cite <span style=color:#f92672>=</span> INT_MAX;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;&amp;</span> e : cite) {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> e;
</span></span><span style=display:flex><span>        max_cite <span style=color:#f92672>=</span> std<span style=color:#f92672>::</span>max(max_cite, e);
</span></span><span style=display:flex><span>        min_cite <span style=color:#f92672>=</span> std<span style=color:#f92672>::</span>min(min_cite, e);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>auto</span> res <span style=color:#f92672>=</span> binary_search(min_cite, max_cite);
</span></span><span style=display:flex><span>    sort(begin(cite), end(cite));
</span></span><span style=display:flex><span>    max_cite <span style=color:#f92672>+=</span> l;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> cite.rbegin(); it <span style=color:#f92672>!=</span> cite.rend(); it<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (l <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>*</span>it <span style=color:#f92672>&lt;=</span> res) {
</span></span><span style=display:flex><span>            (<span style=color:#f92672>*</span>it)<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>            l<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    res <span style=color:#f92672>=</span> binary_search(min_cite, max_cite);
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, res);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=牛年-同余>牛年-同余</h3><p><a href=https://www.acwing.com/problem/content/3373/>题目链接</a></p><h4 id=代码-118>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;array&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;string&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;unordered_map&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> std<span style=color:#f92672>::</span>cin;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> std<span style=color:#f92672>::</span>unordered_map<span style=color:#f92672>&lt;</span>std<span style=color:#f92672>::</span>string, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> zodiac_map <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    {<span style=color:#e6db74>&#34;Ox&#34;</span>, <span style=color:#ae81ff>0</span>},      {<span style=color:#e6db74>&#34;Tiger&#34;</span>, <span style=color:#ae81ff>1</span>}, {<span style=color:#e6db74>&#34;Rabbit&#34;</span>, <span style=color:#ae81ff>2</span>}, {<span style=color:#e6db74>&#34;Dragon&#34;</span>, <span style=color:#ae81ff>3</span>},
</span></span><span style=display:flex><span>    {<span style=color:#e6db74>&#34;Snake&#34;</span>, <span style=color:#ae81ff>4</span>},   {<span style=color:#e6db74>&#34;Horse&#34;</span>, <span style=color:#ae81ff>5</span>}, {<span style=color:#e6db74>&#34;Goat&#34;</span>, <span style=color:#ae81ff>6</span>},   {<span style=color:#e6db74>&#34;Monkey&#34;</span>, <span style=color:#ae81ff>7</span>},
</span></span><span style=display:flex><span>    {<span style=color:#e6db74>&#34;Rooster&#34;</span>, <span style=color:#ae81ff>8</span>}, {<span style=color:#e6db74>&#34;Dog&#34;</span>, <span style=color:#ae81ff>9</span>},   {<span style=color:#e6db74>&#34;Pig&#34;</span>, <span style=color:#ae81ff>10</span>},   {<span style=color:#e6db74>&#34;Rat&#34;</span>, <span style=color:#ae81ff>11</span>},
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>std<span style=color:#f92672>::</span>unordered_map<span style=color:#f92672>&lt;</span>std<span style=color:#f92672>::</span>string, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> year;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> n;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    year[<span style=color:#e6db74>&#34;Bessie&#34;</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; <span style=color:#f92672>++</span>i) {
</span></span><span style=display:flex><span>        std<span style=color:#f92672>::</span>array<span style=color:#f92672>&lt;</span>std<span style=color:#f92672>::</span>string, <span style=color:#ae81ff>8</span><span style=color:#f92672>&gt;</span> strs;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>auto</span> <span style=color:#f92672>&amp;&amp;</span>str : strs) {
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> str;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (strs[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;previous&#34;</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> x <span style=color:#f92672>=</span> year[strs[<span style=color:#ae81ff>7</span>]];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> zodiac <span style=color:#f92672>=</span> zodiac_map.find(strs[<span style=color:#ae81ff>4</span>])<span style=color:#f92672>-&gt;</span>second;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> r <span style=color:#f92672>=</span> ((x <span style=color:#f92672>-</span> zodiac) <span style=color:#f92672>%</span> <span style=color:#ae81ff>12</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>12</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>12</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (r <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>                r <span style=color:#f92672>=</span> <span style=color:#ae81ff>12</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            year[strs[<span style=color:#ae81ff>0</span>]] <span style=color:#f92672>=</span> x <span style=color:#f92672>-</span> r;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> x <span style=color:#f92672>=</span> year[strs[<span style=color:#ae81ff>7</span>]];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span> zodiac <span style=color:#f92672>=</span> zodiac_map.find(strs[<span style=color:#ae81ff>4</span>])<span style=color:#f92672>-&gt;</span>second;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>auto</span> r <span style=color:#f92672>=</span> ((zodiac <span style=color:#f92672>-</span> x) <span style=color:#f92672>%</span> <span style=color:#ae81ff>12</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>12</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>12</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (r <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>                r <span style=color:#f92672>=</span> <span style=color:#ae81ff>12</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            year[strs[<span style=color:#ae81ff>0</span>]] <span style=color:#f92672>=</span> x <span style=color:#f92672>+</span> r;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, std<span style=color:#f92672>::</span>abs(year[<span style=color:#e6db74>&#34;Elsie&#34;</span>]));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=找出缺失的观测数据>找出缺失的观测数据</h3><p><a href=https://leetcode-cn.com/problems/find-missing-observations/>题目链接</a></p><h4 id=代码-119>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>impl</span> Solution {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>missing_rolls</span>(rolls: Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>, mean: <span style=color:#66d9ef>i32</span>, n: <span style=color:#66d9ef>i32</span>) -&gt; Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> m <span style=color:#f92672>=</span> rolls.len() <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>i32</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> left <span style=color:#f92672>=</span> mean <span style=color:#f92672>*</span> (m <span style=color:#f92672>+</span> n) <span style=color:#f92672>-</span> rolls.iter().sum::<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> ave <span style=color:#f92672>=</span> left <span style=color:#f92672>/</span> n;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> remainder <span style=color:#f92672>=</span> left <span style=color:#f92672>%</span> n;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> ave <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> ave <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>6</span> <span style=color:#f92672>||</span> ave <span style=color:#f92672>==</span> <span style=color:#ae81ff>6</span> <span style=color:#f92672>&amp;&amp;</span> remainder <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>vec!</span>[];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> res <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec!</span>[ave; n <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> item <span style=color:#66d9ef>in</span> res.iter_mut().take(remainder <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>) {
</span></span><span style=display:flex><span>            <span style=color:#f92672>*</span>item <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        res
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>missingRolls</span>(<span style=color:#a6e22e>rolls</span>: <span style=color:#66d9ef>number</span>[], <span style=color:#a6e22e>mean</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>n</span>: <span style=color:#66d9ef>number</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span>[] {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>m</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rolls</span>.<span style=color:#a6e22e>length</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>left</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>mean</span> <span style=color:#f92672>*</span> (<span style=color:#a6e22e>m</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>n</span>) <span style=color:#f92672>-</span> <span style=color:#a6e22e>rolls</span>.<span style=color:#a6e22e>reduce</span>((<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>b</span>)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>ave</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>left</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>remainder</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>left</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>n</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>ave</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>ave</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>6</span> <span style=color:#f92672>||</span> (<span style=color:#a6e22e>ave</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>6</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>remainder</span> <span style=color:#f92672>!==</span> <span style=color:#ae81ff>0</span>))
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> []
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>missing</span> <span style=color:#f92672>=</span> Array.<span style=color:#66d9ef>from</span>({ <span style=color:#a6e22e>length</span>: <span style=color:#66d9ef>n</span> }, (<span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>i</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>ave</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>remainder</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>1</span> : <span style=color:#66d9ef>0</span>))
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>missing</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=如果相邻两个颜色均相同则删除当前颜色>如果相邻两个颜色均相同则删除当前颜色</h3><p><a href=https://leetcode-cn.com/problems/remove-colored-pieces-if-both-neighbors-are-the-same-color/>题目链接</a></p><h4 id=代码-120>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> winnerOfGame(string colors) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> freq[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> {<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>};
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>char</span> cur <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;C&#39;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>char</span> c : colors) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (c <span style=color:#f92672>!=</span> cur) {
</span></span><span style=display:flex><span>                cur <span style=color:#f92672>=</span> c;
</span></span><span style=display:flex><span>                cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (cnt<span style=color:#f92672>++</span>; cnt <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>3</span>) {
</span></span><span style=display:flex><span>                <span style=color:#f92672>++</span>freq[cur <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;A&#39;</span>];
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }            
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> freq[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&gt;</span> freq[<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=考试的最大困扰度>考试的最大困扰度</h3><p><a href=https://leetcode-cn.com/problems/maximize-the-confusion-of-an-exam/>题目链接</a></p><h4 id=思路-81>思路</h4><p><strong>双指针</strong></p><ul><li>枚举右指针，计算 <code>answer_key[left, right]</code> 中另一个字符出现的次数 $s$</li><li>当 $s$ 大于 $k$，左端点右移</li><li>维护最大窗口长度</li></ul><h4 id=代码-121>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>impl</span> Solution {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>max_consecutive_answers</span>(answer_key: String, k: <span style=color:#66d9ef>i32</span>) -&gt; <span style=color:#66d9ef>i32</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> answer_key <span style=color:#f92672>=</span> answer_key.chars().collect::<span style=color:#f92672>&lt;</span>Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>char</span><span style=color:#f92672>&gt;&gt;</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>help</span>(answer_key: <span style=color:#66d9ef>&amp;</span>[<span style=color:#66d9ef>char</span>], k: <span style=color:#66d9ef>i32</span>, ch: <span style=color:#66d9ef>char</span>) -&gt; <span style=color:#66d9ef>i32</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> s <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> left <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> max <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> right <span style=color:#66d9ef>in</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>..</span>answer_key.len() {
</span></span><span style=display:flex><span>                s <span style=color:#f92672>+=</span> (answer_key[right] <span style=color:#f92672>==</span> ch) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>i32</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>while</span> s <span style=color:#f92672>&gt;</span> k {
</span></span><span style=display:flex><span>                    s <span style=color:#f92672>-=</span> (answer_key[left] <span style=color:#f92672>==</span> ch) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>i32</span>;
</span></span><span style=display:flex><span>                    left <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                max <span style=color:#f92672>=</span> max.max((right <span style=color:#f92672>-</span> left <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>i32</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            max
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        help(<span style=color:#f92672>&amp;</span>answer_key, k, <span style=color:#e6db74>&#39;T&#39;</span>).max(help(<span style=color:#f92672>&amp;</span>answer_key, k, <span style=color:#e6db74>&#39;F&#39;</span>))
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=区域和检索-数组可修改>区域和检索-数组可修改</h3><p><a href=https://leetcode-cn.com/problems/range-sum-query-mutable/>题目链接</a></p><h4 id=思路-82>思路</h4><p><strong>线段树</strong>裸题</p><h4 id=代码-122>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>use</span> std::ops::{Add, AddAssign};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>/// This stucture implements a segmented tree that
</span></span></span><span style=display:flex><span><span style=color:#e6db74>/// can efficiently answer range queries on arrays.
</span></span></span><span style=display:flex><span><span style=color:#e6db74></span><span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>SegmentTree</span><span style=color:#f92672>&lt;</span>T: Default <span style=color:#f92672>+</span> Add <span style=color:#f92672>+</span> Copy<span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>    len: <span style=color:#66d9ef>usize</span>,
</span></span><span style=display:flex><span>    buf: Vec<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>impl</span><span style=color:#f92672>&lt;</span>T: Default <span style=color:#f92672>+</span> Add<span style=color:#f92672>&lt;</span>Output <span style=color:#f92672>=</span> T<span style=color:#f92672>&gt;</span> <span style=color:#f92672>+</span> AddAssign <span style=color:#f92672>+</span> Copy<span style=color:#f92672>&gt;</span> SegmentTree<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>/// function to build the tree
</span></span></span><span style=display:flex><span><span style=color:#e6db74></span>    <span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>from_vec</span>(arr: <span style=color:#66d9ef>&amp;</span>[T]) -&gt; <span style=color:#a6e22e>Self</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> len <span style=color:#f92672>=</span> arr.len();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> buf: Vec<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec!</span>[T::default(); <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> len];
</span></span><span style=display:flex><span>        buf[len<span style=color:#f92672>..</span>(len <span style=color:#f92672>+</span> len)].clone_from_slice(<span style=color:#f92672>&amp;</span>arr[<span style=color:#ae81ff>0</span><span style=color:#f92672>..</span>len]);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> i <span style=color:#66d9ef>in</span> (<span style=color:#ae81ff>1</span><span style=color:#f92672>..</span>len).rev() {
</span></span><span style=display:flex><span>            buf[i] <span style=color:#f92672>=</span> buf[<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> i] <span style=color:#f92672>+</span> buf[<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        SegmentTree { len, buf }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>/// function to get sum on interval [l, r]
</span></span></span><span style=display:flex><span><span style=color:#e6db74></span>    <span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>query</span>(<span style=color:#f92672>&amp;</span>self, <span style=color:#66d9ef>mut</span> l: <span style=color:#66d9ef>usize</span>, <span style=color:#66d9ef>mut</span> r: <span style=color:#66d9ef>usize</span>) -&gt; <span style=color:#a6e22e>T</span> {
</span></span><span style=display:flex><span>        l <span style=color:#f92672>+=</span> self.len;
</span></span><span style=display:flex><span>        r <span style=color:#f92672>+=</span> self.len;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> res <span style=color:#f92672>=</span> T::default();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> l <span style=color:#f92672>&lt;=</span> r {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> l <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>                res <span style=color:#f92672>+=</span> self.buf[l];
</span></span><span style=display:flex><span>                l <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> r <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>                res <span style=color:#f92672>+=</span> self.buf[r];
</span></span><span style=display:flex><span>                r <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            l <span style=color:#f92672>/=</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>            r <span style=color:#f92672>/=</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        res
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>/// function to update a tree node
</span></span></span><span style=display:flex><span><span style=color:#e6db74></span>    <span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>update</span>(<span style=color:#f92672>&amp;</span><span style=color:#66d9ef>mut</span> self, <span style=color:#66d9ef>mut</span> idx: <span style=color:#66d9ef>usize</span>, val: <span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>        idx <span style=color:#f92672>+=</span> self.len;
</span></span><span style=display:flex><span>        self.buf[idx] <span style=color:#f92672>=</span> val;
</span></span><span style=display:flex><span>        idx <span style=color:#f92672>/=</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> idx <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            self.buf[idx] <span style=color:#f92672>=</span> self.buf[<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> idx] <span style=color:#f92672>+</span> self.buf[<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> idx <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>            idx <span style=color:#f92672>/=</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>NumArray</span> {
</span></span><span style=display:flex><span>    segment_tree: <span style=color:#a6e22e>SegmentTree</span><span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>impl</span> NumArray {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>new</span>(nums: Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>) -&gt; <span style=color:#a6e22e>Self</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> segment_tree <span style=color:#f92672>=</span> SegmentTree::from_vec(<span style=color:#f92672>&amp;</span>nums);
</span></span><span style=display:flex><span>        NumArray { segment_tree }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>update</span>(<span style=color:#f92672>&amp;</span><span style=color:#66d9ef>mut</span> self, index: <span style=color:#66d9ef>i32</span>, val: <span style=color:#66d9ef>i32</span>) {
</span></span><span style=display:flex><span>        self.segment_tree.update(index <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>, val);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>sum_range</span>(<span style=color:#f92672>&amp;</span>self, left: <span style=color:#66d9ef>i32</span>, right: <span style=color:#66d9ef>i32</span>) -&gt; <span style=color:#66d9ef>i32</span> {
</span></span><span style=display:flex><span>        self.segment_tree.query(left <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>, right <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>usize</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=两棵二叉搜索树中的所有元素>两棵二叉搜索树中的所有元素</h3><p><a href=https://leetcode-cn.com/problems/all-elements-in-two-binary-search-trees/>题目链接</a></p><h4 id=思路-83>思路</h4><p>中序遍历 + 归并</p><h4 id=代码-123>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>use</span> std::cell::RefCell;
</span></span><span style=display:flex><span><span style=color:#66d9ef>use</span> std::rc::Rc;
</span></span><span style=display:flex><span><span style=color:#66d9ef>impl</span> Solution {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>get_all_elements</span>(
</span></span><span style=display:flex><span>        root1: Option<span style=color:#f92672>&lt;</span>Rc<span style=color:#f92672>&lt;</span>RefCell<span style=color:#f92672>&lt;</span>TreeNode<span style=color:#f92672>&gt;&gt;&gt;</span>,
</span></span><span style=display:flex><span>        root2: Option<span style=color:#f92672>&lt;</span>Rc<span style=color:#f92672>&lt;</span>RefCell<span style=color:#f92672>&lt;</span>TreeNode<span style=color:#f92672>&gt;&gt;&gt;</span>,
</span></span><span style=display:flex><span>    ) -&gt; Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>dfs</span>(root: Option<span style=color:#f92672>&lt;</span>Rc<span style=color:#f92672>&lt;</span>RefCell<span style=color:#f92672>&lt;</span>TreeNode<span style=color:#f92672>&gt;&gt;&gt;</span>, res: <span style=color:#66d9ef>&amp;</span><span style=color:#a6e22e>mut</span> Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>let</span> Some(node) <span style=color:#f92672>=</span> root {
</span></span><span style=display:flex><span>                dfs(node.borrow().left.clone(), res);
</span></span><span style=display:flex><span>                res.push(node.borrow().val);
</span></span><span style=display:flex><span>                dfs(node.borrow().right.clone(), res);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> res1 <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec!</span>[];
</span></span><span style=display:flex><span>        dfs(root1, <span style=color:#f92672>&amp;</span><span style=color:#66d9ef>mut</span> res1);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> res2 <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec!</span>[];
</span></span><span style=display:flex><span>        dfs(root2, <span style=color:#f92672>&amp;</span><span style=color:#66d9ef>mut</span> res2);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> merged <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec!</span>[<span style=color:#ae81ff>0</span>; res1.len() <span style=color:#f92672>+</span> res2.len()];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> i <span style=color:#f92672>&lt;</span> res1.len() <span style=color:#f92672>&amp;&amp;</span> j <span style=color:#f92672>&lt;</span> res2.len() {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> res1[i] <span style=color:#f92672>&lt;</span> res2[j] {
</span></span><span style=display:flex><span>                merged[k] <span style=color:#f92672>=</span> res1[i];
</span></span><span style=display:flex><span>                i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                merged[k] <span style=color:#f92672>=</span> res2[j];
</span></span><span style=display:flex><span>                j <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            k <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> i <span style=color:#f92672>&lt;</span> res1.len() {
</span></span><span style=display:flex><span>            merged[k] <span style=color:#f92672>=</span> res1[i];
</span></span><span style=display:flex><span>            i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            k <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> j <span style=color:#f92672>&lt;</span> res2.len() {
</span></span><span style=display:flex><span>            merged[k] <span style=color:#f92672>=</span> res2[j];
</span></span><span style=display:flex><span>            j <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            k <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        merged
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getAllElements</span>(<span style=color:#a6e22e>root1</span>: <span style=color:#66d9ef>TreeNode</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>null</span>, <span style=color:#a6e22e>root2</span>: <span style=color:#66d9ef>TreeNode</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>null</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span>[] {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>root</span>: <span style=color:#66d9ef>TreeNode</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>null</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span>[] {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>root</span> <span style=color:#f92672>===</span> <span style=color:#66d9ef>null</span>) <span style=color:#66d9ef>return</span> []
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>left</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>left</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>right</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>right</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> [...<span style=color:#a6e22e>left</span>, <span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>val</span>, ...<span style=color:#a6e22e>right</span>]
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>arr1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>root1</span>)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>arr2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#a6e22e>root2</span>)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>while</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>arr1</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>arr2</span>.<span style=color:#a6e22e>length</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>arr1</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>arr2</span>[<span style=color:#a6e22e>j</span>]) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>arr1</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>arr2</span>[<span style=color:#a6e22e>j</span>])
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>while</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>arr1</span>.<span style=color:#a6e22e>length</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>arr1</span>[<span style=color:#a6e22e>i</span>])
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>while</span> (<span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>arr2</span>.<span style=color:#a6e22e>length</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>arr2</span>[<span style=color:#a6e22e>j</span>])
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>arr</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=最近的请求次数>最近的请求次数</h3><p><a href=https://leetcode-cn.com/problems/number-of-recent-calls/>题目链接</a></p><h4 id=思路-84>思路</h4><p>使用队列来维护最近 $3000$ 个请求的时间</p><h4 id=代码-124>代码</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>use</span> std::collections::VecDeque;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>RecentCounter</span> {
</span></span><span style=display:flex><span>    pings: <span style=color:#a6e22e>VecDeque</span><span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>impl</span> RecentCounter {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>new</span>() -&gt; <span style=color:#a6e22e>Self</span> {
</span></span><span style=display:flex><span>        Self {
</span></span><span style=display:flex><span>            pings: <span style=color:#a6e22e>VecDeque</span>::new(),
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>ping</span>(<span style=color:#f92672>&amp;</span><span style=color:#66d9ef>mut</span> self, t: <span style=color:#66d9ef>i32</span>) -&gt; <span style=color:#66d9ef>i32</span> {
</span></span><span style=display:flex><span>        self.pings.push_back(t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>let</span> Some(x) <span style=color:#f92672>=</span> self.pings.front() {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> x <span style=color:#f92672>+</span> <span style=color:#ae81ff>3000</span> <span style=color:#f92672>&lt;</span> t {
</span></span><span style=display:flex><span>                self.pings.pop_front();
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        self.pings.len() <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>i32</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>RecentCounter</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pings</span>: <span style=color:#66d9ef>number</span>[] <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>constructor</span>() { }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ping</span>(<span style=color:#a6e22e>t</span>: <span style=color:#66d9ef>number</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pings</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>t</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pings</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>t</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>3000</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pings</span>.<span style=color:#a6e22e>shift</span>()
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pings</span>.<span style=color:#a6e22e>length</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><footer class="mt-12 flex flex-wrap"><a class="mb-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] ltr:mr-1.5 rtl:ml-1.5 dark:bg-white/[8%] dark:hover:bg-white/[12%]" href=https://fffzlfk.github.io/tags/c++>C++</a><a class="mb-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] ltr:mr-1.5 rtl:ml-1.5 dark:bg-white/[8%] dark:hover:bg-white/[12%]" href=https://fffzlfk.github.io/tags/golang>Golang</a></footer><div class="giscus mt-24"></div><script src=https://giscus.app/client.js data-repo=fffzlfk/fffzlfk.github.io data-repo-id=R_kgDOG4ERGw data-category=Q&amp;A data-category-id=DIC_kwDOG4ERG84CBP5t data-mapping=pathname data-strict=1 data-reactions-enabled=0 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></article></main><footer class="mx-auto flex h-[4.5rem] max-w-(--w) items-center px-8 text-xs tracking-wider uppercase opacity-60"><div class=mr-auto>&copy;2025
<a class=link href=https://fffzlfk.github.io/>fffzlfk's Blog</a></div><a class="link mx-6" href=https://gohugo.io/ rel=noopener target=_blank>powered by hugo️️</a>️
<a class=link href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>hugo-paper</a></footer></body></html>